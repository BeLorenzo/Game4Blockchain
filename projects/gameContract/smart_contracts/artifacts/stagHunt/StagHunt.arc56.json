{
    "name": "StagHunt",
    "structs": {
        "Object82329771": [
            {
                "name": "stags",
                "type": "uint64"
            },
            {
                "name": "hares",
                "type": "uint64"
            },
            {
                "name": "resolved",
                "type": "bool"
            },
            {
                "name": "successful",
                "type": "bool"
            },
            {
                "name": "rewardPerStag",
                "type": "uint64"
            }
        ],
        "ObjectB555233E": [
            {
                "name": "startAt",
                "type": "uint64"
            },
            {
                "name": "endCommitAt",
                "type": "uint64"
            },
            {
                "name": "endRevealAt",
                "type": "uint64"
            },
            {
                "name": "participation",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "updateGameRules",
            "args": [
                {
                    "type": "uint64",
                    "name": "newRefund",
                    "desc": "New refund percentage for Hares (0-100)."
                },
                {
                    "type": "uint64",
                    "name": "newThreshold",
                    "desc": "New threshold percentage for Stags (0-100)."
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Admin method to update game rules dynamically.\nOnly the contract creator can call this.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "createSession",
            "args": [
                {
                    "type": "(uint64,uint64,uint64,uint64)",
                    "struct": "ObjectB555233E",
                    "name": "config"
                },
                {
                    "type": "pay",
                    "name": "mbrPayment"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Creates a new game session.\nEnforces a minimum participation fee to avoid dust spam.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "joinSession",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                },
                {
                    "type": "byte[]",
                    "name": "commit"
                },
                {
                    "type": "pay",
                    "name": "payment"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Allows a player to join the session.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "revealMove",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                },
                {
                    "type": "uint64",
                    "name": "choice",
                    "desc": "0 for Hare, 1 for Stag."
                },
                {
                    "type": "byte[]",
                    "name": "salt"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Reveals a player's move.\nUpdates the live counts of Stags and Hares.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "resolveSession",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Resolves the session outcome based on the threshold.\nHandles financial logic: refunds, jackpot accumulation, or payout calculation.\nMust be called once after the reveal phase ends.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "claimWinnings",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Allows players to pull their winnings or refunds.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getRequiredMBR",
            "args": [
                {
                    "type": "string",
                    "name": "command"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Calculates the MBR for session creation.\nAllocates space for the Stats struct.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getGameType",
            "args": [],
            "returns": {
                "type": "byte[]"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Returns contract identification info.\nUsed by CLI for validation.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "initialize",
            "args": [
                {
                    "type": "string",
                    "name": "gameType"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "desc": "Implementation of the \"Stag Hunt\" (Assurance Game) with Global Jackpot.\n* Game Mechanics:\n- Players deposit a participation fee.\n- Choice 0 (Hare): Low risk. Gets a partial refund (defined by hareRefundPercent).\n- Choice 1 (Stag): High risk. Needs coordination.\n* Win Condition:\n- If % of Stags >= stagThresholdPercent: Stags share the pot + Global Jackpot.\n- If % of Stags < stagThresholdPercent: Stags lose everything. Pot goes to Global Jackpot.",
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 4,
                "bytes": 1
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "hareRefundPercent": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "aGFyZVJlZnVuZFBlcmNlbnQ=",
                    "desc": "Percentage of the deposit refunded to Hares (Default: 80%).\nThis creates the \"Safety\" incentive.\nstored in Global State to allow Admin updates."
                },
                "stagThresholdPercent": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "c3RhZ1RocmVzaG9sZFBlcmNlbnQ=",
                    "desc": "Percentage of total players required to choose Stag for a win (Default: 60%).\nThis creates the \"Coordination\" difficulty.\nstored in Global State to allow Admin updates."
                },
                "globalJackpot": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "Z2xvYmFsSmFja3BvdA==",
                    "desc": "Global Jackpot: Accumulates funds from ALL failed sessions.\nThis persistent pot increases the incentive for Stags in future games."
                },
                "gameType": {
                    "keyType": "AVMString",
                    "valueType": "AVMBytes",
                    "key": "Z2FtZVR5cGU=",
                    "desc": "Contract type identifier (e.g., 'RPS', 'STAGHUNT', 'WEEKLY', 'GUESS')\nThis allows CLI to validate contract type before operations.\n\nIMPORTANT: Subclasses MUST set this value in their implementation."
                },
                "sessionIDCounter": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "c2Vzc2lvbklEQ291bnRlcg==",
                    "desc": "Global counter for generating unique session IDs."
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "stats": {
                    "keyType": "uint64",
                    "valueType": "Object82329771",
                    "desc": "Session-specific statistics.\nKey: SessionID",
                    "prefix": "c2g="
                },
                "playerCommit": {
                    "keyType": "AVMBytes",
                    "valueType": "AVMBytes",
                    "desc": "Storage for player commits.\nKey: Hash(sessionID + playerAddress) [32 bytes + 4 bytes prefix]\nValue: Hash(choice + salt) [32 bytes]",
                    "prefix": "cGNvbQ=="
                },
                "playerChoice": {
                    "keyType": "AVMBytes",
                    "valueType": "uint64",
                    "desc": "Storage for revealed choices.\nKey: Hash(sessionID + playerAddress) [32 bytes + 4 bytes prefix]\nValue: Player Choice [8 bytes]",
                    "prefix": "cGNobw=="
                },
                "gameSessions": {
                    "keyType": "uint64",
                    "valueType": "ObjectB555233E",
                    "desc": "Configuration storage for each active session.",
                    "prefix": "Z3M="
                },
                "sessionBalances": {
                    "keyType": "uint64",
                    "valueType": "uint64",
                    "desc": "Tracks the total pot (collected participation fees) for a specific session.",
                    "prefix": "c2JhbA=="
                }
            }
        }
    },
    "bareActions": {
        "create": [
            "NoOp"
        ],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        544,
                        687,
                        812,
                        1069
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        602
                    ],
                    "errorMessage": "Choice must be 0 (Hare) or 1 (Stag)"
                },
                {
                    "pc": [
                        1293
                    ],
                    "errorMessage": "Command not supported"
                },
                {
                    "pc": [
                        494
                    ],
                    "errorMessage": "Commit phase has ended"
                },
                {
                    "pc": [
                        626
                    ],
                    "errorMessage": "Commit phase is still active"
                },
                {
                    "pc": [
                        1228
                    ],
                    "errorMessage": "Contract already initialized"
                },
                {
                    "pc": [
                        927
                    ],
                    "errorMessage": "Critical: Insolvency"
                },
                {
                    "pc": [
                        502
                    ],
                    "errorMessage": "Fee receiver must be the contract"
                },
                {
                    "pc": [
                        1073
                    ],
                    "errorMessage": "Game not resolved"
                },
                {
                    "pc": [
                        488
                    ],
                    "errorMessage": "Game session has not started yet"
                },
                {
                    "pc": [
                        514
                    ],
                    "errorMessage": "Incorrect participation fee amount"
                },
                {
                    "pc": [
                        338
                    ],
                    "errorMessage": "Insufficient MBR"
                },
                {
                    "pc": [
                        665
                    ],
                    "errorMessage": "Invalid reveal: hash mismatch"
                },
                {
                    "pc": [
                        359
                    ],
                    "errorMessage": "Invalid start time: cannot start in the past"
                },
                {
                    "pc": [
                        355
                    ],
                    "errorMessage": "Invalid timeline: commit end must be before reveal end"
                },
                {
                    "pc": [
                        348
                    ],
                    "errorMessage": "Invalid timeline: start must be before commit end"
                },
                {
                    "pc": [
                        333
                    ],
                    "errorMessage": "MBR payment receiver must be contract"
                },
                {
                    "pc": [
                        320
                    ],
                    "errorMessage": "Minimum participation is 1 ALGO"
                },
                {
                    "pc": [
                        647
                    ],
                    "errorMessage": "No commit found for this player or already revealed"
                },
                {
                    "pc": [
                        163
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        245
                    ],
                    "errorMessage": "OnCompletion must be NoOp && can only call when creating"
                },
                {
                    "pc": [
                        1234
                    ],
                    "errorMessage": "Only creator can initialize"
                },
                {
                    "pc": [
                        271
                    ],
                    "errorMessage": "Only creator can update rules"
                },
                {
                    "pc": [
                        530
                    ],
                    "errorMessage": "Player already registered in this session"
                },
                {
                    "pc": [
                        1056
                    ],
                    "errorMessage": "Player has not revealed or already claimed"
                },
                {
                    "pc": [
                        276
                    ],
                    "errorMessage": "Refund % must be <= 100"
                },
                {
                    "pc": [
                        632
                    ],
                    "errorMessage": "Reveal phase has ended"
                },
                {
                    "pc": [
                        797
                    ],
                    "errorMessage": "Reveal phase not ended"
                },
                {
                    "pc": [
                        476,
                        614,
                        784,
                        862,
                        1031
                    ],
                    "errorMessage": "Session does not exist"
                },
                {
                    "pc": [
                        280
                    ],
                    "errorMessage": "Threshold % must be <= 100"
                },
                {
                    "pc": [
                        364,
                        826,
                        833,
                        883,
                        942,
                        989,
                        1083,
                        1189,
                        1225
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        443,
                        578,
                        1163,
                        1210
                    ],
                    "errorMessage": "invalid array length header"
                },
                {
                    "pc": [
                        299
                    ],
                    "errorMessage": "invalid number of bytes for ObjectB555233E"
                },
                {
                    "pc": [
                        451,
                        586,
                        1171,
                        1218
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<arc4.uint8>"
                },
                {
                    "pc": [
                        255,
                        264,
                        436,
                        561,
                        570,
                        736,
                        1020
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        309,
                        464
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDggMTAwIDEyOCAxMjkKICAgIGJ5dGVjYmxvY2sgImdsb2JhbEphY2twb3QiICJncyIgImdhbWVUeXBlIiAiaGFyZVJlZnVuZFBlcmNlbnQiICJuZXdHYW1lIiAic2giIDB4MTUxZjdjNzUgInNlc3Npb25JRENvdW50ZXIiICJzdGFnVGhyZXNob2xkUGVyY2VudCIgInNiYWwiICJwY29tIiAicGNobyIgMHgwNjgxMDEKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjUyCiAgICAvLyBnYW1lVHlwZSA9IEdsb2JhbFN0YXRlPGJ5dGVzPih7IGluaXRpYWxWYWx1ZTogQnl0ZXMoJycpIH0pCiAgICBieXRlY18yIC8vICJnYW1lVHlwZSIKICAgIHB1c2hieXRlcyAiIgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjU3CiAgICAvLyBzZXNzaW9uSURDb3VudGVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNyAvLyAic2Vzc2lvbklEQ291bnRlciIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NDYKICAgIC8vIGhhcmVSZWZ1bmRQZXJjZW50ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogODAgfSkKICAgIGJ5dGVjXzMgLy8gImhhcmVSZWZ1bmRQZXJjZW50IgogICAgcHVzaGludCA4MCAvLyA4MAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjUzCiAgICAvLyBzdGFnVGhyZXNob2xkUGVyY2VudCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDUxIH0pCiAgICBieXRlYyA4IC8vICJzdGFnVGhyZXNob2xkUGVyY2VudCIKICAgIHB1c2hpbnQgNTEgLy8gNTEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo1OQogICAgLy8gZ2xvYmFsSmFja3BvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzAgLy8gImdsb2JhbEphY2twb3QiCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKCm1haW5fYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MzkKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFnSHVudCBleHRlbmRzIEdhbWVDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9fX2FsZ290c19fLmRlZmF1bHRDcmVhdGVAMTgKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0CiAgICBwdXNoYnl0ZXNzIDB4YWI1NzE1NjMgMHgyYzQ5YTVjZiAweDExYmI0MTY3IDB4N2U2MDAyM2MgMHhlODgzY2VhYiAweDc0YmVmODg3IDB4OWU0YTNhZTUgMHg1NjgzZWUwOCAweGVjZjMzOWU3IC8vIG1ldGhvZCAidXBkYXRlR2FtZVJ1bGVzKHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAiY3JlYXRlU2Vzc2lvbigodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSxwYXkpdWludDY0IiwgbWV0aG9kICJqb2luU2Vzc2lvbih1aW50NjQsYnl0ZVtdLHBheSl2b2lkIiwgbWV0aG9kICJyZXZlYWxNb3ZlKHVpbnQ2NCx1aW50NjQsYnl0ZVtdKXZvaWQiLCBtZXRob2QgInJlc29sdmVTZXNzaW9uKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJjbGFpbVdpbm5pbmdzKHVpbnQ2NCl1aW50NjQiLCBtZXRob2QgImdldFJlcXVpcmVkTUJSKHN0cmluZyl1aW50NjQiLCBtZXRob2QgImdldEdhbWVUeXBlKClieXRlW10iLCBtZXRob2QgImluaXRpYWxpemUoc3RyaW5nKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCB1cGRhdGVHYW1lUnVsZXMgY3JlYXRlU2Vzc2lvbiBqb2luU2Vzc2lvbiByZXZlYWxNb3ZlIHJlc29sdmVTZXNzaW9uIGNsYWltV2lubmluZ3MgZ2V0UmVxdWlyZWRNQlIgZ2V0R2FtZVR5cGUgaW5pdGlhbGl6ZQogICAgZXJyCgptYWluX19fYWxnb3RzX18uZGVmYXVsdENyZWF0ZUAxODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjM5CiAgICAvLyBleHBvcnQgY2xhc3MgU3RhZ0h1bnQgZXh0ZW5kcyBHYW1lQ29udHJhY3QgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcCAmJiBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQudXBkYXRlR2FtZVJ1bGVzW3JvdXRpbmddKCkgLT4gdm9pZDoKdXBkYXRlR2FtZVJ1bGVzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzMKICAgIC8vIHB1YmxpYyB1cGRhdGVHYW1lUnVsZXMobmV3UmVmdW5kOiB1aW50NjQsIG5ld1RocmVzaG9sZDogdWludDY0KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo3NAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywgJ09ubHkgY3JlYXRvciBjYW4gdXBkYXRlIHJ1bGVzJykKICAgIHR4biBTZW5kZXIKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3IgY2FuIHVwZGF0ZSBydWxlcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzUKICAgIC8vIGFzc2VydChuZXdSZWZ1bmQgPD0gMTAwLCAnUmVmdW5kICUgbXVzdCBiZSA8PSAxMDAnKQogICAgZGlnIDEKICAgIGludGNfMyAvLyAxMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gUmVmdW5kICUgbXVzdCBiZSA8PSAxMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjc2CiAgICAvLyBhc3NlcnQobmV3VGhyZXNob2xkIDw9IDEwMCwgJ1RocmVzaG9sZCAlIG11c3QgYmUgPD0gMTAwJykKICAgIGR1cAogICAgaW50Y18zIC8vIDEwMAogICAgPD0KICAgIGFzc2VydCAvLyBUaHJlc2hvbGQgJSBtdXN0IGJlIDw9IDEwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NDYKICAgIC8vIGhhcmVSZWZ1bmRQZXJjZW50ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogODAgfSkKICAgIGJ5dGVjXzMgLy8gImhhcmVSZWZ1bmRQZXJjZW50IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzgKICAgIC8vIHRoaXMuaGFyZVJlZnVuZFBlcmNlbnQudmFsdWUgPSBuZXdSZWZ1bmQKICAgIHVuY292ZXIgMgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjUzCiAgICAvLyBzdGFnVGhyZXNob2xkUGVyY2VudCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDUxIH0pCiAgICBieXRlYyA4IC8vICJzdGFnVGhyZXNob2xkUGVyY2VudCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjc5CiAgICAvLyB0aGlzLnN0YWdUaHJlc2hvbGRQZXJjZW50LnZhbHVlID0gbmV3VGhyZXNob2xkCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzMKICAgIC8vIHB1YmxpYyB1cGRhdGVHYW1lUnVsZXMobmV3UmVmdW5kOiB1aW50NjQsIG5ld1RocmVzaG9sZDogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmNyZWF0ZVNlc3Npb25bcm91dGluZ10oKSAtPiB2b2lkOgpjcmVhdGVTZXNzaW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6ODYKICAgIC8vIHB1YmxpYyBjcmVhdGVTZXNzaW9uKGNvbmZpZzogR2FtZUNvbmZpZywgbWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuKTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBPYmplY3RCNTU1MjMzRQogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo4NwogICAgLy8gYXNzZXJ0KGNvbmZpZy5wYXJ0aWNpcGF0aW9uID49IDFfMDAwXzAwMCwgJ01pbmltdW0gcGFydGljaXBhdGlvbiBpcyAxIEFMR08nKQogICAgZGlnIDEKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDY0CiAgICBwdXNoaW50IDEwMDAwMDAgLy8gMTAwMDAwMAogICAgPj0KICAgIGFzc2VydCAvLyBNaW5pbXVtIHBhcnRpY2lwYXRpb24gaXMgMSBBTEdPCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo4OQogICAgLy8gY29uc3QgcmVxdWlyZWRNQlIgPSB0aGlzLmdldFJlcXVpcmVkTUJSKCduZXdHYW1lJykKICAgIGJ5dGVjIDQgLy8gIm5ld0dhbWUiCiAgICBjYWxsc3ViIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjpTdGFnSHVudC5nZXRSZXF1aXJlZE1CUgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OTAKICAgIC8vIGFzc2VydChtYnJQYXltZW50LnJlY2VpdmVyID09PSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgJ01CUiBwYXltZW50IHJlY2VpdmVyIG11c3QgYmUgY29udHJhY3QnKQogICAgZGlnIDEKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBNQlIgcGF5bWVudCByZWNlaXZlciBtdXN0IGJlIGNvbnRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo5MQogICAgLy8gYXNzZXJ0KG1iclBheW1lbnQuYW1vdW50ID49IHJlcXVpcmVkTUJSLCAnSW5zdWZmaWNpZW50IE1CUicpCiAgICBzd2FwCiAgICBndHhucyBBbW91bnQKICAgIDw9CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IE1CUgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTA2CiAgICAvLyBhc3NlcnQoY29uZmlnLnN0YXJ0QXQgPD0gY29uZmlnLmVuZENvbW1pdEF0LCAnSW52YWxpZCB0aW1lbGluZTogc3RhcnQgbXVzdCBiZSBiZWZvcmUgY29tbWl0IGVuZCcpCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwMgogICAgPD0KICAgIGFzc2VydCAvLyBJbnZhbGlkIHRpbWVsaW5lOiBzdGFydCBtdXN0IGJlIGJlZm9yZSBjb21taXQgZW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMDcKICAgIC8vIGFzc2VydChjb25maWcuZW5kQ29tbWl0QXQgPCBjb25maWcuZW5kUmV2ZWFsQXQsICdJbnZhbGlkIHRpbWVsaW5lOiBjb21taXQgZW5kIG11c3QgYmUgYmVmb3JlIHJldmVhbCBlbmQnKQogICAgZGlnIDIKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICA8CiAgICBhc3NlcnQgLy8gSW52YWxpZCB0aW1lbGluZTogY29tbWl0IGVuZCBtdXN0IGJlIGJlZm9yZSByZXZlYWwgZW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMDgKICAgIC8vIGFzc2VydChjb25maWcuc3RhcnRBdCA+PSBHbG9iYWwucm91bmQsICdJbnZhbGlkIHN0YXJ0IHRpbWU6IGNhbm5vdCBzdGFydCBpbiB0aGUgcGFzdCcpCiAgICBnbG9iYWwgUm91bmQKICAgID49CiAgICBhc3NlcnQgLy8gSW52YWxpZCBzdGFydCB0aW1lOiBjYW5ub3Qgc3RhcnQgaW4gdGhlIHBhc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjExMAogICAgLy8gY29uc3Qgc2Vzc2lvbklEID0gdGhpcy5zZXNzaW9uSURDb3VudGVyLnZhbHVlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTcKICAgIC8vIHNlc3Npb25JRENvdW50ZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlYyA3IC8vICJzZXNzaW9uSURDb3VudGVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTEwCiAgICAvLyBjb25zdCBzZXNzaW9uSUQgPSB0aGlzLnNlc3Npb25JRENvdW50ZXIudmFsdWUKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTIKICAgIC8vIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShjb25maWcpCiAgICBkdXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjc2CiAgICAvLyBnYW1lU2Vzc2lvbnMgPSBCb3hNYXA8dWludDY0LCBHYW1lQ29uZmlnPih7IGtleVByZWZpeDogJ2dzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ3MiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTIKICAgIC8vIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShjb25maWcpCiAgICB1bmNvdmVyIDMKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjgxCiAgICAvLyBzZXNzaW9uQmFsYW5jZXMgPSBCb3hNYXA8dWludDY0LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnc2JhbCcgfSkKICAgIGJ5dGVjIDkgLy8gInNiYWwiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTMKICAgIC8vIHRoaXMuc2Vzc2lvbkJhbGFuY2VzKHNlc3Npb25JRCkudmFsdWUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTE0CiAgICAvLyB0aGlzLnNlc3Npb25JRENvdW50ZXIudmFsdWUgPSBzZXNzaW9uSUQgKyAxCiAgICBzd2FwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTcKICAgIC8vIHNlc3Npb25JRENvdW50ZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlYyA3IC8vICJzZXNzaW9uSURDb3VudGVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTE0CiAgICAvLyB0aGlzLnNlc3Npb25JRENvdW50ZXIudmFsdWUgPSBzZXNzaW9uSUQgKyAxCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NjUKICAgIC8vIHN0YXRzID0gQm94TWFwPHVpbnQ2NCwgU3RhZ0h1bnRTdGF0cz4oeyBrZXlQcmVmaXg6ICdzaCcgfSkKICAgIGJ5dGVjIDUgLy8gInNoIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OTUtMTAxCiAgICAvLyB0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUgPSB7CiAgICAvLyAgIHN0YWdzOiAwLAogICAgLy8gICBoYXJlczogMCwKICAgIC8vICAgcmVzb2x2ZWQ6IGZhbHNlLAogICAgLy8gICBzdWNjZXNzZnVsOiBmYWxzZSwKICAgIC8vICAgcmV3YXJkUGVyU3RhZzogMAogICAgLy8gfQogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjg2CiAgICAvLyBwdWJsaWMgY3JlYXRlU2Vzc2lvbihjb25maWc6IEdhbWVDb25maWcsIG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4bik6IHVpbnQ2NCB7CiAgICBieXRlYyA2IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmpvaW5TZXNzaW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKam9pblNlc3Npb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMDkKICAgIC8vIHB1YmxpYyBqb2luU2Vzc2lvbihzZXNzaW9uSUQ6IHVpbnQ2NCwgY29tbWl0OiBieXRlcywgcGF5bWVudDogZ3R4bi5QYXltZW50VHhuKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBwdXNoaW50IDIgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICBleHRyYWN0IDIgMAogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMjYKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cywgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3NgogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTI2CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMsICdTZXNzaW9uIGRvZXMgbm90IGV4aXN0JykKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gU2Vzc2lvbiBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTI4CiAgICAvLyBjb25zdCBjb25maWcgPSBjbG9uZSh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMjkKICAgIC8vIGNvbnN0IGN1cnJlbnRCbG9jayA9IEdsb2JhbC5yb3VuZAogICAgZ2xvYmFsIFJvdW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMzEKICAgIC8vIGFzc2VydChjdXJyZW50QmxvY2sgPj0gY29uZmlnLnN0YXJ0QXQsICdHYW1lIHNlc3Npb24gaGFzIG5vdCBzdGFydGVkIHlldCcpCiAgICBkaWcgMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgPD0KICAgIGFzc2VydCAvLyBHYW1lIHNlc3Npb24gaGFzIG5vdCBzdGFydGVkIHlldAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTMyCiAgICAvLyBhc3NlcnQoY3VycmVudEJsb2NrIDw9IGNvbmZpZy5lbmRDb21taXRBdCwgJ0NvbW1pdCBwaGFzZSBoYXMgZW5kZWQnKQogICAgZGlnIDEKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPD0KICAgIGFzc2VydCAvLyBDb21taXQgcGhhc2UgaGFzIGVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMzQKICAgIC8vIGFzc2VydChwYXltZW50LnJlY2VpdmVyID09PSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgJ0ZlZSByZWNlaXZlciBtdXN0IGJlIHRoZSBjb250cmFjdCcpCiAgICBkaWcgMgogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIEZlZSByZWNlaXZlciBtdXN0IGJlIHRoZSBjb250cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTM1CiAgICAvLyBhc3NlcnQocGF5bWVudC5hbW91bnQgPT09IGNvbmZpZy5wYXJ0aWNpcGF0aW9uLCAnSW5jb3JyZWN0IHBhcnRpY2lwYXRpb24gZmVlIGFtb3VudCcpCiAgICB1bmNvdmVyIDIKICAgIGd0eG5zIEFtb3VudAogICAgc3dhcAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIEluY29ycmVjdCBwYXJ0aWNpcGF0aW9uIGZlZSBhbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIzMAogICAgLy8gcmV0dXJuIHNoYTI1NihpdG9iKHNlc3Npb25JRCkuY29uY2F0KHBsYXllci5ieXRlcykpCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTM3CiAgICAvLyBjb25zdCBwbGF5ZXJBZGRyID0gbmV3IEFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIzMAogICAgLy8gcmV0dXJuIHNoYTI1NihpdG9iKHNlc3Npb25JRCkuY29uY2F0KHBsYXllci5ieXRlcykpCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NjQKICAgIC8vIHBsYXllckNvbW1pdCA9IEJveE1hcDxieXRlcywgYnl0ZXM+KHsga2V5UHJlZml4OiAncGNvbScgfSkKICAgIGJ5dGVjIDEwIC8vICJwY29tIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIGFzc2VydCghdGhpcy5wbGF5ZXJDb21taXQocGxheWVyS2V5KS5leGlzdHMsICdQbGF5ZXIgYWxyZWFkeSByZWdpc3RlcmVkIGluIHRoaXMgc2Vzc2lvbicpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgIQogICAgYXNzZXJ0IC8vIFBsYXllciBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhpcyBzZXNzaW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNDIKICAgIC8vIHRoaXMucGxheWVyQ29tbWl0KHBsYXllcktleSkudmFsdWUgPSBjb21taXQKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICB1bmNvdmVyIDMKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjgxCiAgICAvLyBzZXNzaW9uQmFsYW5jZXMgPSBCb3hNYXA8dWludDY0LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnc2JhbCcgfSkKICAgIGJ5dGVjIDkgLy8gInNiYWwiCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyB0aGlzLnNlc3Npb25CYWxhbmNlcyhzZXNzaW9uSUQpLnZhbHVlICs9IHBheW1lbnQuYW1vdW50CiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBidG9pCiAgICB1bmNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjEwOQogICAgLy8gcHVibGljIGpvaW5TZXNzaW9uKHNlc3Npb25JRDogdWludDY0LCBjb21taXQ6IGJ5dGVzLCBwYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQucmV2ZWFsTW92ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnJldmVhbE1vdmU6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTE4CiAgICAvLyBwdWJsaWMgcmV2ZWFsTW92ZShzZXNzaW9uSUQ6IHVpbnQ2NCwgY2hvaWNlOiB1aW50NjQsIHNhbHQ6IGJ5dGVzKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIGV4dHJhY3QgMiAwCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMTkKICAgIC8vIGFzc2VydChjaG9pY2UgPT09IDAgfHwgY2hvaWNlID09PSAxLCAnQ2hvaWNlIG11c3QgYmUgMCAoSGFyZSkgb3IgMSAoU3RhZyknKQogICAgYnogcmV2ZWFsTW92ZV9ib29sX3RydWVAMwogICAgZGlnIDEKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYnogcmV2ZWFsTW92ZV9ib29sX2ZhbHNlQDQKCnJldmVhbE1vdmVfYm9vbF90cnVlQDM6CiAgICBpbnRjXzEgLy8gMQoKcmV2ZWFsTW92ZV9ib29sX21lcmdlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMTkKICAgIC8vIGFzc2VydChjaG9pY2UgPT09IDAgfHwgY2hvaWNlID09PSAxLCAnQ2hvaWNlIG11c3QgYmUgMCAoSGFyZSkgb3IgMSAoU3RhZyknKQogICAgYXNzZXJ0IC8vIENob2ljZSBtdXN0IGJlIDAgKEhhcmUpIG9yIDEgKFN0YWcpCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNTQKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cywgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgZGlnIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjc2CiAgICAvLyBnYW1lU2Vzc2lvbnMgPSBCb3hNYXA8dWludDY0LCBHYW1lQ29uZmlnPih7IGtleVByZWZpeDogJ2dzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ3MiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNTQKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cywgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNTYKICAgIC8vIGNvbnN0IGNvbmZpZyA9IGNsb25lKHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE1NwogICAgLy8gY29uc3QgY3VycmVudEJsb2NrID0gR2xvYmFsLnJvdW5kCiAgICBnbG9iYWwgUm91bmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE1OQogICAgLy8gYXNzZXJ0KGN1cnJlbnRCbG9jayA+IGNvbmZpZy5lbmRDb21taXRBdCwgJ0NvbW1pdCBwaGFzZSBpcyBzdGlsbCBhY3RpdmUnKQogICAgZGlnIDEKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIDwKICAgIGFzc2VydCAvLyBDb21taXQgcGhhc2UgaXMgc3RpbGwgYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNjAKICAgIC8vIGFzc2VydChjdXJyZW50QmxvY2sgPD0gY29uZmlnLmVuZFJldmVhbEF0LCAnUmV2ZWFsIHBoYXNlIGhhcyBlbmRlZCcpCiAgICBzd2FwCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPD0KICAgIGFzc2VydCAvLyBSZXZlYWwgcGhhc2UgaGFzIGVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMzAKICAgIC8vIHJldHVybiBzaGEyNTYoaXRvYihzZXNzaW9uSUQpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNjIKICAgIC8vIGNvbnN0IHBsYXllckFkZHIgPSBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2NAogICAgLy8gcGxheWVyQ29tbWl0ID0gQm94TWFwPGJ5dGVzLCBieXRlcz4oeyBrZXlQcmVmaXg6ICdwY29tJyB9KQogICAgYnl0ZWMgMTAgLy8gInBjb20iCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNjUKICAgIC8vIGFzc2VydCh0aGlzLnBsYXllckNvbW1pdChwbGF5ZXJLZXkpLmV4aXN0cywgJ05vIGNvbW1pdCBmb3VuZCBmb3IgdGhpcyBwbGF5ZXIgb3IgYWxyZWFkeSByZXZlYWxlZCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIE5vIGNvbW1pdCBmb3VuZCBmb3IgdGhpcyBwbGF5ZXIgb3IgYWxyZWFkeSByZXZlYWxlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTY3CiAgICAvLyBjb25zdCBzdG9yZWRDb21taXQgPSB0aGlzLnBsYXllckNvbW1pdChwbGF5ZXJLZXkpLnZhbHVlCiAgICBkdXAKICAgIGJveF9nZXQKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTY4CiAgICAvLyBjb25zdCBjb21wdXRlZENvbW1pdCA9IHNoYTI1NihpdG9iKGNob2ljZSkuY29uY2F0KHNhbHQpKQogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgNAogICAgaXRvYgogICAgZHVwCiAgICBkaWcgNwogICAgY29uY2F0CiAgICBzaGEyNTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE3MAogICAgLy8gYXNzZXJ0KGNvbXB1dGVkQ29tbWl0ID09PSBzdG9yZWRDb21taXQsICdJbnZhbGlkIHJldmVhbDogaGFzaCBtaXNtYXRjaCcpCiAgICB1bmNvdmVyIDIKICAgID09CiAgICBhc3NlcnQgLy8gSW52YWxpZCByZXZlYWw6IGhhc2ggbWlzbWF0Y2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjcxCiAgICAvLyBwbGF5ZXJDaG9pY2UgPSBCb3hNYXA8Ynl0ZXMsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6ICdwY2hvJyB9KQogICAgYnl0ZWMgMTEgLy8gInBjaG8iCiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTcyCiAgICAvLyB0aGlzLnBsYXllckNob2ljZShwbGF5ZXJLZXkpLnZhbHVlID0gY2hvaWNlCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNzMKICAgIC8vIHRoaXMucGxheWVyQ29tbWl0KHBsYXllcktleSkuZGVsZXRlKCkKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NjUKICAgIC8vIHN0YXRzID0gQm94TWFwPHVpbnQ2NCwgU3RhZ0h1bnRTdGF0cz4oeyBrZXlQcmVmaXg6ICdzaCcgfSkKICAgIGJ5dGVjIDUgLy8gInNoIgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIGR1cAogICAgYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMjIKICAgIC8vIGNvbnN0IHN0YXRzID0gY2xvbmUodGhpcy5zdGF0cyhzZXNzaW9uSUQpLnZhbHVlKQogICAgYm94X2dldAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjEyMwogICAgLy8gaWYgKGNob2ljZSA9PT0gMSkgc3RhdHMuc3RhZ3MgKz0gMQogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBieiByZXZlYWxNb3ZlX2Vsc2VfYm9keUA3CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDAKCnJldmVhbE1vdmVfYWZ0ZXJfaWZfZWxzZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTI2CiAgICAvLyB0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0cykKICAgIGRpZyA0CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMTgKICAgIC8vIHB1YmxpYyByZXZlYWxNb3ZlKHNlc3Npb25JRDogdWludDY0LCBjaG9pY2U6IHVpbnQ2NCwgc2FsdDogYnl0ZXMpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCnJldmVhbE1vdmVfZWxzZV9ib2R5QDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMjQKICAgIC8vIGVsc2Ugc3RhdHMuaGFyZXMgKz0gMQogICAgZHVwCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiA4CiAgICBiIHJldmVhbE1vdmVfYWZ0ZXJfaWZfZWxzZUA4CgpyZXZlYWxNb3ZlX2Jvb2xfZmFsc2VANDoKICAgIGludGNfMCAvLyAwCiAgICBiIHJldmVhbE1vdmVfYm9vbF9tZXJnZUA1CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LnJlc29sdmVTZXNzaW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKcmVzb2x2ZVNlc3Npb246CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAzCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gNQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTM0CiAgICAvLyBwdWJsaWMgcmVzb2x2ZVNlc3Npb24oc2Vzc2lvbklEOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKCnJlc29sdmVTZXNzaW9uX3doaWxlX3RvcEAxNDoKICAgIHB1c2hpbnQgMjAxMCAvLyAyMDEwCiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICA+CiAgICBieiByZXNvbHZlU2Vzc2lvbl9hZnRlcl93aGlsZUAxOQogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIGJ5dGVjIDEyIC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbQogICAgYnl0ZWMgMTIgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGIgcmVzb2x2ZVNlc3Npb25fd2hpbGVfdG9wQDE0CgpyZXNvbHZlU2Vzc2lvbl9hZnRlcl93aGlsZUAxOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyMgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBkdXAKICAgIGl0b2IKICAgIGR1cAogICAgYnVyeSAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzYKICAgIC8vIGdhbWVTZXNzaW9ucyA9IEJveE1hcDx1aW50NjQsIEdhbWVDb25maWc+KHsga2V5UHJlZml4OiAnZ3MnIH0pCiAgICBieXRlY18xIC8vICJncyIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyMgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTM3CiAgICAvLyBhc3NlcnQodGhpcy5zZXNzaW9uRXhpc3RzKHNlc3Npb25JRCksICdTZXNzaW9uIGRvZXMgbm90IGV4aXN0JykKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMzkKICAgIC8vIGNvbnN0IGNvbmZpZyA9IGNsb25lKHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGR1cAogICAgYnVyeSAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTQwCiAgICAvLyBhc3NlcnQoR2xvYmFsLnJvdW5kID4gY29uZmlnLmVuZFJldmVhbEF0LCAnUmV2ZWFsIHBoYXNlIG5vdCBlbmRlZCcpCiAgICBnbG9iYWwgUm91bmQKICAgIHN3YXAKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICA+CiAgICBhc3NlcnQgLy8gUmV2ZWFsIHBoYXNlIG5vdCBlbmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NjUKICAgIC8vIHN0YXRzID0gQm94TWFwPHVpbnQ2NCwgU3RhZ0h1bnRTdGF0cz4oeyBrZXlQcmVmaXg6ICdzaCcgfSkKICAgIGJ5dGVjIDUgLy8gInNoIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE0MgogICAgLy8gY29uc3Qgc3RhdHMgPSBjbG9uZSh0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMTAKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIGlmIChzdGF0cy5yZXNvbHZlZCkgcmV0dXJuIC8vIElkZW1wb3RlbmN5IGNoZWNrCiAgICBpbnRjIDQgLy8gMTI4CiAgICBnZXRiaXQKICAgIGJueiByZXNvbHZlU2Vzc2lvbl9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjpTdGFnSHVudC5yZXNvbHZlU2Vzc2lvbkAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTQ1CiAgICAvLyBjb25zdCBjdXJyZW50VGhyZXNob2xkUGN0ID0gdGhpcy5zdGFnVGhyZXNob2xkUGVyY2VudC52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjUzCiAgICAvLyBzdGFnVGhyZXNob2xkUGVyY2VudCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDUxIH0pCiAgICBieXRlYyA4IC8vICJzdGFnVGhyZXNob2xkUGVyY2VudCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE0NQogICAgLy8gY29uc3QgY3VycmVudFRocmVzaG9sZFBjdCA9IHRoaXMuc3RhZ1RocmVzaG9sZFBlcmNlbnQudmFsdWUKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBidXJ5IDcKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE0NgogICAgLy8gY29uc3QgY3VycmVudFJlZnVuZFBjdCA9IHRoaXMuaGFyZVJlZnVuZFBlcmNlbnQudmFsdWUKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo0NgogICAgLy8gaGFyZVJlZnVuZFBlcmNlbnQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiA4MCB9KQogICAgYnl0ZWNfMyAvLyAiaGFyZVJlZnVuZFBlcmNlbnQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNDYKICAgIC8vIGNvbnN0IGN1cnJlbnRSZWZ1bmRQY3QgPSB0aGlzLmhhcmVSZWZ1bmRQZXJjZW50LnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgYnVyeSA4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNDgKICAgIC8vIGNvbnN0IHRvdGFsUmV2ZWFsZWQ6IHVpbnQ2NCA9IHN0YXRzLnN0YWdzICsgc3RhdHMuaGFyZXMKICAgIGRpZyA3CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDUKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDQKICAgICsKICAgIGR1cAogICAgYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4MQogICAgLy8gc2Vzc2lvbkJhbGFuY2VzID0gQm94TWFwPHVpbnQ2NCwgdWludDY0Pih7IGtleVByZWZpeDogJ3NiYWwnIH0pCiAgICBieXRlYyA5IC8vICJzYmFsIgogICAgZGlnIDEwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIxNAogICAgLy8gYXNzZXJ0KHRoaXMuc2Vzc2lvbkJhbGFuY2VzKHNlc3Npb25JRCkuZXhpc3RzLCAnU2Vzc2lvbiBkb2VzIG5vdCBleGlzdCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIFNlc3Npb24gZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIxNQogICAgLy8gcmV0dXJuIHRoaXMuc2Vzc2lvbkJhbGFuY2VzKHNlc3Npb25JRCkudmFsdWUKICAgIGJveF9nZXQKICAgIHBvcAogICAgYnRvaQogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTUzCiAgICAvLyBpZiAodG90YWxSZXZlYWxlZCA9PT0gMCkgewogICAgYm56IHJlc29sdmVTZXNzaW9uX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTU0CiAgICAvLyBzdGF0cy5yZXNvbHZlZCA9IHRydWUKICAgIGRpZyA4CiAgICBpbnRjIDQgLy8gMTI4CiAgICBpbnRjXzEgLy8gMQogICAgc2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNTUKICAgIC8vIHN0YXRzLnN1Y2Nlc3NmdWwgPSBmYWxzZQogICAgaW50YyA1IC8vIDEyOQogICAgaW50Y18wIC8vIDAKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTU2CiAgICAvLyB0aGlzLmdsb2JhbEphY2twb3QudmFsdWUgKz0gc2Vzc2lvbkJhbGFuY2UKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo1OQogICAgLy8gZ2xvYmFsSmFja3BvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzAgLy8gImdsb2JhbEphY2twb3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNTYKICAgIC8vIHRoaXMuZ2xvYmFsSmFja3BvdC52YWx1ZSArPSBzZXNzaW9uQmFsYW5jZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NTkKICAgIC8vIGdsb2JhbEphY2twb3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18wIC8vICJnbG9iYWxKYWNrcG90IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTU2CiAgICAvLyB0aGlzLmdsb2JhbEphY2twb3QudmFsdWUgKz0gc2Vzc2lvbkJhbGFuY2UKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNTcKICAgIC8vIHRoaXMuc3RhdHMoc2Vzc2lvbklEKS52YWx1ZSA9IGNsb25lKHN0YXRzKQogICAgZGlnIDExCiAgICBzd2FwCiAgICBib3hfcHV0CgpyZXNvbHZlU2Vzc2lvbl9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjpTdGFnSHVudC5yZXNvbHZlU2Vzc2lvbkAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjEzNAogICAgLy8gcHVibGljIHJlc29sdmVTZXNzaW9uKHNlc3Npb25JRDogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpyZXNvbHZlU2Vzc2lvbl9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNjMKICAgIC8vIGNvbnN0IHRocmVzaG9sZE1ldCA9IChzdGF0cy5zdGFncyAqIDEwMCkgPj0gKHRvdGFsUmV2ZWFsZWQgKiBjdXJyZW50VGhyZXNob2xkUGN0KQogICAgZGlnIDMKICAgIGludGNfMyAvLyAxMDAKICAgICoKICAgIGRpZyA1CiAgICBkaWcgOAogICAgKgogICAgPj0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE2NgogICAgLy8gY29uc3QgaGFyZVJlZnVuZFVuaXQ6IHVpbnQ2NCA9IChjb25maWcucGFydGljaXBhdGlvbiAqIGN1cnJlbnRSZWZ1bmRQY3QpIC8gMTAwCiAgICBkaWcgMTEKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgOQogICAgKgogICAgaW50Y18zIC8vIDEwMAogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTY3CiAgICAvLyBjb25zdCB0b3RhbEhhcmVSZWZ1bmRzOiB1aW50NjQgPSBzdGF0cy5oYXJlcyAqIGhhcmVSZWZ1bmRVbml0CiAgICBkaWcgNAogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTY5CiAgICAvLyBhc3NlcnQoc2Vzc2lvbkJhbGFuY2UgPj0gdG90YWxIYXJlUmVmdW5kcywgJ0NyaXRpY2FsOiBJbnNvbHZlbmN5JykKICAgIHVuY292ZXIgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBkaWcgMQogICAgPj0KICAgIGFzc2VydCAvLyBDcml0aWNhbDogSW5zb2x2ZW5jeQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTczCiAgICAvLyBjb25zdCBuZXRTZXNzaW9uUG90OiB1aW50NjQgPSBzZXNzaW9uQmFsYW5jZSAtIHRvdGFsSGFyZVJlZnVuZHMKICAgIC0KICAgIGJ1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTc1CiAgICAvLyBpZiAodGhyZXNob2xkTWV0ICYmIHN0YXRzLnN0YWdzID4gMCkgewogICAgYnogcmVzb2x2ZVNlc3Npb25fZWxzZV9ib2R5QDgKICAgIGRpZyAyCiAgICBieiByZXNvbHZlU2Vzc2lvbl9lbHNlX2JvZHlAOAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTc3CiAgICAvLyBjb25zdCBqYWNrcG90QW1vdW50ID0gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NTkKICAgIC8vIGdsb2JhbEphY2twb3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18wIC8vICJnbG9iYWxKYWNrcG90IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTc3CiAgICAvLyBjb25zdCBqYWNrcG90QW1vdW50ID0gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTc4CiAgICAvLyBjb25zdCB0b3RhbERpc3RyaWJ1dGFibGU6IHVpbnQ2NCA9IG5ldFNlc3Npb25Qb3QgKyBqYWNrcG90QW1vdW50CiAgICBkaWcgNQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTgwCiAgICAvLyBjb25zdCBzaGFyZTogdWludDY0ID0gdG90YWxEaXN0cmlidXRhYmxlIC8gc3RhdHMuc3RhZ3MKICAgIGR1cAogICAgZGlnIDQKICAgIGR1cAogICAgY292ZXIgMwogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTgxCiAgICAvLyBjb25zdCByZW1haW5kZXI6IHVpbnQ2NCA9IHRvdGFsRGlzdHJpYnV0YWJsZSAlIHN0YXRzLnN0YWdzCiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgICUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE4MwogICAgLy8gc3RhdHMuc3VjY2Vzc2Z1bCA9IHRydWUKICAgIGRpZyA5CiAgICBpbnRjIDUgLy8gMTI5CiAgICBpbnRjXzEgLy8gMQogICAgc2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxODQKICAgIC8vIHN0YXRzLnJld2FyZFBlclN0YWcgPSBzaGFyZQogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICByZXBsYWNlMiAxNwogICAgYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo1OQogICAgLy8gZ2xvYmFsSmFja3BvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzAgLy8gImdsb2JhbEphY2twb3QiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxODcKICAgIC8vIHRoaXMuZ2xvYmFsSmFja3BvdC52YWx1ZSA9IHJlbWFpbmRlcgogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCnJlc29sdmVTZXNzaW9uX2FmdGVyX2lmX2Vsc2VAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE5OAogICAgLy8gc3RhdHMucmVzb2x2ZWQgPSB0cnVlCiAgICBkaWcgNwogICAgaW50YyA0IC8vIDEyOAogICAgaW50Y18xIC8vIDEKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTk5CiAgICAvLyB0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0cykKICAgIGRpZyAxMQogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTM0CiAgICAvLyBwdWJsaWMgcmVzb2x2ZVNlc3Npb24oc2Vzc2lvbklEOiB1aW50NjQpOiB2b2lkIHsKICAgIGIgcmVzb2x2ZVNlc3Npb25fYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQucmVzb2x2ZVNlc3Npb25AMTAKCnJlc29sdmVTZXNzaW9uX2Vsc2VfYm9keUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTkyCiAgICAvLyB0aGlzLmdsb2JhbEphY2twb3QudmFsdWUgKz0gbmV0U2Vzc2lvblBvdAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBnbG9iYWxKYWNrcG90ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMCAvLyAiZ2xvYmFsSmFja3BvdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE5MgogICAgLy8gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlICs9IG5ldFNlc3Npb25Qb3QKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NTkKICAgIC8vIGdsb2JhbEphY2twb3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18wIC8vICJnbG9iYWxKYWNrcG90IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTkyCiAgICAvLyB0aGlzLmdsb2JhbEphY2twb3QudmFsdWUgKz0gbmV0U2Vzc2lvblBvdAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE5NAogICAgLy8gc3RhdHMuc3VjY2Vzc2Z1bCA9IGZhbHNlCiAgICBkaWcgNwogICAgaW50YyA1IC8vIDEyOQogICAgaW50Y18wIC8vIDAKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTk1CiAgICAvLyBzdGF0cy5yZXdhcmRQZXJTdGFnID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIHJlcGxhY2UyIDE3CiAgICBidXJ5IDgKICAgIGIgcmVzb2x2ZVNlc3Npb25fYWZ0ZXJfaWZfZWxzZUA5CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmNsYWltV2lubmluZ3Nbcm91dGluZ10oKSAtPiB2b2lkOgpjbGFpbVdpbm5pbmdzOgogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMDUKICAgIC8vIHB1YmxpYyBjbGFpbVdpbm5pbmdzKHNlc3Npb25JRDogdWludDY0KTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyMgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3NgogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjIyCiAgICAvLyByZXR1cm4gdGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMDYKICAgIC8vIGFzc2VydCh0aGlzLnNlc3Npb25FeGlzdHMoc2Vzc2lvbklEKSwgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgYXNzZXJ0IC8vIFNlc3Npb24gZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjIwOAogICAgLy8gY29uc3QgY29uZmlnID0gY2xvbmUodGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHBvcAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjA5CiAgICAvLyBjb25zdCBwbGF5ZXJBZGRyID0gbmV3IEFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGRpZyAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzEKICAgIC8vIHBsYXllckNob2ljZSA9IEJveE1hcDxieXRlcywgdWludDY0Pih7IGtleVByZWZpeDogJ3BjaG8nIH0pCiAgICBieXRlYyAxMSAvLyAicGNobyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMTIKICAgIC8vIGFzc2VydCh0aGlzLnBsYXllckNob2ljZShwbGF5ZXJLZXkpLmV4aXN0cywgJ1BsYXllciBoYXMgbm90IHJldmVhbGVkIG9yIGFscmVhZHkgY2xhaW1lZCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIFBsYXllciBoYXMgbm90IHJldmVhbGVkIG9yIGFscmVhZHkgY2xhaW1lZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NjUKICAgIC8vIHN0YXRzID0gQm94TWFwPHVpbnQ2NCwgU3RhZ0h1bnRTdGF0cz4oeyBrZXlQcmVmaXg6ICdzaCcgfSkKICAgIGJ5dGVjIDUgLy8gInNoIgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjIxNAogICAgLy8gY29uc3Qgc3RhdHMgPSBjbG9uZSh0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNvdmVyIDMKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMTUKICAgIC8vIGFzc2VydChzdGF0cy5yZXNvbHZlZCwgJ0dhbWUgbm90IHJlc29sdmVkJykKICAgIGludGMgNCAvLyAxMjgKICAgIGdldGJpdAogICAgYXNzZXJ0IC8vIEdhbWUgbm90IHJlc29sdmVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMTcKICAgIC8vIGNvbnN0IGNob2ljZSA9IHRoaXMucGxheWVyQ2hvaWNlKHBsYXllcktleSkudmFsdWUKICAgIGJveF9nZXQKICAgIHBvcAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjE5CiAgICAvLyBjb25zdCBjdXJyZW50UmVmdW5kUGN0ID0gdGhpcy5oYXJlUmVmdW5kUGVyY2VudC52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjQ2CiAgICAvLyBoYXJlUmVmdW5kUGVyY2VudCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDgwIH0pCiAgICBieXRlY18zIC8vICJoYXJlUmVmdW5kUGVyY2VudCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjIxOQogICAgLy8gY29uc3QgY3VycmVudFJlZnVuZFBjdCA9IHRoaXMuaGFyZVJlZnVuZFBlcmNlbnQudmFsdWUKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMjEKICAgIC8vIGlmIChjaG9pY2UgPT09IDApIHsKICAgIGJueiBjbGFpbVdpbm5pbmdzX2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMjMKICAgIC8vIHBheW91dCA9IChjb25maWcucGFydGljaXBhdGlvbiAqIGN1cnJlbnRSZWZ1bmRQY3QpIC8gMTAwCiAgICBkaWcgNAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICAqCiAgICBpbnRjXzMgLy8gMTAwCiAgICAvCiAgICBidXJ5IDYKCmNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjM0CiAgICAvLyB0aGlzLnBsYXllckNob2ljZShwbGF5ZXJLZXkpLmRlbGV0ZSgpCiAgICBkaWcgMgogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMzYKICAgIC8vIGlmIChwYXlvdXQgPiAwKSB7CiAgICBkaWcgNQogICAgYnogY2xhaW1XaW5uaW5nc19hZnRlcl9pZl9lbHNlQDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMzctMjQxCiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBwbGF5ZXJBZGRyLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IHBheW91dCwKICAgIC8vICAgICBmZWU6IDAKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBkaWcgNQogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGRpZyAzCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjQwCiAgICAvLyBmZWU6IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjM3LTI0MQogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogcGxheWVyQWRkci5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBwYXlvdXQsCiAgICAvLyAgICAgZmVlOiAwCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCmNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjIwNQogICAgLy8gcHVibGljIGNsYWltV2lubmluZ3Moc2Vzc2lvbklEOiB1aW50NjQpOiB1aW50NjQgewogICAgZGlnIDUKICAgIGl0b2IKICAgIGJ5dGVjIDYgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmNsYWltV2lubmluZ3NfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMjYKICAgIC8vIGlmIChzdGF0cy5zdWNjZXNzZnVsKSB7CiAgICBkaWcgMQogICAgaW50YyA1IC8vIDEyOQogICAgZ2V0Yml0CiAgICBieiBjbGFpbVdpbm5pbmdzX2Vsc2VfYm9keUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMjcKICAgIC8vIHBheW91dCA9IHN0YXRzLnJld2FyZFBlclN0YWcKICAgIGRpZyAxCiAgICBwdXNoaW50IDE3IC8vIDE3CiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnVyeSA2CiAgICBiIGNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUA3CgpjbGFpbVdpbm5pbmdzX2Vsc2VfYm9keUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjI5CiAgICAvLyBwYXlvdXQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA2CiAgICBiIGNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUA3CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmdldFJlcXVpcmVkTUJSW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0UmVxdWlyZWRNQlI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyNTEKICAgIC8vIHB1YmxpYyBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicpOiB1aW50NjQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIGNhbGxzdWIgc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmdldFJlcXVpcmVkTUJSCiAgICBpdG9iCiAgICBieXRlYyA2IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkdhbWVDb250cmFjdC5nZXRHYW1lVHlwZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldEdhbWVUeXBlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6ODgKICAgIC8vIHJldHVybiB0aGlzLmdhbWVUeXBlLnZhbHVlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTIKICAgIC8vIGdhbWVUeXBlID0gR2xvYmFsU3RhdGU8Ynl0ZXM+KHsgaW5pdGlhbFZhbHVlOiBCeXRlcygnJykgfSkKICAgIGJ5dGVjXzIgLy8gImdhbWVUeXBlIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6ODgKICAgIC8vIHJldHVybiB0aGlzLmdhbWVUeXBlLnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6ODcKICAgIC8vIHB1YmxpYyBnZXRHYW1lVHlwZSgpOiBieXRlcyB7CiAgICBkdXAKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWMgNiAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuaW5pdGlhbGl6ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmluaXRpYWxpemU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo5MgogICAgLy8gcHVibGljIGluaXRpYWxpemUoZ2FtZVR5cGU6IHN0cmluZyk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjkzCiAgICAvLyBhc3NlcnQodGhpcy5nYW1lVHlwZS52YWx1ZS5sZW5ndGggPT09IDAsICdDb250cmFjdCBhbHJlYWR5IGluaXRpYWxpemVkJykKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo1MgogICAgLy8gZ2FtZVR5cGUgPSBHbG9iYWxTdGF0ZTxieXRlcz4oeyBpbml0aWFsVmFsdWU6IEJ5dGVzKCcnKSB9KQogICAgYnl0ZWNfMiAvLyAiZ2FtZVR5cGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo5MwogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZVR5cGUudmFsdWUubGVuZ3RoID09PSAwLCAnQ29udHJhY3QgYWxyZWFkeSBpbml0aWFsaXplZCcpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgbGVuCiAgICAhCiAgICBhc3NlcnQgLy8gQ29udHJhY3QgYWxyZWFkeSBpbml0aWFsaXplZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OTQKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MsICdPbmx5IGNyZWF0b3IgY2FuIGluaXRpYWxpemUnKQogICAgdHhuIFNlbmRlcgogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBjYW4gaW5pdGlhbGl6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTIKICAgIC8vIGdhbWVUeXBlID0gR2xvYmFsU3RhdGU8Ynl0ZXM+KHsgaW5pdGlhbFZhbHVlOiBCeXRlcygnJykgfSkKICAgIGJ5dGVjXzIgLy8gImdhbWVUeXBlIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OTUKICAgIC8vIHRoaXMuZ2FtZVR5cGUudmFsdWUgPSBCeXRlcyhnYW1lVHlwZSkKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo5MgogICAgLy8gcHVibGljIGluaXRpYWxpemUoZ2FtZVR5cGU6IHN0cmluZyk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjpTdGFnSHVudC5nZXRSZXF1aXJlZE1CUihjb21tYW5kOiBieXRlcykgLT4gdWludDY0OgpzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQuZ2V0UmVxdWlyZWRNQlI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyNTEKICAgIC8vIHB1YmxpYyBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyNTIKICAgIC8vIGlmIChjb21tYW5kID09PSAnbmV3R2FtZScpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgYnl0ZWMgNCAvLyAibmV3R2FtZSIKICAgID09CiAgICBieiBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQuZ2V0UmVxdWlyZWRNQlJfYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyNTUKICAgIC8vIHJldHVybiBzdGF0c01CUiArIHN1cGVyLmdldFJlcXVpcmVkTUJSKCduZXdHYW1lJykKICAgIGJ5dGVjIDQgLy8gIm5ld0dhbWUiCiAgICBjYWxsc3ViIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE4MQogICAgLy8gcmV0dXJuIDI1MDAgKyA0MDAgKiAoa2V5U2l6ZSArIHZhbHVlU2l6ZSkKICAgIHB1c2hpbnQgMTg1MDAgLy8gMTg1MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjI1NQogICAgLy8gcmV0dXJuIHN0YXRzTUJSICsgc3VwZXIuZ2V0UmVxdWlyZWRNQlIoJ25ld0dhbWUnKQogICAgKwogICAgcmV0c3ViCgpzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQuZ2V0UmVxdWlyZWRNQlJfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjU3CiAgICAvLyByZXR1cm4gc3VwZXIuZ2V0UmVxdWlyZWRNQlIoY29tbWFuZCkKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSKGNvbW1hbmQ6IGJ5dGVzKSAtPiB1aW50NjQ6CnNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODcKICAgIC8vIHByb3RlY3RlZCBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODgKICAgIC8vIGlmIChjb21tYW5kID09PSAnbmV3R2FtZScpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgYnl0ZWMgNCAvLyAibmV3R2FtZSIKICAgID09CiAgICBieiBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSX2Vsc2VfYm9keUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTMKICAgIC8vIHJldHVybiBjb25maWdNQlIgKyBiYWxhbmNlTUJSCiAgICBwdXNoaW50IDQyNjAwIC8vIDQyNjAwCiAgICByZXRzdWIKCnNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlJfZWxzZV9ib2R5QDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTQKICAgIC8vIH0gZWxzZSBpZiAoY29tbWFuZCA9PT0gJ2pvaW4nKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hieXRlcyAiam9pbiIKICAgID09CiAgICBhc3NlcnQgLy8gQ29tbWFuZCBub3Qgc3VwcG9ydGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODEKICAgIC8vIHJldHVybiAyNTAwICsgNDAwICogKGtleVNpemUgKyB2YWx1ZVNpemUpCiAgICBwdXNoaW50IDI5NzAwIC8vIDI5NzAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTYKICAgIC8vIHJldHVybiB0aGlzLmdldEJveE1CUigzNiwgMzIpCiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyAGAAEIZIABgQEmDQ1nbG9iYWxKYWNrcG90AmdzCGdhbWVUeXBlEWhhcmVSZWZ1bmRQZXJjZW50B25ld0dhbWUCc2gEFR98dRBzZXNzaW9uSURDb3VudGVyFHN0YWdUaHJlc2hvbGRQZXJjZW50BHNiYWwEcGNvbQRwY2hvAwaBATEYQAAUKoAAZycHImcrgVBnJwiBM2coImcxG0EATjEZFEQxGESCCQSrVxVjBCxJpc8EEbtBZwR+YAI8BOiDzqsEdL74hwSeSjrlBFaD7ggE7PM55zYaAI4JAAsANgDAATwB5QMGA5kDtQPIADEZFDEYFBBEI0M2GgFJFSQSRBc2GgJJFSQSRBcxADIJEkRLASUOREklDkQrTwJnJwhMZyNDNhoBSRWBIBJEMRYjCUk4ECMSREsBgRhbgcCEPQ9EJwSIA5JLATgHMgoSREw4CA5ESSJbSwEkW0oOREsCgRBbDEQyBg9EIicHZURJFilLAVBPA78nCUsBUCIWv0wjCCcHTGcnBUsBUIAZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL8nBkxQsCNDNhoBSRUkEkQXNhoCSSJZgQIISwEVEkRXAgAxFiMJSTgQIxJETwIWKUsBUEm9RQFEvkgyBksBIltLAQ5ESwEkWw5ESwI4BzIKEkRPAjgITIEYW0sBEkRLATEAUAEnCkxQSb1FARRESbxITwO/JwlPAlBJvkQXTwIIFr8jQyI2GgFJFSQSRBc2GgJJFSQSRBdJNhoDSSJZgQIISwEVEkRXAgBMQQAHSwEjEkEAdSNESwIWKUsBUEm9RQFEvkgyBksBJFtLAQxETIEQWw5ESTEAUAEnCksBUEm9RQFESb5ISwVJTgQWSUsHUAFPAhJEJwtPA1BMv7xIJwVPAlBJRQa+TE4CRCMSQQAOSSJbIwgWXABLBEy/I0NJJFsjCBZcCEL/7yJC/4giRwOAAEcFNhoBSRUkEkQXgdoPMgwNQQAYsYEGshCBBbIZJwyyHicMsh8isgGzQv/fSRZJRQopSwFQSb1FAUS+SElFDDIGTIEQWw1EJwVMUElFDL5MSU4CRQpEIQRTQABLIicIZUxFB0QiK2VMRQhESwdJIltJTgJFBSRbSUUECElFBScJSwpQSb1FAUS+SBdMQAAaSwghBCNUIQUiVCIoZURPAggoTGdLC0y/I0NLAyULSwVLCAsPSwuBGFtLCQslCksEC08CSU4CSwEPRAlFBkEANEsCQQAvIihlREsFCElLBElOAwpMTwIYSwkhBSNUTwIWXBFFCShMZ0sHIQQjVEsLTL9C/6QiKGVESwUIKExnSwchBSJUIhZcEUUIQv/agAA2GgFJFSQSRBcWKUsBUEm9RQFEvkhMMQBJTgJLAUxQAScLTFBJTgJJvUUBRCcFTwJQvkxJTgJOA0QhBFNEvkgXIitlTE4CREAAL0sEgRhbSwELJQpFBksCvEhLBUEAELFLBbIISwOyByOyECKyAbNLBRYnBkxQsCNDSwEhBVNBAApLAYERW0UGQv/LIkUGQv/FNhoBSSJZgQIISwEVEkRXAgCIAD4WJwZMULAjQyIqZURJFRZXBgJMUCcGTFCwI0M2GgFJIlmBAghLARUSRFcCACIqZUQVFEQxADIJEkQqTGcjQ4oBAYv/JwQSQQALJwSIAAyBxJABCImL/4gAAYmKAQGL/ycEEkEABYHozAKJi/+ABGpvaW4SRIGE6AGJ",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 3,
            "patch": 2
        }
    },
    "events": [],
    "templateVariables": {}
}