{
    "hints": {
        "updateGameRules(uint64,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "createSession((uint64,uint64,uint64,uint64),pay)uint64": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "config": {
                    "name": "ObjectB555233E",
                    "elements": [
                        [
                            "startAt",
                            "uint64"
                        ],
                        [
                            "endCommitAt",
                            "uint64"
                        ],
                        [
                            "endRevealAt",
                            "uint64"
                        ],
                        [
                            "participation",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "joinSession(uint64,byte[],pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "revealMove(uint64,uint64,byte[])void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "resolveSession(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimWinnings(uint64)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getRequiredMBR(string)uint64": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getGameType()byte[]": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "initialize(string)void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDggMTAwIDEyOCAxMjkKICAgIGJ5dGVjYmxvY2sgImdsb2JhbEphY2twb3QiICJncyIgImdhbWVUeXBlIiAiaGFyZVJlZnVuZFBlcmNlbnQiICJuZXdHYW1lIiAic2giIDB4MTUxZjdjNzUgInNlc3Npb25JRENvdW50ZXIiICJzdGFnVGhyZXNob2xkUGVyY2VudCIgInNiYWwiICJwY29tIiAicGNobyIgMHgwNjgxMDEKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ0CiAgICAvLyBnYW1lVHlwZSA9IEdsb2JhbFN0YXRlPGJ5dGVzPih7IGluaXRpYWxWYWx1ZTogQnl0ZXMoJycpIH0pCiAgICBieXRlY18yIC8vICJnYW1lVHlwZSIKICAgIHB1c2hieXRlcyAiIgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ5CiAgICAvLyBzZXNzaW9uSURDb3VudGVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNyAvLyAic2Vzc2lvbklEQ291bnRlciIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NDYKICAgIC8vIGhhcmVSZWZ1bmRQZXJjZW50ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogODAgfSkKICAgIGJ5dGVjXzMgLy8gImhhcmVSZWZ1bmRQZXJjZW50IgogICAgcHVzaGludCA4MCAvLyA4MAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjUzCiAgICAvLyBzdGFnVGhyZXNob2xkUGVyY2VudCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDUxIH0pCiAgICBieXRlYyA4IC8vICJzdGFnVGhyZXNob2xkUGVyY2VudCIKICAgIHB1c2hpbnQgNTEgLy8gNTEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo1OQogICAgLy8gZ2xvYmFsSmFja3BvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzAgLy8gImdsb2JhbEphY2twb3QiCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKCm1haW5fYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MzkKICAgIC8vIGV4cG9ydCBjbGFzcyBTdGFnSHVudCBleHRlbmRzIEdhbWVDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9fX2FsZ290c19fLmRlZmF1bHRDcmVhdGVAMTgKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0CiAgICBwdXNoYnl0ZXNzIDB4YWI1NzE1NjMgMHgyYzQ5YTVjZiAweDExYmI0MTY3IDB4N2U2MDAyM2MgMHhlODgzY2VhYiAweDc0YmVmODg3IDB4OWU0YTNhZTUgMHg1NjgzZWUwOCAweGVjZjMzOWU3IC8vIG1ldGhvZCAidXBkYXRlR2FtZVJ1bGVzKHVpbnQ2NCx1aW50NjQpdm9pZCIsIG1ldGhvZCAiY3JlYXRlU2Vzc2lvbigodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSxwYXkpdWludDY0IiwgbWV0aG9kICJqb2luU2Vzc2lvbih1aW50NjQsYnl0ZVtdLHBheSl2b2lkIiwgbWV0aG9kICJyZXZlYWxNb3ZlKHVpbnQ2NCx1aW50NjQsYnl0ZVtdKXZvaWQiLCBtZXRob2QgInJlc29sdmVTZXNzaW9uKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJjbGFpbVdpbm5pbmdzKHVpbnQ2NCl1aW50NjQiLCBtZXRob2QgImdldFJlcXVpcmVkTUJSKHN0cmluZyl1aW50NjQiLCBtZXRob2QgImdldEdhbWVUeXBlKClieXRlW10iLCBtZXRob2QgImluaXRpYWxpemUoc3RyaW5nKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCB1cGRhdGVHYW1lUnVsZXMgY3JlYXRlU2Vzc2lvbiBqb2luU2Vzc2lvbiByZXZlYWxNb3ZlIHJlc29sdmVTZXNzaW9uIGNsYWltV2lubmluZ3MgZ2V0UmVxdWlyZWRNQlIgZ2V0R2FtZVR5cGUgaW5pdGlhbGl6ZQogICAgZXJyCgptYWluX19fYWxnb3RzX18uZGVmYXVsdENyZWF0ZUAxODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjM5CiAgICAvLyBleHBvcnQgY2xhc3MgU3RhZ0h1bnQgZXh0ZW5kcyBHYW1lQ29udHJhY3QgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcCAmJiBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQudXBkYXRlR2FtZVJ1bGVzW3JvdXRpbmddKCkgLT4gdm9pZDoKdXBkYXRlR2FtZVJ1bGVzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzEKICAgIC8vIHB1YmxpYyB1cGRhdGVHYW1lUnVsZXMobmV3UmVmdW5kOiB1aW50NjQsIG5ld1RocmVzaG9sZDogdWludDY0KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo3MgogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywgJ09ubHkgY3JlYXRvciBjYW4gdXBkYXRlIHJ1bGVzJykKICAgIHR4biBTZW5kZXIKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3IgY2FuIHVwZGF0ZSBydWxlcwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzMKICAgIC8vIGFzc2VydChuZXdSZWZ1bmQgPD0gMTAwLCAnUmVmdW5kICUgbXVzdCBiZSA8PSAxMDAnKQogICAgZGlnIDEKICAgIGludGNfMyAvLyAxMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gUmVmdW5kICUgbXVzdCBiZSA8PSAxMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjc0CiAgICAvLyBhc3NlcnQobmV3VGhyZXNob2xkIDw9IDEwMCwgJ1RocmVzaG9sZCAlIG11c3QgYmUgPD0gMTAwJykKICAgIGR1cAogICAgaW50Y18zIC8vIDEwMAogICAgPD0KICAgIGFzc2VydCAvLyBUaHJlc2hvbGQgJSBtdXN0IGJlIDw9IDEwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NDYKICAgIC8vIGhhcmVSZWZ1bmRQZXJjZW50ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogODAgfSkKICAgIGJ5dGVjXzMgLy8gImhhcmVSZWZ1bmRQZXJjZW50IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzYKICAgIC8vIHRoaXMuaGFyZVJlZnVuZFBlcmNlbnQudmFsdWUgPSBuZXdSZWZ1bmQKICAgIHVuY292ZXIgMgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjUzCiAgICAvLyBzdGFnVGhyZXNob2xkUGVyY2VudCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDUxIH0pCiAgICBieXRlYyA4IC8vICJzdGFnVGhyZXNob2xkUGVyY2VudCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjc3CiAgICAvLyB0aGlzLnN0YWdUaHJlc2hvbGRQZXJjZW50LnZhbHVlID0gbmV3VGhyZXNob2xkCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NzEKICAgIC8vIHB1YmxpYyB1cGRhdGVHYW1lUnVsZXMobmV3UmVmdW5kOiB1aW50NjQsIG5ld1RocmVzaG9sZDogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmNyZWF0ZVNlc3Npb25bcm91dGluZ10oKSAtPiB2b2lkOgpjcmVhdGVTZXNzaW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6ODQKICAgIC8vIHB1YmxpYyBjcmVhdGVTZXNzaW9uKGNvbmZpZzogR2FtZUNvbmZpZywgbWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuKTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBPYmplY3RCNTU1MjMzRQogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo4NQogICAgLy8gYXNzZXJ0KGNvbmZpZy5wYXJ0aWNpcGF0aW9uID49IDFfMDAwXzAwMCwgJ01pbmltdW0gcGFydGljaXBhdGlvbiBpcyAxIEFMR08nKQogICAgZGlnIDEKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDY0CiAgICBwdXNoaW50IDEwMDAwMDAgLy8gMTAwMDAwMAogICAgPj0KICAgIGFzc2VydCAvLyBNaW5pbXVtIHBhcnRpY2lwYXRpb24gaXMgMSBBTEdPCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo4NwogICAgLy8gY29uc3QgcmVxdWlyZWRNQlIgPSB0aGlzLmdldFJlcXVpcmVkTUJSKCduZXdHYW1lJykKICAgIGJ5dGVjIDQgLy8gIm5ld0dhbWUiCiAgICBjYWxsc3ViIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjpTdGFnSHVudC5nZXRSZXF1aXJlZE1CUgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6ODgKICAgIC8vIGFzc2VydChtYnJQYXltZW50LnJlY2VpdmVyID09PSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgJ01CUiBwYXltZW50IHJlY2VpdmVyIG11c3QgYmUgY29udHJhY3QnKQogICAgZGlnIDEKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBNQlIgcGF5bWVudCByZWNlaXZlciBtdXN0IGJlIGNvbnRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo4OQogICAgLy8gYXNzZXJ0KG1iclBheW1lbnQuYW1vdW50ID49IHJlcXVpcmVkTUJSLCAnSW5zdWZmaWNpZW50IE1CUicpCiAgICBzd2FwCiAgICBndHhucyBBbW91bnQKICAgIDw9CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IE1CUgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OTYKICAgIC8vIGFzc2VydChjb25maWcuc3RhcnRBdCA8IGNvbmZpZy5lbmRDb21taXRBdCwgJ0ludmFsaWQgdGltZWxpbmU6IHN0YXJ0IG11c3QgYmUgYmVmb3JlIGNvbW1pdCBlbmQnKQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cDIKICAgIDwKICAgIGFzc2VydCAvLyBJbnZhbGlkIHRpbWVsaW5lOiBzdGFydCBtdXN0IGJlIGJlZm9yZSBjb21taXQgZW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo5NwogICAgLy8gYXNzZXJ0KGNvbmZpZy5lbmRDb21taXRBdCA8IGNvbmZpZy5lbmRSZXZlYWxBdCwgJ0ludmFsaWQgdGltZWxpbmU6IGNvbW1pdCBlbmQgbXVzdCBiZSBiZWZvcmUgcmV2ZWFsIGVuZCcpCiAgICBkaWcgMgogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIDwKICAgIGFzc2VydCAvLyBJbnZhbGlkIHRpbWVsaW5lOiBjb21taXQgZW5kIG11c3QgYmUgYmVmb3JlIHJldmVhbCBlbmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjk4CiAgICAvLyBhc3NlcnQoY29uZmlnLnN0YXJ0QXQgPj0gR2xvYmFsLnJvdW5kLCAnSW52YWxpZCBzdGFydCB0aW1lOiBjYW5ub3Qgc3RhcnQgaW4gdGhlIHBhc3QnKQogICAgZ2xvYmFsIFJvdW5kCiAgICA+PQogICAgYXNzZXJ0IC8vIEludmFsaWQgc3RhcnQgdGltZTogY2Fubm90IHN0YXJ0IGluIHRoZSBwYXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMDAKICAgIC8vIGNvbnN0IHNlc3Npb25JRCA9IHRoaXMuc2Vzc2lvbklEQ291bnRlci52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ5CiAgICAvLyBzZXNzaW9uSURDb3VudGVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNyAvLyAic2Vzc2lvbklEQ291bnRlciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjEwMAogICAgLy8gY29uc3Qgc2Vzc2lvbklEID0gdGhpcy5zZXNzaW9uSURDb3VudGVyLnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTAyCiAgICAvLyB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlID0gY2xvbmUoY29uZmlnKQogICAgZHVwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2OAogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTAyCiAgICAvLyB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlID0gY2xvbmUoY29uZmlnKQogICAgdW5jb3ZlciAzCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3MwogICAgLy8gc2Vzc2lvbkJhbGFuY2VzID0gQm94TWFwPHVpbnQ2NCwgdWludDY0Pih7IGtleVByZWZpeDogJ3NiYWwnIH0pCiAgICBieXRlYyA5IC8vICJzYmFsIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTAzCiAgICAvLyB0aGlzLnNlc3Npb25CYWxhbmNlcyhzZXNzaW9uSUQpLnZhbHVlID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjEwNAogICAgLy8gdGhpcy5zZXNzaW9uSURDb3VudGVyLnZhbHVlID0gc2Vzc2lvbklEICsgMQogICAgc3dhcAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ5CiAgICAvLyBzZXNzaW9uSURDb3VudGVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgNyAvLyAic2Vzc2lvbklEQ291bnRlciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjEwNAogICAgLy8gdGhpcy5zZXNzaW9uSURDb3VudGVyLnZhbHVlID0gc2Vzc2lvbklEICsgMQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjY1CiAgICAvLyBzdGF0cyA9IEJveE1hcDx1aW50NjQsIFN0YWdIdW50U3RhdHM+KHsga2V5UHJlZml4OiAnc2gnIH0pCiAgICBieXRlYyA1IC8vICJzaCIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjkzLTk5CiAgICAvLyB0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUgPSB7CiAgICAvLyAgIHN0YWdzOiAwLAogICAgLy8gICBoYXJlczogMCwKICAgIC8vICAgcmVzb2x2ZWQ6IGZhbHNlLAogICAgLy8gICBzdWNjZXNzZnVsOiBmYWxzZSwKICAgIC8vICAgcmV3YXJkUGVyU3RhZzogMAogICAgLy8gfQogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjg0CiAgICAvLyBwdWJsaWMgY3JlYXRlU2Vzc2lvbihjb25maWc6IEdhbWVDb25maWcsIG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4bik6IHVpbnQ2NCB7CiAgICBieXRlYyA2IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmpvaW5TZXNzaW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKam9pblNlc3Npb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMDcKICAgIC8vIHB1YmxpYyBqb2luU2Vzc2lvbihzZXNzaW9uSUQ6IHVpbnQ2NCwgY29tbWl0OiBieXRlcywgcGF5bWVudDogZ3R4bi5QYXltZW50VHhuKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBwdXNoaW50IDIgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICBleHRyYWN0IDIgMAogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTMKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cywgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2OAogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTEzCiAgICAvLyBhc3NlcnQodGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMsICdTZXNzaW9uIGRvZXMgbm90IGV4aXN0JykKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gU2Vzc2lvbiBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTE1CiAgICAvLyBjb25zdCBjb25maWcgPSBjbG9uZSh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTYKICAgIC8vIGNvbnN0IGN1cnJlbnRCbG9jayA9IEdsb2JhbC5yb3VuZAogICAgZ2xvYmFsIFJvdW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTgKICAgIC8vIGFzc2VydChjdXJyZW50QmxvY2sgPj0gY29uZmlnLnN0YXJ0QXQsICdHYW1lIHNlc3Npb24gaGFzIG5vdCBzdGFydGVkIHlldCcpCiAgICBkaWcgMQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgPD0KICAgIGFzc2VydCAvLyBHYW1lIHNlc3Npb24gaGFzIG5vdCBzdGFydGVkIHlldAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTE5CiAgICAvLyBhc3NlcnQoY3VycmVudEJsb2NrIDw9IGNvbmZpZy5lbmRDb21taXRBdCwgJ0NvbW1pdCBwaGFzZSBoYXMgZW5kZWQnKQogICAgZGlnIDEKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPD0KICAgIGFzc2VydCAvLyBDb21taXQgcGhhc2UgaGFzIGVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMjEKICAgIC8vIGFzc2VydChwYXltZW50LnJlY2VpdmVyID09PSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywgJ0ZlZSByZWNlaXZlciBtdXN0IGJlIHRoZSBjb250cmFjdCcpCiAgICBkaWcgMgogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIEZlZSByZWNlaXZlciBtdXN0IGJlIHRoZSBjb250cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTIyCiAgICAvLyBhc3NlcnQocGF5bWVudC5hbW91bnQgPT09IGNvbmZpZy5wYXJ0aWNpcGF0aW9uLCAnSW5jb3JyZWN0IHBhcnRpY2lwYXRpb24gZmVlIGFtb3VudCcpCiAgICB1bmNvdmVyIDIKICAgIGd0eG5zIEFtb3VudAogICAgc3dhcAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIEluY29ycmVjdCBwYXJ0aWNpcGF0aW9uIGZlZSBhbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIxNAogICAgLy8gcmV0dXJuIHNoYTI1NihpdG9iKHNlc3Npb25JRCkuY29uY2F0KHBsYXllci5ieXRlcykpCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTI0CiAgICAvLyBjb25zdCBwbGF5ZXJBZGRyID0gbmV3IEFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIxNAogICAgLy8gcmV0dXJuIHNoYTI1NihpdG9iKHNlc3Npb25JRCkuY29uY2F0KHBsYXllci5ieXRlcykpCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTYKICAgIC8vIHBsYXllckNvbW1pdCA9IEJveE1hcDxieXRlcywgYnl0ZXM+KHsga2V5UHJlZml4OiAncGNvbScgfSkKICAgIGJ5dGVjIDEwIC8vICJwY29tIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMjcKICAgIC8vIGFzc2VydCghdGhpcy5wbGF5ZXJDb21taXQocGxheWVyS2V5KS5leGlzdHMsICdQbGF5ZXIgYWxyZWFkeSByZWdpc3RlcmVkIGluIHRoaXMgc2Vzc2lvbicpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgIQogICAgYXNzZXJ0IC8vIFBsYXllciBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhpcyBzZXNzaW9uCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMjkKICAgIC8vIHRoaXMucGxheWVyQ29tbWl0KHBsYXllcktleSkudmFsdWUgPSBjb21taXQKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICB1bmNvdmVyIDMKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjczCiAgICAvLyBzZXNzaW9uQmFsYW5jZXMgPSBCb3hNYXA8dWludDY0LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnc2JhbCcgfSkKICAgIGJ5dGVjIDkgLy8gInNiYWwiCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTMwCiAgICAvLyB0aGlzLnNlc3Npb25CYWxhbmNlcyhzZXNzaW9uSUQpLnZhbHVlICs9IHBheW1lbnQuYW1vdW50CiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBidG9pCiAgICB1bmNvdmVyIDIKICAgICsKICAgIGl0b2IKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjEwNwogICAgLy8gcHVibGljIGpvaW5TZXNzaW9uKHNlc3Npb25JRDogdWludDY0LCBjb21taXQ6IGJ5dGVzLCBwYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQucmV2ZWFsTW92ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnJldmVhbE1vdmU6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTE1CiAgICAvLyBwdWJsaWMgcmV2ZWFsTW92ZShzZXNzaW9uSUQ6IHVpbnQ2NCwgY2hvaWNlOiB1aW50NjQsIHNhbHQ6IGJ5dGVzKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIGV4dHJhY3QgMiAwCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMTYKICAgIC8vIGFzc2VydChjaG9pY2UgPT09IDAgfHwgY2hvaWNlID09PSAxLCAnQ2hvaWNlIG11c3QgYmUgMCAoSGFyZSkgb3IgMSAoU3RhZyknKQogICAgYnogcmV2ZWFsTW92ZV9ib29sX3RydWVAMwogICAgZGlnIDEKICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYnogcmV2ZWFsTW92ZV9ib29sX2ZhbHNlQDQKCnJldmVhbE1vdmVfYm9vbF90cnVlQDM6CiAgICBpbnRjXzEgLy8gMQoKcmV2ZWFsTW92ZV9ib29sX21lcmdlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMTYKICAgIC8vIGFzc2VydChjaG9pY2UgPT09IDAgfHwgY2hvaWNlID09PSAxLCAnQ2hvaWNlIG11c3QgYmUgMCAoSGFyZSkgb3IgMSAoU3RhZyknKQogICAgYXNzZXJ0IC8vIENob2ljZSBtdXN0IGJlIDAgKEhhcmUpIG9yIDEgKFN0YWcpCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMzgKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cywgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgZGlnIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjY4CiAgICAvLyBnYW1lU2Vzc2lvbnMgPSBCb3hNYXA8dWludDY0LCBHYW1lQ29uZmlnPih7IGtleVByZWZpeDogJ2dzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ3MiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMzgKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cywgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIGNvbnN0IGNvbmZpZyA9IGNsb25lKHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE0MQogICAgLy8gY29uc3QgY3VycmVudEJsb2NrID0gR2xvYmFsLnJvdW5kCiAgICBnbG9iYWwgUm91bmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE0MwogICAgLy8gYXNzZXJ0KGN1cnJlbnRCbG9jayA+IGNvbmZpZy5lbmRDb21taXRBdCwgJ0NvbW1pdCBwaGFzZSBpcyBzdGlsbCBhY3RpdmUnKQogICAgZGlnIDEKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIDwKICAgIGFzc2VydCAvLyBDb21taXQgcGhhc2UgaXMgc3RpbGwgYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNDQKICAgIC8vIGFzc2VydChjdXJyZW50QmxvY2sgPD0gY29uZmlnLmVuZFJldmVhbEF0LCAnUmV2ZWFsIHBoYXNlIGhhcyBlbmRlZCcpCiAgICBzd2FwCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPD0KICAgIGFzc2VydCAvLyBSZXZlYWwgcGhhc2UgaGFzIGVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMTQKICAgIC8vIHJldHVybiBzaGEyNTYoaXRvYihzZXNzaW9uSUQpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNDYKICAgIC8vIGNvbnN0IHBsYXllckFkZHIgPSBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjE0CiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo1NgogICAgLy8gcGxheWVyQ29tbWl0ID0gQm94TWFwPGJ5dGVzLCBieXRlcz4oeyBrZXlQcmVmaXg6ICdwY29tJyB9KQogICAgYnl0ZWMgMTAgLy8gInBjb20iCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNDkKICAgIC8vIGFzc2VydCh0aGlzLnBsYXllckNvbW1pdChwbGF5ZXJLZXkpLmV4aXN0cywgJ05vIGNvbW1pdCBmb3VuZCBmb3IgdGhpcyBwbGF5ZXIgb3IgYWxyZWFkeSByZXZlYWxlZCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIE5vIGNvbW1pdCBmb3VuZCBmb3IgdGhpcyBwbGF5ZXIgb3IgYWxyZWFkeSByZXZlYWxlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTUxCiAgICAvLyBjb25zdCBzdG9yZWRDb21taXQgPSB0aGlzLnBsYXllckNvbW1pdChwbGF5ZXJLZXkpLnZhbHVlCiAgICBkdXAKICAgIGJveF9nZXQKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTUyCiAgICAvLyBjb25zdCBjb21wdXRlZENvbW1pdCA9IHNoYTI1NihpdG9iKGNob2ljZSkuY29uY2F0KHNhbHQpKQogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgNAogICAgaXRvYgogICAgZHVwCiAgICBkaWcgNwogICAgY29uY2F0CiAgICBzaGEyNTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE1NAogICAgLy8gYXNzZXJ0KGNvbXB1dGVkQ29tbWl0ID09PSBzdG9yZWRDb21taXQsICdJbnZhbGlkIHJldmVhbDogaGFzaCBtaXNtYXRjaCcpCiAgICB1bmNvdmVyIDIKICAgID09CiAgICBhc3NlcnQgLy8gSW52YWxpZCByZXZlYWw6IGhhc2ggbWlzbWF0Y2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjYzCiAgICAvLyBwbGF5ZXJDaG9pY2UgPSBCb3hNYXA8Ynl0ZXMsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6ICdwY2hvJyB9KQogICAgYnl0ZWMgMTEgLy8gInBjaG8iCiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTU2CiAgICAvLyB0aGlzLnBsYXllckNob2ljZShwbGF5ZXJLZXkpLnZhbHVlID0gY2hvaWNlCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNTcKICAgIC8vIHRoaXMucGxheWVyQ29tbWl0KHBsYXllcktleSkuZGVsZXRlKCkKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NjUKICAgIC8vIHN0YXRzID0gQm94TWFwPHVpbnQ2NCwgU3RhZ0h1bnRTdGF0cz4oeyBrZXlQcmVmaXg6ICdzaCcgfSkKICAgIGJ5dGVjIDUgLy8gInNoIgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIGR1cAogICAgYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMTkKICAgIC8vIGNvbnN0IHN0YXRzID0gY2xvbmUodGhpcy5zdGF0cyhzZXNzaW9uSUQpLnZhbHVlKQogICAgYm94X2dldAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjEyMAogICAgLy8gaWYgKGNob2ljZSA9PT0gMSkgc3RhdHMuc3RhZ3MgKz0gMQogICAgaW50Y18xIC8vIDEKICAgID09CiAgICBieiByZXZlYWxNb3ZlX2Vsc2VfYm9keUA3CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDAKCnJldmVhbE1vdmVfYWZ0ZXJfaWZfZWxzZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTIzCiAgICAvLyB0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0cykKICAgIGRpZyA0CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMTUKICAgIC8vIHB1YmxpYyByZXZlYWxNb3ZlKHNlc3Npb25JRDogdWludDY0LCBjaG9pY2U6IHVpbnQ2NCwgc2FsdDogYnl0ZXMpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCnJldmVhbE1vdmVfZWxzZV9ib2R5QDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMjEKICAgIC8vIGVsc2Ugc3RhdHMuaGFyZXMgKz0gMQogICAgZHVwCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiA4CiAgICBiIHJldmVhbE1vdmVfYWZ0ZXJfaWZfZWxzZUA4CgpyZXZlYWxNb3ZlX2Jvb2xfZmFsc2VANDoKICAgIGludGNfMCAvLyAwCiAgICBiIHJldmVhbE1vdmVfYm9vbF9tZXJnZUA1CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LnJlc29sdmVTZXNzaW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKcmVzb2x2ZVNlc3Npb246CiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAzCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gNQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTMxCiAgICAvLyBwdWJsaWMgcmVzb2x2ZVNlc3Npb24oc2Vzc2lvbklEOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKCnJlc29sdmVTZXNzaW9uX3doaWxlX3RvcEAxNDoKICAgIHB1c2hpbnQgMjAxMCAvLyAyMDEwCiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICA+CiAgICBieiByZXNvbHZlU2Vzc2lvbl9hZnRlcl93aGlsZUAxOQogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIGJ5dGVjIDEyIC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbQogICAgYnl0ZWMgMTIgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgaXR4bl9zdWJtaXQKICAgIGIgcmVzb2x2ZVNlc3Npb25fd2hpbGVfdG9wQDE0CgpyZXNvbHZlU2Vzc2lvbl9hZnRlcl93aGlsZUAxOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIwNgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBkdXAKICAgIGl0b2IKICAgIGR1cAogICAgYnVyeSAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NjgKICAgIC8vIGdhbWVTZXNzaW9ucyA9IEJveE1hcDx1aW50NjQsIEdhbWVDb25maWc+KHsga2V5UHJlZml4OiAnZ3MnIH0pCiAgICBieXRlY18xIC8vICJncyIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIwNgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTMzCiAgICAvLyBhc3NlcnQodGhpcy5zZXNzaW9uRXhpc3RzKHNlc3Npb25JRCksICdTZXNzaW9uIGRvZXMgbm90IGV4aXN0JykKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMzUKICAgIC8vIGNvbnN0IGNvbmZpZyA9IGNsb25lKHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGR1cAogICAgYnVyeSAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTM2CiAgICAvLyBhc3NlcnQoR2xvYmFsLnJvdW5kID4gY29uZmlnLmVuZFJldmVhbEF0LCAnUmV2ZWFsIHBoYXNlIG5vdCBlbmRlZCcpCiAgICBnbG9iYWwgUm91bmQKICAgIHN3YXAKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICA+CiAgICBhc3NlcnQgLy8gUmV2ZWFsIHBoYXNlIG5vdCBlbmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NjUKICAgIC8vIHN0YXRzID0gQm94TWFwPHVpbnQ2NCwgU3RhZ0h1bnRTdGF0cz4oeyBrZXlQcmVmaXg6ICdzaCcgfSkKICAgIGJ5dGVjIDUgLy8gInNoIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjEzOAogICAgLy8gY29uc3Qgc3RhdHMgPSBjbG9uZSh0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMTAKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMzkKICAgIC8vIGlmIChzdGF0cy5yZXNvbHZlZCkgcmV0dXJuIC8vIElkZW1wb3RlbnQgcmVzb2x1dGlvbgogICAgaW50YyA0IC8vIDEyOAogICAgZ2V0Yml0CiAgICBibnogcmVzb2x2ZVNlc3Npb25fYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQucmVzb2x2ZVNlc3Npb25AMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE0MQogICAgLy8gY29uc3QgY3VycmVudFRocmVzaG9sZFBjdCA9IHRoaXMuc3RhZ1RocmVzaG9sZFBlcmNlbnQudmFsdWUKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo1MwogICAgLy8gc3RhZ1RocmVzaG9sZFBlcmNlbnQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiA1MSB9KQogICAgYnl0ZWMgOCAvLyAic3RhZ1RocmVzaG9sZFBlcmNlbnQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNDEKICAgIC8vIGNvbnN0IGN1cnJlbnRUaHJlc2hvbGRQY3QgPSB0aGlzLnN0YWdUaHJlc2hvbGRQZXJjZW50LnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgYnVyeSA3CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNDIKICAgIC8vIGNvbnN0IGN1cnJlbnRSZWZ1bmRQY3QgPSB0aGlzLmhhcmVSZWZ1bmRQZXJjZW50LnZhbHVlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NDYKICAgIC8vIGhhcmVSZWZ1bmRQZXJjZW50ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogODAgfSkKICAgIGJ5dGVjXzMgLy8gImhhcmVSZWZ1bmRQZXJjZW50IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTQyCiAgICAvLyBjb25zdCBjdXJyZW50UmVmdW5kUGN0ID0gdGhpcy5oYXJlUmVmdW5kUGVyY2VudC52YWx1ZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGJ1cnkgOAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTQ0CiAgICAvLyBjb25zdCB0b3RhbFJldmVhbGVkOiB1aW50NjQgPSBzdGF0cy5zdGFncyArIHN0YXRzLmhhcmVzCiAgICBkaWcgNwogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSA1CiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSA0CiAgICArCiAgICBkdXAKICAgIGJ1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzMKICAgIC8vIHNlc3Npb25CYWxhbmNlcyA9IEJveE1hcDx1aW50NjQsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6ICdzYmFsJyB9KQogICAgYnl0ZWMgOSAvLyAic2JhbCIKICAgIGRpZyAxMAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTgKICAgIC8vIGFzc2VydCh0aGlzLnNlc3Npb25CYWxhbmNlcyhzZXNzaW9uSUQpLmV4aXN0cywgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTkKICAgIC8vIHJldHVybiB0aGlzLnNlc3Npb25CYWxhbmNlcyhzZXNzaW9uSUQpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIGJ0b2kKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE0OAogICAgLy8gaWYgKHRvdGFsUmV2ZWFsZWQgPT09IDApIHsKICAgIGJueiByZXNvbHZlU2Vzc2lvbl9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE0OQogICAgLy8gc3RhdHMucmVzb2x2ZWQgPSB0cnVlCiAgICBkaWcgOAogICAgaW50YyA0IC8vIDEyOAogICAgaW50Y18xIC8vIDEKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTUwCiAgICAvLyBzdGF0cy5zdWNjZXNzZnVsID0gZmFsc2UKICAgIGludGMgNSAvLyAxMjkKICAgIGludGNfMCAvLyAwCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE1MQogICAgLy8gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlICs9IHNlc3Npb25CYWxhbmNlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NTkKICAgIC8vIGdsb2JhbEphY2twb3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18wIC8vICJnbG9iYWxKYWNrcG90IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTUxCiAgICAvLyB0aGlzLmdsb2JhbEphY2twb3QudmFsdWUgKz0gc2Vzc2lvbkJhbGFuY2UKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBnbG9iYWxKYWNrcG90ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMCAvLyAiZ2xvYmFsSmFja3BvdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE1MQogICAgLy8gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlICs9IHNlc3Npb25CYWxhbmNlCiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTUyCiAgICAvLyB0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0cykKICAgIGRpZyAxMQogICAgc3dhcAogICAgYm94X3B1dAoKcmVzb2x2ZVNlc3Npb25fYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQucmVzb2x2ZVNlc3Npb25AMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxMzEKICAgIC8vIHB1YmxpYyByZXNvbHZlU2Vzc2lvbihzZXNzaW9uSUQ6IHVpbnQ2NCk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKcmVzb2x2ZVNlc3Npb25fYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTU2CiAgICAvLyBjb25zdCB0aHJlc2hvbGRNZXQgPSAoc3RhdHMuc3RhZ3MgKiAxMDApID49ICh0b3RhbFJldmVhbGVkICogY3VycmVudFRocmVzaG9sZFBjdCkKICAgIGRpZyAzCiAgICBpbnRjXzMgLy8gMTAwCiAgICAqCiAgICBkaWcgNQogICAgZGlnIDgKICAgICoKICAgID49CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNTgKICAgIC8vIGNvbnN0IGhhcmVSZWZ1bmRVbml0OiB1aW50NjQgPSAoY29uZmlnLnBhcnRpY2lwYXRpb24gKiBjdXJyZW50UmVmdW5kUGN0KSAvIDEwMAogICAgZGlnIDExCiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDkKICAgICoKICAgIGludGNfMyAvLyAxMDAKICAgIC8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE1OQogICAgLy8gY29uc3QgdG90YWxIYXJlUmVmdW5kczogdWludDY0ID0gc3RhdHMuaGFyZXMgKiBoYXJlUmVmdW5kVW5pdAogICAgZGlnIDQKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE2MQogICAgLy8gYXNzZXJ0KHNlc3Npb25CYWxhbmNlID49IHRvdGFsSGFyZVJlZnVuZHMsICdDcml0aWNhbDogSW5zb2x2ZW5jeScpCiAgICB1bmNvdmVyIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgZGlnIDEKICAgID49CiAgICBhc3NlcnQgLy8gQ3JpdGljYWw6IEluc29sdmVuY3kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE2NAogICAgLy8gY29uc3QgbmV0U2Vzc2lvblBvdDogdWludDY0ID0gc2Vzc2lvbkJhbGFuY2UgLSB0b3RhbEhhcmVSZWZ1bmRzCiAgICAtCiAgICBidXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE2NgogICAgLy8gaWYgKHRocmVzaG9sZE1ldCAmJiBzdGF0cy5zdGFncyA+IDApIHsKICAgIGJ6IHJlc29sdmVTZXNzaW9uX2Vsc2VfYm9keUA4CiAgICBkaWcgMgogICAgYnogcmVzb2x2ZVNlc3Npb25fZWxzZV9ib2R5QDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE2NwogICAgLy8gY29uc3QgamFja3BvdEFtb3VudCA9IHRoaXMuZ2xvYmFsSmFja3BvdC52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBnbG9iYWxKYWNrcG90ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMCAvLyAiZ2xvYmFsSmFja3BvdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE2NwogICAgLy8gY29uc3QgamFja3BvdEFtb3VudCA9IHRoaXMuZ2xvYmFsSmFja3BvdC52YWx1ZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE2OAogICAgLy8gY29uc3QgdG90YWxEaXN0cmlidXRhYmxlOiB1aW50NjQgPSBuZXRTZXNzaW9uUG90ICsgamFja3BvdEFtb3VudAogICAgZGlnIDUKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE3MAogICAgLy8gc3RhdHMucmV3YXJkUGVyU3RhZyA9IHRvdGFsRGlzdHJpYnV0YWJsZSAvIHN0YXRzLnN0YWdzCiAgICBkdXAKICAgIGRpZyA0CiAgICAvCiAgICBpdG9iCiAgICBkaWcgOQogICAgc3dhcAogICAgcmVwbGFjZTIgMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE3MQogICAgLy8gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlID0gdG90YWxEaXN0cmlidXRhYmxlICUgc3RhdHMuc3RhZ3MKICAgIGR1cAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgICUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBnbG9iYWxKYWNrcG90ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMCAvLyAiZ2xvYmFsSmFja3BvdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE3MQogICAgLy8gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlID0gdG90YWxEaXN0cmlidXRhYmxlICUgc3RhdHMuc3RhZ3MKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxNzMKICAgIC8vIHN0YXRzLnN1Y2Nlc3NmdWwgPSB0cnVlCiAgICBpbnRjIDUgLy8gMTI5CiAgICBpbnRjXzEgLy8gMQogICAgc2V0Yml0CiAgICBidXJ5IDgKCnJlc29sdmVTZXNzaW9uX2FmdGVyX2lmX2Vsc2VAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE4MQogICAgLy8gc3RhdHMucmVzb2x2ZWQgPSB0cnVlCiAgICBkaWcgNwogICAgaW50YyA0IC8vIDEyOAogICAgaW50Y18xIC8vIDEKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTgyCiAgICAvLyB0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0cykKICAgIGRpZyAxMQogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTMxCiAgICAvLyBwdWJsaWMgcmVzb2x2ZVNlc3Npb24oc2Vzc2lvbklEOiB1aW50NjQpOiB2b2lkIHsKICAgIGIgcmVzb2x2ZVNlc3Npb25fYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQucmVzb2x2ZVNlc3Npb25AMTAKCnJlc29sdmVTZXNzaW9uX2Vsc2VfYm9keUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTc2CiAgICAvLyB0aGlzLmdsb2JhbEphY2twb3QudmFsdWUgKz0gbmV0U2Vzc2lvblBvdAogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBnbG9iYWxKYWNrcG90ID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWNfMCAvLyAiZ2xvYmFsSmFja3BvdCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE3NgogICAgLy8gdGhpcy5nbG9iYWxKYWNrcG90LnZhbHVlICs9IG5ldFNlc3Npb25Qb3QKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NTkKICAgIC8vIGdsb2JhbEphY2twb3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18wIC8vICJnbG9iYWxKYWNrcG90IgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTc2CiAgICAvLyB0aGlzLmdsb2JhbEphY2twb3QudmFsdWUgKz0gbmV0U2Vzc2lvblBvdAogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE3NwogICAgLy8gc3RhdHMuc3VjY2Vzc2Z1bCA9IGZhbHNlCiAgICBkaWcgNwogICAgaW50YyA1IC8vIDEyOQogICAgaW50Y18wIC8vIDAKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTc4CiAgICAvLyBzdGF0cy5yZXdhcmRQZXJTdGFnID0gMAogICAgaW50Y18wIC8vIDAKICAgIGl0b2IKICAgIHJlcGxhY2UyIDE3CiAgICBidXJ5IDgKICAgIGIgcmVzb2x2ZVNlc3Npb25fYWZ0ZXJfaWZfZWxzZUA5CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmNsYWltV2lubmluZ3Nbcm91dGluZ10oKSAtPiB2b2lkOgpjbGFpbVdpbm5pbmdzOgogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxODkKICAgIC8vIHB1YmxpYyBjbGFpbVdpbm5pbmdzKHNlc3Npb25JRDogdWludDY0KTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIwNgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2OAogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjA2CiAgICAvLyByZXR1cm4gdGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxOTAKICAgIC8vIGFzc2VydCh0aGlzLnNlc3Npb25FeGlzdHMoc2Vzc2lvbklEKSwgJ1Nlc3Npb24gZG9lcyBub3QgZXhpc3QnKQogICAgYXNzZXJ0IC8vIFNlc3Npb24gZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE5MgogICAgLy8gY29uc3QgY29uZmlnID0gY2xvbmUodGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHBvcAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MTkzCiAgICAvLyBjb25zdCBwbGF5ZXJBZGRyID0gbmV3IEFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjE0CiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGRpZyAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NjMKICAgIC8vIHBsYXllckNob2ljZSA9IEJveE1hcDxieXRlcywgdWludDY0Pih7IGtleVByZWZpeDogJ3BjaG8nIH0pCiAgICBieXRlYyAxMSAvLyAicGNobyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxOTYKICAgIC8vIGFzc2VydCh0aGlzLnBsYXllckNob2ljZShwbGF5ZXJLZXkpLmV4aXN0cywgJ1BsYXllciBoYXMgbm90IHJldmVhbGVkIG9yIGFscmVhZHkgY2xhaW1lZCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIFBsYXllciBoYXMgbm90IHJldmVhbGVkIG9yIGFscmVhZHkgY2xhaW1lZAogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6NjUKICAgIC8vIHN0YXRzID0gQm94TWFwPHVpbnQ2NCwgU3RhZ0h1bnRTdGF0cz4oeyBrZXlQcmVmaXg6ICdzaCcgfSkKICAgIGJ5dGVjIDUgLy8gInNoIgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE5OAogICAgLy8gY29uc3Qgc3RhdHMgPSBjbG9uZSh0aGlzLnN0YXRzKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNvdmVyIDMKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoxOTkKICAgIC8vIGFzc2VydChzdGF0cy5yZXNvbHZlZCwgJ0dhbWUgbm90IHJlc29sdmVkJykKICAgIGludGMgNCAvLyAxMjgKICAgIGdldGJpdAogICAgYXNzZXJ0IC8vIEdhbWUgbm90IHJlc29sdmVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMDEKICAgIC8vIGNvbnN0IGNob2ljZSA9IHRoaXMucGxheWVyQ2hvaWNlKHBsYXllcktleSkudmFsdWUKICAgIGJveF9nZXQKICAgIHBvcAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjAzCiAgICAvLyBjb25zdCBjdXJyZW50UmVmdW5kUGN0ID0gdGhpcy5oYXJlUmVmdW5kUGVyY2VudC52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjQ2CiAgICAvLyBoYXJlUmVmdW5kUGVyY2VudCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDgwIH0pCiAgICBieXRlY18zIC8vICJoYXJlUmVmdW5kUGVyY2VudCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjIwMwogICAgLy8gY29uc3QgY3VycmVudFJlZnVuZFBjdCA9IHRoaXMuaGFyZVJlZnVuZFBlcmNlbnQudmFsdWUKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMDUKICAgIC8vIGlmIChjaG9pY2UgPT09IDApIHsKICAgIGJueiBjbGFpbVdpbm5pbmdzX2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMDcKICAgIC8vIHBheW91dCA9IChjb25maWcucGFydGljaXBhdGlvbiAqIGN1cnJlbnRSZWZ1bmRQY3QpIC8gMTAwCiAgICBkaWcgNAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICAqCiAgICBpbnRjXzMgLy8gMTAwCiAgICAvCiAgICBidXJ5IDYKCmNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjE4CiAgICAvLyB0aGlzLnBsYXllckNob2ljZShwbGF5ZXJLZXkpLmRlbGV0ZSgpCiAgICBkaWcgMgogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMjAKICAgIC8vIGlmIChwYXlvdXQgPiAwKSB7CiAgICBkaWcgNQogICAgYnogY2xhaW1XaW5uaW5nc19hZnRlcl9pZl9lbHNlQDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMjEtMjI1CiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBwbGF5ZXJBZGRyLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IHBheW91dCwKICAgIC8vICAgICBmZWU6IDAKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICBkaWcgNQogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGRpZyAzCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjI0CiAgICAvLyBmZWU6IDAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjIxLTIyNQogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogcGxheWVyQWRkci5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBwYXlvdXQsCiAgICAvLyAgICAgZmVlOiAwCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCmNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjE4OQogICAgLy8gcHVibGljIGNsYWltV2lubmluZ3Moc2Vzc2lvbklEOiB1aW50NjQpOiB1aW50NjQgewogICAgZGlnIDUKICAgIGl0b2IKICAgIGJ5dGVjIDYgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmNsYWltV2lubmluZ3NfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMTAKICAgIC8vIGlmIChzdGF0cy5zdWNjZXNzZnVsKSB7CiAgICBkaWcgMQogICAgaW50YyA1IC8vIDEyOQogICAgZ2V0Yml0CiAgICBieiBjbGFpbVdpbm5pbmdzX2Vsc2VfYm9keUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMTEKICAgIC8vIHBheW91dCA9IHN0YXRzLnJld2FyZFBlclN0YWcKICAgIGRpZyAxCiAgICBwdXNoaW50IDE3IC8vIDE3CiAgICBleHRyYWN0X3VpbnQ2NAogICAgYnVyeSA2CiAgICBiIGNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUA3CgpjbGFpbVdpbm5pbmdzX2Vsc2VfYm9keUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjEzCiAgICAvLyBwYXlvdXQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA2CiAgICBiIGNsYWltV2lubmluZ3NfYWZ0ZXJfaWZfZWxzZUA3CgoKLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmdldFJlcXVpcmVkTUJSW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0UmVxdWlyZWRNQlI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMzUKICAgIC8vIHB1YmxpYyBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicpOiB1aW50NjQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIGNhbGxzdWIgc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6OlN0YWdIdW50LmdldFJlcXVpcmVkTUJSCiAgICBpdG9iCiAgICBieXRlYyA2IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkdhbWVDb250cmFjdC5nZXRHYW1lVHlwZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldEdhbWVUeXBlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzkKICAgIC8vIHJldHVybiB0aGlzLmdhbWVUeXBlLnZhbHVlCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDQKICAgIC8vIGdhbWVUeXBlID0gR2xvYmFsU3RhdGU8Ynl0ZXM+KHsgaW5pdGlhbFZhbHVlOiBCeXRlcygnJykgfSkKICAgIGJ5dGVjXzIgLy8gImdhbWVUeXBlIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzkKICAgIC8vIHJldHVybiB0aGlzLmdhbWVUeXBlLnZhbHVlCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzgKICAgIC8vIHB1YmxpYyBnZXRHYW1lVHlwZSgpOiBieXRlcyB7CiAgICBkdXAKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWMgNiAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuaW5pdGlhbGl6ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmluaXRpYWxpemU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4NgogICAgLy8gcHVibGljIGluaXRpYWxpemUoZ2FtZVR5cGU6IHN0cmluZyk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjg3CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lVHlwZS52YWx1ZS5sZW5ndGggPT09IDAsICdDb250cmFjdCBhbHJlYWR5IGluaXRpYWxpemVkJykKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NAogICAgLy8gZ2FtZVR5cGUgPSBHbG9iYWxTdGF0ZTxieXRlcz4oeyBpbml0aWFsVmFsdWU6IEJ5dGVzKCcnKSB9KQogICAgYnl0ZWNfMiAvLyAiZ2FtZVR5cGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4NwogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZVR5cGUudmFsdWUubGVuZ3RoID09PSAwLCAnQ29udHJhY3QgYWxyZWFkeSBpbml0aWFsaXplZCcpCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgbGVuCiAgICAhCiAgICBhc3NlcnQgLy8gQ29udHJhY3QgYWxyZWFkeSBpbml0aWFsaXplZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6ODgKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MsICdPbmx5IGNyZWF0b3IgY2FuIGluaXRpYWxpemUnKQogICAgdHhuIFNlbmRlcgogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBjYW4gaW5pdGlhbGl6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDQKICAgIC8vIGdhbWVUeXBlID0gR2xvYmFsU3RhdGU8Ynl0ZXM+KHsgaW5pdGlhbFZhbHVlOiBCeXRlcygnJykgfSkKICAgIGJ5dGVjXzIgLy8gImdhbWVUeXBlIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6ODkKICAgIC8vIHRoaXMuZ2FtZVR5cGUudmFsdWUgPSBCeXRlcyhnYW1lVHlwZSkKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4NgogICAgLy8gcHVibGljIGluaXRpYWxpemUoZ2FtZVR5cGU6IHN0cmluZyk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjpTdGFnSHVudC5nZXRSZXF1aXJlZE1CUihjb21tYW5kOiBieXRlcykgLT4gdWludDY0OgpzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQuZ2V0UmVxdWlyZWRNQlI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMzUKICAgIC8vIHB1YmxpYyBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMzYKICAgIC8vIGlmIChjb21tYW5kID09PSAnbmV3R2FtZScpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgYnl0ZWMgNCAvLyAibmV3R2FtZSIKICAgID09CiAgICBieiBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQuZ2V0UmVxdWlyZWRNQlJfYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czoyMzgKICAgIC8vIHJldHVybiBzdGF0c01CUiArIHN1cGVyLmdldFJlcXVpcmVkTUJSKCduZXdHYW1lJykKICAgIGJ5dGVjIDQgLy8gIm5ld0dhbWUiCiAgICBjYWxsc3ViIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE2NQogICAgLy8gcmV0dXJuIDI1MDAgKyA0MDAgKiAoa2V5U2l6ZSArIHZhbHVlU2l6ZSkKICAgIHB1c2hpbnQgMTg1MDAgLy8gMTg1MDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zdGFnSHVudC9jb250cmFjdC5hbGdvLnRzOjIzOAogICAgLy8gcmV0dXJuIHN0YXRzTUJSICsgc3VwZXIuZ2V0UmVxdWlyZWRNQlIoJ25ld0dhbWUnKQogICAgKwogICAgcmV0c3ViCgpzbWFydF9jb250cmFjdHMvc3RhZ0h1bnQvY29udHJhY3QuYWxnby50czo6U3RhZ0h1bnQuZ2V0UmVxdWlyZWRNQlJfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3N0YWdIdW50L2NvbnRyYWN0LmFsZ28udHM6MjQwCiAgICAvLyByZXR1cm4gc3VwZXIuZ2V0UmVxdWlyZWRNQlIoY29tbWFuZCkKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSKGNvbW1hbmQ6IGJ5dGVzKSAtPiB1aW50NjQ6CnNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNzEKICAgIC8vIHByb3RlY3RlZCBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNzIKICAgIC8vIGlmIChjb21tYW5kID09PSAnbmV3R2FtZScpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgYnl0ZWMgNCAvLyAibmV3R2FtZSIKICAgID09CiAgICBieiBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSX2Vsc2VfYm9keUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNzcKICAgIC8vIHJldHVybiBjb25maWdNQlIgKyBiYWxhbmNlTUJSCiAgICBwdXNoaW50IDI5ODAwIC8vIDI5ODAwCiAgICByZXRzdWIKCnNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlJfZWxzZV9ib2R5QDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNzgKICAgIC8vIH0gZWxzZSBpZiAoY29tbWFuZCA9PT0gJ2pvaW4nKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIHB1c2hieXRlcyAiam9pbiIKICAgID09CiAgICBhc3NlcnQgLy8gQ29tbWFuZCBub3Qgc3VwcG9ydGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNjUKICAgIC8vIHJldHVybiAyNTAwICsgNDAwICogKGtleVNpemUgKyB2YWx1ZVNpemUpCiAgICBwdXNoaW50IDI5NzAwIC8vIDI5NzAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODAKICAgIC8vIHJldHVybiB0aGlzLmdldEJveE1CUigzNiwgMzIpCiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 1,
            "num_uints": 4
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "gameType": {
                    "type": "bytes",
                    "key": "gameType",
                    "descr": "Contract type identifier (e.g., 'RPS', 'GUESS').\nUsed for CLI validation."
                },
                "globalJackpot": {
                    "type": "uint64",
                    "key": "globalJackpot",
                    "descr": "Global Jackpot: Accumulates funds from ALL failed sessions.\nThis persistent pot increases the incentive for Stags in future games."
                },
                "hareRefundPercent": {
                    "type": "uint64",
                    "key": "hareRefundPercent",
                    "descr": "Percentage of the deposit refunded to Hares (Default: 80%).\nThis creates the \"Safety\" incentive.\nstored in Global State to allow Admin updates."
                },
                "sessionIDCounter": {
                    "type": "uint64",
                    "key": "sessionIDCounter",
                    "descr": "Global counter for generating unique session IDs."
                },
                "stagThresholdPercent": {
                    "type": "uint64",
                    "key": "stagThresholdPercent",
                    "descr": "Percentage of total players required to choose Stag for a win (Default: 60%).\nThis creates the \"Coordination\" difficulty.\nstored in Global State to allow Admin updates."
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "StagHunt",
        "desc": "Implementation of the \"Stag Hunt\" (Assurance Game) with Global Jackpot.\n* Game Mechanics:\n- Players deposit a participation fee.\n- Choice 0 (Hare): Low risk. Gets a partial refund (defined by hareRefundPercent).\n- Choice 1 (Stag): High risk. Needs coordination.\n* Win Condition:\n- If % of Stags >= stagThresholdPercent: Stags share the pot + Global Jackpot.\n- If % of Stags < stagThresholdPercent: Stags lose everything. Pot goes to Global Jackpot.",
        "methods": [
            {
                "name": "updateGameRules",
                "args": [
                    {
                        "type": "uint64",
                        "name": "newRefund"
                    },
                    {
                        "type": "uint64",
                        "name": "newThreshold"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Admin method to update game rules dynamically.\nOnly the contract creator can call this."
            },
            {
                "name": "createSession",
                "args": [
                    {
                        "type": "(uint64,uint64,uint64,uint64)",
                        "name": "config"
                    },
                    {
                        "type": "pay",
                        "name": "mbrPayment"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Creates a new game session.\nEnforces a minimum participation fee to avoid dust spam."
            },
            {
                "name": "joinSession",
                "args": [
                    {
                        "type": "uint64",
                        "name": "sessionID"
                    },
                    {
                        "type": "byte[]",
                        "name": "commit"
                    },
                    {
                        "type": "pay",
                        "name": "payment"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Allows a player to join the session."
            },
            {
                "name": "revealMove",
                "args": [
                    {
                        "type": "uint64",
                        "name": "sessionID"
                    },
                    {
                        "type": "uint64",
                        "name": "choice"
                    },
                    {
                        "type": "byte[]",
                        "name": "salt"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Reveals a player's move.\nUpdates the live counts of Stags and Hares."
            },
            {
                "name": "resolveSession",
                "args": [
                    {
                        "type": "uint64",
                        "name": "sessionID"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Resolves the session outcome based on the threshold.\nHandles refunds, jackpot accumulation, and reward calculation.\nMust be called once after the reveal phase ends."
            },
            {
                "name": "claimWinnings",
                "args": [
                    {
                        "type": "uint64",
                        "name": "sessionID"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Allows players to pull their winnings or refunds."
            },
            {
                "name": "getRequiredMBR",
                "args": [
                    {
                        "type": "string",
                        "name": "command"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Calculates the MBR required for session creation.\nIncludes storage for the session statistics box."
            },
            {
                "name": "getGameType",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "byte[]"
                },
                "desc": "Returns contract identification info."
            },
            {
                "name": "initialize",
                "args": [
                    {
                        "type": "string",
                        "name": "gameType"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Sets the game type. Immutable once set.\nCan only be called by the creator."
            }
        ],
        "networks": {}
    },
    "bare_call_config": {
        "no_op": "CREATE"
    }
}