/* eslint-disable */
/**
 * This file was automatically generated by @algorandfoundation/algokit-client-generator.
 * DO NOT MODIFY IT BY HAND.
 * requires: @algorandfoundation/algokit-utils: ^7
 */
import { type AlgorandClient } from '@algorandfoundation/algokit-utils/types/algorand-client'
import { ABIReturn, AppReturn, SendAppTransactionResult } from '@algorandfoundation/algokit-utils/types/app'
import { Arc56Contract, getArc56ReturnValue, getABIStructFromABITuple } from '@algorandfoundation/algokit-utils/types/app-arc56'
import {
  AppClient as _AppClient,
  AppClientMethodCallParams,
  AppClientParams,
  AppClientBareCallParams,
  CallOnComplete,
  AppClientCompilationParams,
  ResolveAppClientByCreatorAndName,
  ResolveAppClientByNetwork,
  CloneAppClientParams,
} from '@algorandfoundation/algokit-utils/types/app-client'
import { AppFactory as _AppFactory, AppFactoryAppClientParams, AppFactoryResolveAppClientByCreatorAndNameParams, AppFactoryDeployParams, AppFactoryParams, CreateSchema } from '@algorandfoundation/algokit-utils/types/app-factory'
import { TransactionComposer, AppCallMethodCall, AppMethodCallTransactionArgument, SimulateOptions, RawSimulateOptions, SkipSignaturesSimulateOptions } from '@algorandfoundation/algokit-utils/types/composer'
import { SendParams, SendSingleTransactionResult, SendAtomicTransactionComposerResults } from '@algorandfoundation/algokit-utils/types/transaction'
import { Address, encodeAddress, modelsv2, OnApplicationComplete, Transaction, TransactionSigner } from 'algosdk'

export const APP_SPEC: Arc56Contract = {"name":"AbstractGameContract","structs":{"GameState":[{"name":"players","type":"address[15]"},{"name":"currentPlayerCount","type":"uint64"},{"name":"maxPlayers","type":"uint64"},{"name":"commits","type":"byte[32][15]"},{"name":"hasCommitted","type":"bool[15]"},{"name":"moves","type":"byte[32][15]"},{"name":"hasRevealed","type":"bool[15]"},{"name":"balance","type":"uint64"},{"name":"participationFee","type":"uint64"},{"name":"deadline","type":"uint64"},{"name":"timerCommit","type":"uint64"},{"name":"timerReveal","type":"uint64"},{"name":"winner","type":"address"}]},"methods":[{"name":"joinGame","args":[{"type":"uint64","name":"gameId","desc":"The ID of the game to join"},{"type":"pay","name":"payment","desc":"Payment transaction for joining the game"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Join a game by paying an entry fee","events":[],"recommendations":{}},{"name":"getRequiredMbr","args":[],"returns":{"type":"uint64","desc":"Required MBR in microAlgos"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Public method to get the required MBR to create a game","events":[],"recommendations":{}},{"name":"commit","args":[{"type":"uint64","name":"gameId","desc":"The ID of the game"},{"type":"byte[32]","name":"commitment","desc":"The commit hash (hash(move + salt))"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Registers a player's commit (hash of move + salt)","events":[],"recommendations":{}},{"name":"reveal","args":[{"type":"uint64","name":"gameId","desc":"The ID of the game"},{"type":"byte[32]","name":"move","desc":"The move in plaintext"},{"type":"uint64","name":"salt","desc":"The salt used in the commit"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Allows a player to reveal their move.","events":[],"recommendations":{}},{"name":"backOff","args":[{"type":"uint64","name":"gameId","desc":"The ID of the game to withdraw from."}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Allows a player to withdraw from a game before it starts.","events":[],"recommendations":{}},{"name":"verifyDeadline","args":[{"type":"uint64","name":"gameId","desc":"The ID of the game to check."}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Verifies the game state against the deadline and resolves the game if the deadline has passed.\nThis function handles timeouts for both commit and reveal phases.","events":[],"recommendations":{}},{"name":"deleteGame","args":[{"type":"uint64","name":"gameId","desc":"The ID of the game to delete"}],"returns":{"type":"void"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Deletes a game and refunds all players\nOnly the creator (player[0]) can delete the game","events":[],"recommendations":{}},{"name":"getGameInfo","args":[{"type":"uint64","name":"gameId"}],"returns":{"type":"(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)","struct":"GameState"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"events":[],"recommendations":{}}],"arcs":[22,28],"desc":"Abstract contract for managing multiplayer games on Algorand.\nProvides the basic logic for creating, joining, committing/revealing moves,\nmanaging fees, and deleting games.\n\nThis class is intended to be extended by concrete contracts that implement\nthe specific game logic. It should not be deployed directly.\n\nSubclasses should add specific game methods and logic,\nand decorate the concrete class with the","networks":{},"state":{"schema":{"global":{"ints":1,"bytes":0},"local":{"ints":0,"bytes":0}},"keys":{"global":{"gameIdCounter":{"keyType":"AVMString","valueType":"AVMUint64","key":"Z2FtZUlkQ291bnRlcg==","desc":"Last game id"}},"local":{},"box":{}},"maps":{"global":{},"local":{},"box":{"games":{"keyType":"uint64","valueType":"GameState","desc":"Storage for games data","prefix":"Z2FtZXM="}}}},"bareActions":{"create":["NoOp"],"call":[]},"sourceInfo":{"approval":{"sourceInfo":[{"pc":[851],"errorMessage":"Cannot reveal: not all players have committed yet"},{"pc":[904],"errorMessage":"Commitment does not match"},{"pc":[192,476,736,1057,1357,1748,1870],"errorMessage":"Game does not exist"},{"pc":[1780],"errorMessage":"Game has started, deletion not possible"},{"pc":[213],"errorMessage":"Game is full"},{"pc":[740],"errorMessage":"Move exceeds maximum allowed size"},{"pc":[65],"errorMessage":"OnCompletion must be NoOp"},{"pc":[157],"errorMessage":"OnCompletion must be NoOp && can only call when creating"},{"pc":[1769],"errorMessage":"Only the creator can delete the game"},{"pc":[232],"errorMessage":"Payment amount must match the participation fee"},{"pc":[221],"errorMessage":"Payment must be to the contract"},{"pc":[265],"errorMessage":"Player already joined"},{"pc":[1377],"errorMessage":"The deadline has not been reached yet"},{"pc":[526],"errorMessage":"The game is not full yet"},{"pc":[522,784,1103],"errorMessage":"You are not a player in this game"},{"pc":[1110],"errorMessage":"You cannot withdraw after the game has started"},{"pc":[554],"errorMessage":"You have already committed"},{"pc":[874],"errorMessage":"You have already revealed"},{"pc":[810],"errorMessage":"You have not committed"},{"pc":[252,282,302,324,344,367,507,542,567,617,768,800,830,900,914,964,1088,1145,1156,1178,1182,1202,1219,1243,1281,1287,1404,1447,1509,1535,1577,1634,1659,1699,1762,1801],"errorMessage":"index access is out of bounds"},{"pc":[466,711],"errorMessage":"invalid number of bytes for arc4.static_array<arc4.uint8, 32>"},{"pc":[168,455,699,720,1046,1346,1737,1860],"errorMessage":"invalid number of bytes for arc4.uint64"},{"pc":[179],"errorMessage":"transaction type is pay"}],"pcOffsetMethod":"none"},"clear":{"sourceInfo":[],"pcOffsetMethod":"none"}},"source":{"approval":"I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQ4MCAzMiA5NzYgMTQ1OCA0OTYgNDg4IDk3OCAxNDY4IDE0NjAgMTQ3NgogICAgYnl0ZWNibG9jayAweDAwICJnYW1lcyIgIiIKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMyCiAgICAvLyBnYW1lSWRDb3VudGVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgcHVzaGJ5dGVzICJnYW1lSWRDb3VudGVyIgogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CgptYWluX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMwCiAgICAvLyBleHBvcnQgY2xhc3MgQWJzdHJhY3RHYW1lQ29udHJhY3QgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9fX2FsZ290c19fLmRlZmF1bHRDcmVhdGVAMTcKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0CiAgICBwdXNoYnl0ZXNzIDB4YmU5MDE0ZWYgMHg3NDg0ZTIzOCAweGM3MDQ3ZGM0IDB4ZDk4ZjY4ZDYgMHhmZjg4Njc0OCAweDJhNDBmYjgxIDB4MGMzNTYyMjEgMHhiYzNkYjFkNyAvLyBtZXRob2QgImpvaW5HYW1lKHVpbnQ2NCxwYXkpdm9pZCIsIG1ldGhvZCAiZ2V0UmVxdWlyZWRNYnIoKXVpbnQ2NCIsIG1ldGhvZCAiY29tbWl0KHVpbnQ2NCxieXRlWzMyXSl2b2lkIiwgbWV0aG9kICJyZXZlYWwodWludDY0LGJ5dGVbMzJdLHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJiYWNrT2ZmKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJ2ZXJpZnlEZWFkbGluZSh1aW50NjQpdm9pZCIsIG1ldGhvZCAiZGVsZXRlR2FtZSh1aW50NjQpdm9pZCIsIG1ldGhvZCAiZ2V0R2FtZUluZm8odWludDY0KShhZGRyZXNzWzE1XSx1aW50NjQsdWludDY0LGJ5dGVbMzJdWzE1XSxib29sWzE1XSxieXRlWzMyXVsxNV0sYm9vbFsxNV0sdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCxhZGRyZXNzKSIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGpvaW5HYW1lIG1haW5fZ2V0UmVxdWlyZWRNYnJfcm91dGVANyBjb21taXQgcmV2ZWFsIGJhY2tPZmYgdmVyaWZ5RGVhZGxpbmUgZGVsZXRlR2FtZSBnZXRHYW1lSW5mbwogICAgZXJyCgptYWluX2dldFJlcXVpcmVkTWJyX3JvdXRlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4MQogICAgLy8gcHVibGljIGdldFJlcXVpcmVkTWJyKCk6IHVpbnQ2NCB7CiAgICBwdXNoYnl0ZXMgMHgxNTFmN2M3NTAwMDAwMDAwMDAwOWEwNzQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9fX2FsZ290c19fLmRlZmF1bHRDcmVhdGVAMTc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozMAogICAgLy8gZXhwb3J0IGNsYXNzIEFic3RyYWN0R2FtZUNvbnRyYWN0IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcCAmJiBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6QWJzdHJhY3RHYW1lQ29udHJhY3Quam9pbkdhbWVbcm91dGluZ10oKSAtPiB2b2lkOgpqb2luR2FtZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQyCiAgICAvLyBwdWJsaWMgam9pbkdhbWUoZ2FtZUlkOiB1aW50NjQsIHBheW1lbnQ6IGd0eG4uUGF5bWVudFR4bik6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NAogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoZ2FtZUlkKS5leGlzdHMsICdHYW1lIGRvZXMgbm90IGV4aXN0JykKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM1CiAgICAvLyBnYW1lcyA9IEJveE1hcDx1aW50NjQsIEdhbWVTdGF0ZT4oeyBrZXlQcmVmaXg6ICdnYW1lcycgfSkKICAgIGJ5dGVjXzEgLy8gImdhbWVzIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ0CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBHYW1lIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NQogICAgLy8gY29uc3QgZ2FtZSA9IGNsb25lKHRoaXMuZ2FtZXMoZ2FtZUlkKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHBvcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NwogICAgLy8gYXNzZXJ0KGdhbWUuY3VycmVudFBsYXllckNvdW50IDwgZ2FtZS5tYXhQbGF5ZXJzLCAnR2FtZSBpcyBmdWxsJykKICAgIGR1cAogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgMwogICAgZHVwCiAgICBpbnRjIDcgLy8gNDg4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgdW5jb3ZlciAyCiAgICA+CiAgICBhc3NlcnQgLy8gR2FtZSBpcyBmdWxsCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0OQogICAgLy8gYXNzZXJ0KHBheW1lbnQucmVjZWl2ZXIgPT09IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCAnUGF5bWVudCBtdXN0IGJlIHRvIHRoZSBjb250cmFjdCcpCiAgICBkaWcgMQogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIFBheW1lbnQgbXVzdCBiZSB0byB0aGUgY29udHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjUxCiAgICAvLyBhc3NlcnQocGF5bWVudC5hbW91bnQgPT09IGdhbWUucGFydGljaXBhdGlvbkZlZSwgJ1BheW1lbnQgYW1vdW50IG11c3QgbWF0Y2ggdGhlIHBhcnRpY2lwYXRpb24gZmVlJykKICAgIHN3YXAKICAgIGd0eG5zIEFtb3VudAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGludGMgOSAvLyAxNDY4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPT0KICAgIGFzc2VydCAvLyBQYXltZW50IGFtb3VudCBtdXN0IG1hdGNoIHRoZSBwYXJ0aWNpcGF0aW9uIGZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTMKICAgIC8vIGxldCBhbHJlYWR5Sm9pbmVkID0gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo1NAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGdhbWUuY3VycmVudFBsYXllckNvdW50OyBpID0gaSArIDEpIHsKICAgIGR1cAoKam9pbkdhbWVfd2hpbGVfdG9wQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo1NAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGdhbWUuY3VycmVudFBsYXllckNvdW50OyBpID0gaSArIDEpIHsKICAgIGR1cAogICAgZGlnIDQKICAgIDwKICAgIGJ6IGpvaW5HYW1lX2Jsb2NrQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjU1CiAgICAvLyBpZiAoZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSA9PT0gVHhuLnNlbmRlcikgewogICAgZGlnIDQKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBieiBqb2luR2FtZV9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjU2CiAgICAvLyBhbHJlYWR5Sm9pbmVkID0gdHJ1ZQogICAgaW50Y18xIC8vIDEKICAgIGJ1cnkgMgoKam9pbkdhbWVfYmxvY2tANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjYwCiAgICAvLyBhc3NlcnQoIWFscmVhZHlKb2luZWQsICdQbGF5ZXIgYWxyZWFkeSBqb2luZWQnKQogICAgZGlnIDEKICAgICEKICAgIGFzc2VydCAvLyBQbGF5ZXIgYWxyZWFkeSBqb2luZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjYzCiAgICAvLyBnYW1lLnBsYXllcnNbZ2FtZS5jdXJyZW50UGxheWVyQ291bnRdID0gbmV3IEFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIGRpZyA1CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgZGlnIDYKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgdW5jb3ZlciAyCiAgICByZXBsYWNlMyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHJlcGxhY2UyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjY0CiAgICAvLyBnYW1lLmNvbW1pdHNbZ2FtZS5jdXJyZW50UGxheWVyQ291bnRdID0gbmV3IFN0YXRpY0J5dGVzPDMyPihiemVybygzMikpCiAgICBpbnRjXzMgLy8gMzIKICAgIGJ6ZXJvCiAgICBkaWcgMQogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAyCiAgICBpbnRjIDYgLy8gNDk2CiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgc3dhcAogICAgaW50Y18zIC8vIDMyCiAgICAqCiAgICBkaWcgMgogICAgcmVwbGFjZTMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICB1bmNvdmVyIDIKICAgIGludGMgNiAvLyA0OTYKICAgIHVuY292ZXIgMgogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjY1CiAgICAvLyBnYW1lLm1vdmVzW2dhbWUuY3VycmVudFBsYXllckNvdW50XSA9IG5ldyBTdGF0aWNCeXRlczwzMj4oYnplcm8oMzIpKQogICAgZHVwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGMgOCAvLyA5NzgKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIHVuY292ZXIgMwogICAgcmVwbGFjZTMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBpbnRjIDggLy8gOTc4CiAgICBzd2FwCiAgICByZXBsYWNlMwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NjYKICAgIC8vIGdhbWUuaGFzUmV2ZWFsZWRbZ2FtZS5jdXJyZW50UGxheWVyQ291bnRdID0gbmV3IEJvb2woZmFsc2UpCiAgICBkdXAKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgaW50YyA1IC8vIDE0NTgKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIHB1c2hpbnQgMTUgLy8gMTUKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgaW50Y18wIC8vIDAKICAgIHNldGJpdAogICAgaW50YyA1IC8vIDE0NTgKICAgIHN3YXAKICAgIHJlcGxhY2UzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2NwogICAgLy8gZ2FtZS5oYXNDb21taXR0ZWRbZ2FtZS5jdXJyZW50UGxheWVyQ291bnRdID0gbmV3IEJvb2woZmFsc2UpCiAgICBkdXAKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgaW50YyA0IC8vIDk3NgogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3QzCiAgICBkaWcgMQogICAgcHVzaGludCAxNSAvLyAxNQogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2NgogICAgLy8gZ2FtZS5oYXNSZXZlYWxlZFtnYW1lLmN1cnJlbnRQbGF5ZXJDb3VudF0gPSBuZXcgQm9vbChmYWxzZSkKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2NwogICAgLy8gZ2FtZS5oYXNDb21taXR0ZWRbZ2FtZS5jdXJyZW50UGxheWVyQ291bnRdID0gbmV3IEJvb2woZmFsc2UpCiAgICBzZXRiaXQKICAgIGludGMgNCAvLyA5NzYKICAgIHN3YXAKICAgIHJlcGxhY2UzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo2OQogICAgLy8gZ2FtZS5jdXJyZW50UGxheWVyQ291bnQgKz0gMQogICAgZHVwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGludGNfMiAvLyA0ODAKICAgIHN3YXAKICAgIHJlcGxhY2UzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3MAogICAgLy8gZ2FtZS5iYWxhbmNlID0gVWludDY0KGdhbWUuYmFsYW5jZSArIHBheW1lbnQuYW1vdW50KQogICAgZHVwCiAgICBpbnRjIDEwIC8vIDE0NjAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgNAogICAgKwogICAgaXRvYgogICAgaW50YyAxMCAvLyAxNDYwCiAgICBzd2FwCiAgICByZXBsYWNlMwogICAgZHVwCiAgICBidXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjcyCiAgICAvLyBpZiAoZ2FtZS5jdXJyZW50UGxheWVyQ291bnQgPT09IGdhbWUubWF4UGxheWVycykgZ2FtZS5kZWFkbGluZSA9IEdsb2JhbC5sYXRlc3RUaW1lc3RhbXAgKyBnYW1lLnRpbWVyQ29tbWl0CiAgICBkdXAKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3RfdWludDY0CiAgICBzd2FwCiAgICBpbnRjIDcgLy8gNDg4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPT0KICAgIGJ6IGpvaW5HYW1lX2FmdGVyX2lmX2Vsc2VAOQogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgMgogICAgcHVzaGludCAxNDg0IC8vIDE0ODQKICAgIGV4dHJhY3RfdWludDY0CiAgICArCiAgICBpdG9iCiAgICBpbnRjIDExIC8vIDE0NzYKICAgIHN3YXAKICAgIHJlcGxhY2UzCiAgICBidXJ5IDUKCmpvaW5HYW1lX2FmdGVyX2lmX2Vsc2VAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjc0CiAgICAvLyB0aGlzLmdhbWVzKGdhbWVJZCkudmFsdWUgPSBjbG9uZShnYW1lKQogICAgZGlnIDUKICAgIGRpZyA1CiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0MgogICAgLy8gcHVibGljIGpvaW5HYW1lKGdhbWVJZDogdWludDY0LCBwYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmpvaW5HYW1lX2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjU0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGpvaW5HYW1lX3doaWxlX3RvcEAyCgoKLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkFic3RyYWN0R2FtZUNvbnRyYWN0LmNvbW1pdFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmNvbW1pdDoKICAgIGJ5dGVjXzIgLy8gIiIKICAgIGR1cG4gMwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTU2CiAgICAvLyBwdWJsaWMgY29tbWl0KGdhbWVJZDogdWludDY0LCBjb21taXRtZW50OiBTdGF0aWNCeXRlczwzMj4pOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTU4CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzUKICAgIC8vIGdhbWVzID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dhbWVzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ2FtZXMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTU4CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gR2FtZSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTYwCiAgICAvLyBjb25zdCBnYW1lID0gY2xvbmUodGhpcy5nYW1lcyhnYW1lSWQpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE2MwogICAgLy8gbGV0IHBsYXllckluZGV4OiB1aW50NjQgPSBnYW1lLm1heFBsYXllcnMgLy8gSW1wb3NzaWJsZSB2YWx1ZSBhcyBkZWZhdWx0CiAgICBpbnRjIDcgLy8gNDg4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTY0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgaW50Y18wIC8vIDAKCmNvbW1pdF93aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE2NAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGdhbWUuY3VycmVudFBsYXllckNvdW50OyBpID0gaSArIDEpIHsKICAgIGRpZyAyCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDcKICAgIGRpZyAxCiAgICA+CiAgICBieiBjb21taXRfYWZ0ZXJfd2hpbGVANgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTY1CiAgICAvLyBpZiAoZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSA9PT0gVHhuLnNlbmRlcikgewogICAgZGlnIDIKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBieiBjb21taXRfYWZ0ZXJfaWZfZWxzZUA1CiAgICBkdXAKCmNvbW1pdF9ibG9ja0A3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTcyCiAgICAvLyBhc3NlcnQocGxheWVySW5kZXggPCBnYW1lLm1heFBsYXllcnMsICdZb3UgYXJlIG5vdCBhIHBsYXllciBpbiB0aGlzIGdhbWUnKQogICAgZHVwCiAgICBkaWcgMwogICAgZHVwCiAgICBjb3ZlciAyCiAgICA8CiAgICBhc3NlcnQgLy8gWW91IGFyZSBub3QgYSBwbGF5ZXIgaW4gdGhpcyBnYW1lCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNzUKICAgIC8vIGFzc2VydChnYW1lLmN1cnJlbnRQbGF5ZXJDb3VudCA9PT0gZ2FtZS5tYXhQbGF5ZXJzLCAnVGhlIGdhbWUgaXMgbm90IGZ1bGwgeWV0JykKICAgIGRpZyA3CiAgICA9PQogICAgYXNzZXJ0IC8vIFRoZSBnYW1lIGlzIG5vdCBmdWxsIHlldAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTc4CiAgICAvLyBhc3NlcnQoIWdhbWUuaGFzQ29tbWl0dGVkW3BsYXllckluZGV4XS5uYXRpdmUsICdZb3UgaGF2ZSBhbHJlYWR5IGNvbW1pdHRlZCcpCiAgICBkaWcgMwogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjIDQgLy8gOTc2CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdDMKICAgIGRpZyAxCiAgICBwdXNoaW50IDE1IC8vIDE1CiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGRpZyAxCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICAhCiAgICBhc3NlcnQgLy8gWW91IGhhdmUgYWxyZWFkeSBjb21taXR0ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE4MQogICAgLy8gZ2FtZS5jb21taXRzW3BsYXllckluZGV4XSA9IGNvbW1pdG1lbnQKICAgIGRpZyAxCiAgICBpbnRjIDYgLy8gNDk2CiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgZGlnIDEKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgZGlnIDgKICAgIHJlcGxhY2UzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgdW5jb3ZlciAyCiAgICBpbnRjIDYgLy8gNDk2CiAgICB1bmNvdmVyIDIKICAgIHJlcGxhY2UzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODIKICAgIC8vIGdhbWUuaGFzQ29tbWl0dGVkW3BsYXllckluZGV4XSA9IG5ldyBCb29sKHRydWUpCiAgICBkdXAKICAgIGludGMgNCAvLyA5NzYKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBleHRyYWN0MwogICAgdW5jb3ZlciAyCiAgICBpbnRjXzEgLy8gMQogICAgc2V0Yml0CiAgICBpbnRjIDQgLy8gOTc2CiAgICBzd2FwCiAgICByZXBsYWNlMwogICAgYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODQKICAgIC8vIGxldCBhbGxDb21taXR0ZWQgPSB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgYnVyeSA5CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA3Cgpjb21taXRfZm9yX2hlYWRlckA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTg1CiAgICAvLyBmb3IgKGNvbnN0IGIgb2YgZ2FtZS5oYXNDb21taXR0ZWQpIHsKICAgIGRpZyA2CiAgICBwdXNoaW50IDE1IC8vIDE1CiAgICA8CiAgICBkdXAKICAgIGJ1cnkgOQogICAgYnogY29tbWl0X2Jsb2NrQDE1CiAgICBkaWcgMgogICAgaW50YyA0IC8vIDk3NgogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3QzCiAgICBkaWcgOAogICAgYXNzZXJ0IC8vIGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkaWcgNwogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTg2CiAgICAvLyBpZiAoIWIubmF0aXZlKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBibnogY29tbWl0X2FmdGVyX2lmX2Vsc2VAMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE4NwogICAgLy8gYWxsQ29tbWl0dGVkID0gZmFsc2UKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDkKCmNvbW1pdF9ibG9ja0AxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE5MgogICAgLy8gaWYgKGFsbENvbW1pdHRlZCkgewogICAgZGlnIDgKICAgIGJ6IGNvbW1pdF9hZnRlcl9pZl9lbHNlQDE3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTMKICAgIC8vIGdhbWUuZGVhZGxpbmUgPSBHbG9iYWwubGF0ZXN0VGltZXN0YW1wICsgZ2FtZS50aW1lclJldmVhbAogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgZGlnIDMKICAgIGR1cAogICAgY292ZXIgMgogICAgcHVzaGludCAxNDkyIC8vIDE0OTIKICAgIGV4dHJhY3RfdWludDY0CiAgICArCiAgICBpdG9iCiAgICBpbnRjIDExIC8vIDE0NzYKICAgIHN3YXAKICAgIHJlcGxhY2UzCiAgICBidXJ5IDMKCmNvbW1pdF9hZnRlcl9pZl9lbHNlQDE3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTk3CiAgICAvLyB0aGlzLmdhbWVzKGdhbWVJZCkudmFsdWUgPSBjbG9uZShnYW1lKQogICAgZGlnIDMKICAgIGRpZyAzCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxNTYKICAgIC8vIHB1YmxpYyBjb21taXQoZ2FtZUlkOiB1aW50NjQsIGNvbW1pdG1lbnQ6IFN0YXRpY0J5dGVzPDMyPik6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKY29tbWl0X2FmdGVyX2lmX2Vsc2VAMTI6CiAgICBkaWcgNgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgNwogICAgYiBjb21taXRfZm9yX2hlYWRlckA5Cgpjb21taXRfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTY0CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGNvbW1pdF93aGlsZV90b3BAMgoKY29tbWl0X2FmdGVyX3doaWxlQDY6CiAgICBkaWcgMQogICAgYiBjb21taXRfYmxvY2tANwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpBYnN0cmFjdEdhbWVDb250cmFjdC5yZXZlYWxbcm91dGluZ10oKSAtPiB2b2lkOgpyZXZlYWw6CiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMDYKICAgIC8vIHB1YmxpYyByZXZlYWwoZ2FtZUlkOiB1aW50NjQsIG1vdmU6IFN0YXRpY0J5dGVzPDMyPiwgc2FsdDogdWludDY0KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGxlbgogICAgZHVwCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjA4CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgc3dhcAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzUKICAgIC8vIGdhbWVzID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dhbWVzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ2FtZXMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjA4CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBHYW1lIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMTEKICAgIC8vIGFzc2VydChtb3ZlLm5hdGl2ZS5sZW5ndGggPD0gMzIsICdNb3ZlIGV4Y2VlZHMgbWF4aW11bSBhbGxvd2VkIHNpemUnKQogICAgc3dhcAogICAgaW50Y18zIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIE1vdmUgZXhjZWVkcyBtYXhpbXVtIGFsbG93ZWQgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjEzCiAgICAvLyBjb25zdCBnYW1lID0gY2xvbmUodGhpcy5nYW1lcyhnYW1lSWQpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIxNgogICAgLy8gbGV0IHBsYXllckluZGV4OiB1aW50NjQgPSBnYW1lLm1heFBsYXllcnMKICAgIGludGMgNyAvLyA0ODgKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMTcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBnYW1lLmN1cnJlbnRQbGF5ZXJDb3VudDsgaSA9IGkgKyAxKSB7CiAgICBpbnRjXzAgLy8gMAoKcmV2ZWFsX3doaWxlX3RvcEAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjE3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgZGlnIDIKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgPgogICAgYnogcmV2ZWFsX2FmdGVyX3doaWxlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIxOAogICAgLy8gaWYgKGdhbWUucGxheWVyc1tpXS5uYXRpdmUgPT09IFR4bi5zZW5kZXIpIHsKICAgIGRpZyAyCiAgICBpbnRjXzAgLy8gMAogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdDMKICAgIGRpZyAxCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGludGNfMyAvLyAzMgogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYnogcmV2ZWFsX2FmdGVyX2lmX2Vsc2VANQogICAgZHVwCiAgICBidXJ5IDcKCnJldmVhbF9ibG9ja0A3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjIzCiAgICAvLyBhc3NlcnQocGxheWVySW5kZXggPCBnYW1lLm1heFBsYXllcnMsICdZb3UgYXJlIG5vdCBhIHBsYXllciBpbiB0aGlzIGdhbWUnKQogICAgZGlnIDYKICAgIGR1cAogICAgZGlnIDMKICAgIDwKICAgIGFzc2VydCAvLyBZb3UgYXJlIG5vdCBhIHBsYXllciBpbiB0aGlzIGdhbWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyNgogICAgLy8gYXNzZXJ0KGdhbWUuaGFzQ29tbWl0dGVkW3BsYXllckluZGV4XS5uYXRpdmUsICdZb3UgaGF2ZSBub3QgY29tbWl0dGVkJykKICAgIGRpZyAzCiAgICBpbnRjIDQgLy8gOTc2CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdDMKICAgIGR1cAogICAgYnVyeSAxNgogICAgZGlnIDEKICAgIHB1c2hpbnQgMTUgLy8gMTUKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgYXNzZXJ0IC8vIFlvdSBoYXZlIG5vdCBjb21taXR0ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyOQogICAgLy8gbGV0IGFsbENvbW1pdHRlZCA9IHRydWUKICAgIGludGNfMSAvLyAxCiAgICBidXJ5IDEzCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA5CgpyZXZlYWxfZm9yX2hlYWRlckA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyBmb3IgKGNvbnN0IGIgb2YgZ2FtZS5oYXNDb21taXR0ZWQpIHsKICAgIGRpZyA4CiAgICBwdXNoaW50IDE1IC8vIDE1CiAgICA8CiAgICBkdXAKICAgIGJ1cnkgMTIKICAgIGJ6IHJldmVhbF9ibG9ja0AxNQogICAgZGlnIDEwCiAgICBhc3NlcnQgLy8gaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGRpZyAxMwogICAgZGlnIDkKICAgIGdldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIzMQogICAgLy8gaWYgKCFiLm5hdGl2ZSkgewogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgYm56IHJldmVhbF9hZnRlcl9pZl9lbHNlQDEyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMzIKICAgIC8vIGFsbENvbW1pdHRlZCA9IGZhbHNlCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSAxMwoKcmV2ZWFsX2Jsb2NrQDE1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjM2CiAgICAvLyBhc3NlcnQoYWxsQ29tbWl0dGVkLCAnQ2Fubm90IHJldmVhbDogbm90IGFsbCBwbGF5ZXJzIGhhdmUgY29tbWl0dGVkIHlldCcpCiAgICBkaWcgMTIKICAgIGFzc2VydCAvLyBDYW5ub3QgcmV2ZWFsOiBub3QgYWxsIHBsYXllcnMgaGF2ZSBjb21taXR0ZWQgeWV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMzkKICAgIC8vIGFzc2VydCghZ2FtZS5oYXNSZXZlYWxlZFtwbGF5ZXJJbmRleF0ubmF0aXZlLCAnWW91IGhhdmUgYWxyZWFkeSByZXZlYWxlZCcpCiAgICBkaWcgMgogICAgZHVwCiAgICBpbnRjIDUgLy8gMTQ1OAogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3QzCiAgICBkaWcgOAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICAhCiAgICBhc3NlcnQgLy8gWW91IGhhdmUgYWxyZWFkeSByZXZlYWxlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjQyCiAgICAvLyBjb25zdCBjb21wdXRlZEhhc2ggPSBvcC5zaGEyNTYobW92ZS5uYXRpdmUuY29uY2F0KG9wLml0b2Ioc2FsdCkpKQogICAgZGlnIDYKICAgIGl0b2IKICAgIGRpZyA4CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyNDUKICAgIC8vIGFzc2VydChjb21wdXRlZEhhc2ggPT09IGdhbWUuY29tbWl0c1twbGF5ZXJJbmRleF0ubmF0aXZlLCAnQ29tbWl0bWVudCBkb2VzIG5vdCBtYXRjaCcpCiAgICBkaWcgMgogICAgaW50YyA2IC8vIDQ5NgogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdDMKICAgIGRpZyAyCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIHN3YXAKICAgIGRpZyAxCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgdW5jb3ZlciAyCiAgICA9PQogICAgYXNzZXJ0IC8vIENvbW1pdG1lbnQgZG9lcyBub3QgbWF0Y2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI0OAogICAgLy8gZ2FtZS5tb3Zlc1twbGF5ZXJJbmRleF0gPSBtb3ZlCiAgICBkaWcgMgogICAgaW50YyA4IC8vIDk3OAogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdDMKICAgIHN3YXAKICAgIHVuY292ZXIgNAogICAgcmVwbGFjZTMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICB1bmNvdmVyIDIKICAgIGludGMgOCAvLyA5NzgKICAgIHVuY292ZXIgMgogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI0OQogICAgLy8gZ2FtZS5oYXNSZXZlYWxlZFtwbGF5ZXJJbmRleF0gPSBuZXcgQm9vbCh0cnVlKQogICAgZHVwCiAgICBpbnRjIDUgLy8gMTQ1OAogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3QzCiAgICB1bmNvdmVyIDIKICAgIGludGNfMSAvLyAxCiAgICBzZXRiaXQKICAgIGludGMgNSAvLyAxNDU4CiAgICBzd2FwCiAgICByZXBsYWNlMwogICAgYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyNTIKICAgIC8vIGxldCBhbGxSZXZlYWxlZCA9IHRydWUKICAgIGludGNfMSAvLyAxCiAgICBidXJ5IDEyCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA4CgpyZXZlYWxfZm9yX2hlYWRlckAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI1MwogICAgLy8gZm9yIChjb25zdCBiIG9mIGdhbWUuaGFzUmV2ZWFsZWQpIHsKICAgIGRpZyA3CiAgICBwdXNoaW50IDE1IC8vIDE1CiAgICA8CiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIGJ6IHJldmVhbF9ibG9ja0AyMwogICAgZGlnIDIKICAgIGludGMgNSAvLyAxNDU4CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdDMKICAgIGRpZyAxMAogICAgYXNzZXJ0IC8vIGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkaWcgOAogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjU0CiAgICAvLyBpZiAoIWIubmF0aXZlKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBibnogcmV2ZWFsX2FmdGVyX2lmX2Vsc2VAMjAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI1NQogICAgLy8gYWxsUmV2ZWFsZWQgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTIKCnJldmVhbF9ibG9ja0AyMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI2MAogICAgLy8gaWYgKGFsbFJldmVhbGVkKSB7CiAgICBkaWcgMTEKICAgIGJ6IHJldmVhbF9hZnRlcl9pZl9lbHNlQDI1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyNjEKICAgIC8vIGdhbWUuZGVhZGxpbmUgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgaXRvYgogICAgZGlnIDMKICAgIGludGMgMTEgLy8gMTQ3NgogICAgdW5jb3ZlciAyCiAgICByZXBsYWNlMwogICAgYnVyeSAzCgpyZXZlYWxfYWZ0ZXJfaWZfZWxzZUAyNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI2NgogICAgLy8gdGhpcy5nYW1lcyhnYW1lSWQpLnZhbHVlID0gY2xvbmUoZ2FtZSkKICAgIGRpZyAzCiAgICBkaWcgMwogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjA2CiAgICAvLyBwdWJsaWMgcmV2ZWFsKGdhbWVJZDogdWludDY0LCBtb3ZlOiBTdGF0aWNCeXRlczwzMj4sIHNhbHQ6IHVpbnQ2NCk6IHZvaWQgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKcmV2ZWFsX2FmdGVyX2lmX2Vsc2VAMjA6CiAgICBkaWcgNwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgOAogICAgYiByZXZlYWxfZm9yX2hlYWRlckAxNwoKcmV2ZWFsX2FmdGVyX2lmX2Vsc2VAMTI6CiAgICBkaWcgOAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgOQogICAgYiByZXZlYWxfZm9yX2hlYWRlckA5CgpyZXZlYWxfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjE3CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIHJldmVhbF93aGlsZV90b3BAMgoKcmV2ZWFsX2FmdGVyX3doaWxlQDY6CiAgICBkaWcgMQogICAgYnVyeSA3CiAgICBiIHJldmVhbF9ibG9ja0A3CgoKLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkFic3RyYWN0R2FtZUNvbnRyYWN0LmJhY2tPZmZbcm91dGluZ10oKSAtPiB2b2lkOgpiYWNrT2ZmOgogICAgYnl0ZWNfMiAvLyAiIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjczCiAgICAvLyBwdWJsaWMgYmFja09mZihnYW1lSWQ6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mjc1CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzUKICAgIC8vIGdhbWVzID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dhbWVzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ2FtZXMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mjc1CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gR2FtZSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mjc2CiAgICAvLyBjb25zdCBnYW1lID0gY2xvbmUodGhpcy5nYW1lcyhnYW1lSWQpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI3OQogICAgLy8gbGV0IHBsYXllckluZGV4OiB1aW50NjQgPSBnYW1lLm1heFBsYXllcnMKICAgIGludGMgNyAvLyA0ODgKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyODAKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBnYW1lLmN1cnJlbnRQbGF5ZXJDb3VudDsgaSA9IGkgKyAxKSB7CiAgICBpbnRjXzAgLy8gMAoKYmFja09mZl93aGlsZV90b3BAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI4MAogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGdhbWUuY3VycmVudFBsYXllckNvdW50OyBpID0gaSArIDEpIHsKICAgIGRpZyAyCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBidXJ5IDYKICAgIGRpZyAxCiAgICA+CiAgICBieiBiYWNrT2ZmX2FmdGVyX3doaWxlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI4MQogICAgLy8gaWYgKGdhbWUucGxheWVyc1tpXS5uYXRpdmUgPT09IFR4bi5zZW5kZXIpIHsKICAgIGRpZyAyCiAgICBpbnRjXzAgLy8gMAogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdDMKICAgIGRpZyAxCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGludGNfMyAvLyAzMgogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYnogYmFja09mZl9hZnRlcl9pZl9lbHNlQDUKICAgIGR1cAoKYmFja09mZl9ibG9ja0A3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mjg2CiAgICAvLyBhc3NlcnQocGxheWVySW5kZXggPCBnYW1lLm1heFBsYXllcnMsICdZb3UgYXJlIG5vdCBhIHBsYXllciBpbiB0aGlzIGdhbWUnKQogICAgZHVwCiAgICBkaWcgMwogICAgZHVwCiAgICBjb3ZlciAyCiAgICA8CiAgICBhc3NlcnQgLy8gWW91IGFyZSBub3QgYSBwbGF5ZXIgaW4gdGhpcyBnYW1lCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyODkKICAgIC8vIGFzc2VydChnYW1lLmN1cnJlbnRQbGF5ZXJDb3VudCA8IGdhbWUubWF4UGxheWVycywgJ1lvdSBjYW5ub3Qgd2l0aGRyYXcgYWZ0ZXIgdGhlIGdhbWUgaGFzIHN0YXJ0ZWQnKQogICAgZGlnIDYKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICA8CiAgICBhc3NlcnQgLy8gWW91IGNhbm5vdCB3aXRoZHJhdyBhZnRlciB0aGUgZ2FtZSBoYXMgc3RhcnRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjkyLTI5NwogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBnYW1lLnBhcnRpY2lwYXRpb25GZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mjk0CiAgICAvLyByZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI5NQogICAgLy8gYW1vdW50OiBnYW1lLnBhcnRpY2lwYXRpb25GZWUsCiAgICBkaWcgNQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjIDkgLy8gMTQ2OAogICAgZXh0cmFjdF91aW50NjQKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyOTItMjk2CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgICBhbW91bnQ6IGdhbWUucGFydGljaXBhdGlvbkZlZSwKICAgIC8vICAgfSkKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI5Mi0yOTcKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogZ2FtZS5wYXJ0aWNpcGF0aW9uRmVlLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyOTkKICAgIC8vIGdhbWUucGxheWVyc1twbGF5ZXJJbmRleF0gPSBnYW1lLnBsYXllcnNbZ2FtZS5jdXJyZW50UGxheWVyQ291bnRdCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgdW5jb3ZlciAyCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGRpZyAxCiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZGlnIDMKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgdW5jb3ZlciAyCiAgICBkaWcgMQogICAgdW5jb3ZlciAzCiAgICByZXBsYWNlMyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgcmVwbGFjZTIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzAwCiAgICAvLyBnYW1lLmNvbW1pdHNbcGxheWVySW5kZXhdID0gZ2FtZS5jb21taXRzW2dhbWUuY3VycmVudFBsYXllckNvdW50XQogICAgZHVwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGMgNiAvLyA0OTYKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGRpZyAxCiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZGlnIDMKICAgIHN3YXAKICAgIHJlcGxhY2UzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50YyA2IC8vIDQ5NgogICAgc3dhcAogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMwMQogICAgLy8gZ2FtZS5oYXNDb21taXR0ZWRbcGxheWVySW5kZXhdID0gZ2FtZS5oYXNDb21taXR0ZWRbZ2FtZS5jdXJyZW50UGxheWVyQ291bnRdCiAgICBkdXAKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgaW50YyA0IC8vIDk3NgogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3QzCiAgICBkaWcgMQogICAgcHVzaGludCAxNSAvLyAxNQogICAgPAogICAgYXNzZXJ0IC8vIGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgZGlnIDQKICAgIHB1c2hpbnQgMTUgLy8gMTUKICAgIDwKICAgIGFzc2VydCAvLyBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZGlnIDQKICAgIHN3YXAKICAgIHNldGJpdAogICAgaW50YyA0IC8vIDk3NgogICAgc3dhcAogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMwMgogICAgLy8gZ2FtZS5oYXNSZXZlYWxlZFtwbGF5ZXJJbmRleF0gPSBnYW1lLmhhc1JldmVhbGVkW2dhbWUuY3VycmVudFBsYXllckNvdW50XQogICAgZHVwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGMgNSAvLyAxNDU4CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdDMKICAgIGRpZyAxCiAgICBwdXNoaW50IDE1IC8vIDE1CiAgICA8CiAgICBhc3NlcnQgLy8gaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBzd2FwCiAgICB1bmNvdmVyIDQKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjIDUgLy8gMTQ1OAogICAgc3dhcAogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMwMwogICAgLy8gZ2FtZS5tb3Zlc1twbGF5ZXJJbmRleF0gPSBnYW1lLm1vdmVzW2dhbWUuY3VycmVudFBsYXllckNvdW50XQogICAgZHVwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGMgOCAvLyA5NzgKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGRpZyAxCiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgc3dhcAogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHJlcGxhY2UzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgaW50YyA4IC8vIDk3OAogICAgc3dhcAogICAgcmVwbGFjZTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMwNgogICAgLy8gZ2FtZS5jdXJyZW50UGxheWVyQ291bnQgLT0gMQogICAgZHVwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGl0b2IKICAgIGludGNfMiAvLyA0ODAKICAgIHN3YXAKICAgIHJlcGxhY2UzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozMDcKICAgIC8vIGdhbWUuYmFsYW5jZSAtPSBnYW1lLnBhcnRpY2lwYXRpb25GZWUKICAgIGR1cAogICAgaW50YyAxMCAvLyAxNDYwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGMgOSAvLyAxNDY4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLQogICAgaXRvYgogICAgaW50YyAxMCAvLyAxNDYwCiAgICBzd2FwCiAgICByZXBsYWNlMwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzEwCiAgICAvLyB0aGlzLmdhbWVzKGdhbWVJZCkudmFsdWUgPSBjbG9uZShnYW1lKQogICAgZGlnIDQKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI3MwogICAgLy8gcHVibGljIGJhY2tPZmYoZ2FtZUlkOiB1aW50NjQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCmJhY2tPZmZfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjgwCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGJhY2tPZmZfd2hpbGVfdG9wQDIKCmJhY2tPZmZfYWZ0ZXJfd2hpbGVANjoKICAgIGRpZyAxCiAgICBiIGJhY2tPZmZfYmxvY2tANwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpBYnN0cmFjdEdhbWVDb250cmFjdC52ZXJpZnlEZWFkbGluZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnZlcmlmeURlYWRsaW5lOgogICAgYnl0ZWNfMiAvLyAiIgogICAgZHVwbiAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzE4CiAgICAvLyBwdWJsaWMgdmVyaWZ5RGVhZGxpbmUoZ2FtZUlkOiB1aW50NjQpOiB2b2lkIHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMxOQogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoZ2FtZUlkKS5leGlzdHMsICdHYW1lIGRvZXMgbm90IGV4aXN0JykKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM1CiAgICAvLyBnYW1lcyA9IEJveE1hcDx1aW50NjQsIEdhbWVTdGF0ZT4oeyBrZXlQcmVmaXg6ICdnYW1lcycgfSkKICAgIGJ5dGVjXzEgLy8gImdhbWVzIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMxOQogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoZ2FtZUlkKS5leGlzdHMsICdHYW1lIGRvZXMgbm90IGV4aXN0JykKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIEdhbWUgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMyMAogICAgLy8gY29uc3QgZ2FtZSA9IGNsb25lKHRoaXMuZ2FtZXMoZ2FtZUlkKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHBvcAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozMjEKICAgIC8vIGNvbnN0IHByZURlbEJveCA9IG9wLm1pbkJhbGFuY2UoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgbWluX2JhbGFuY2UKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMyNAogICAgLy8gaWYgKGdhbWUuZGVhZGxpbmUgPT09IDApIHJldHVybgogICAgaW50YyAxMSAvLyAxNDc2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBieiB2ZXJpZnlEZWFkbGluZV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpBYnN0cmFjdEdhbWVDb250cmFjdC52ZXJpZnlEZWFkbGluZUAzNQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzI3CiAgICAvLyBhc3NlcnQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCA+PSBnYW1lLmRlYWRsaW5lLCAnVGhlIGRlYWRsaW5lIGhhcyBub3QgYmVlbiByZWFjaGVkIHlldCcpCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBkaWcgMQogICAgPj0KICAgIGFzc2VydCAvLyBUaGUgZGVhZGxpbmUgaGFzIG5vdCBiZWVuIHJlYWNoZWQgeWV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozMzAKICAgIC8vIGxldCBhbGxDb21taXR0ZWQgPSB0cnVlCiAgICBpbnRjXzEgLy8gMQogICAgYnVyeSAxNgogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTIKCnZlcmlmeURlYWRsaW5lX2Zvcl9oZWFkZXJANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMzMQogICAgLy8gZm9yIChjb25zdCBiIG9mIGdhbWUuaGFzQ29tbWl0dGVkKSB7CiAgICBkaWcgMTEKICAgIHB1c2hpbnQgMTUgLy8gMTUKICAgIDwKICAgIGR1cAogICAgYnVyeSAxNgogICAgYnogdmVyaWZ5RGVhZGxpbmVfYmxvY2tAMTAKICAgIGRpZyAyCiAgICBpbnRjIDQgLy8gOTc2CiAgICBwdXNoaW50IDIgLy8gMgogICAgZXh0cmFjdDMKICAgIGRpZyAxNQogICAgYXNzZXJ0IC8vIGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkaWcgMTIKICAgIGdldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjMzMgogICAgLy8gaWYgKCFiLm5hdGl2ZSkgewogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgYm56IHZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzMzCiAgICAvLyBhbGxDb21taXR0ZWQgPSBmYWxzZQogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTYKCnZlcmlmeURlYWRsaW5lX2Jsb2NrQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzM5CiAgICAvLyBsZXQgcmV2ZWFsZWRDb3VudDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgOAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTEKCnZlcmlmeURlYWRsaW5lX2Zvcl9oZWFkZXJAMTI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNDAKICAgIC8vIGZvciAoY29uc3QgYiBvZiBnYW1lLmhhc1JldmVhbGVkKSB7CiAgICBkaWcgMTAKICAgIHB1c2hpbnQgMTUgLy8gMTUKICAgIDwKICAgIGR1cAogICAgYnVyeSAxNQogICAgYnogdmVyaWZ5RGVhZGxpbmVfYWZ0ZXJfZm9yQDE3CiAgICBkaWcgMgogICAgaW50YyA1IC8vIDE0NTgKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBleHRyYWN0MwogICAgZGlnIDE0CiAgICBhc3NlcnQgLy8gaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGRpZyAxMQogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzQxCiAgICAvLyBpZiAoYi5uYXRpdmUpIHJldmVhbGVkQ291bnQgPSByZXZlYWxlZENvdW50ICsgMQogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgYnogdmVyaWZ5RGVhZGxpbmVfYWZ0ZXJfaWZfZWxzZUAxNQogICAgZGlnIDcKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDgKCnZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VAMTU6CiAgICBkaWcgMTAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDExCiAgICBiIHZlcmlmeURlYWRsaW5lX2Zvcl9oZWFkZXJAMTIKCnZlcmlmeURlYWRsaW5lX2FmdGVyX2ZvckAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM0NQogICAgLy8gaWYgKCFhbGxDb21taXR0ZWQgfHwgcmV2ZWFsZWRDb3VudCA9PT0gMCkgewogICAgZGlnIDE1CiAgICBieiB2ZXJpZnlEZWFkbGluZV9pZl9ib2R5QDE5CiAgICBkaWcgNwogICAgYm56IHZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VAMjcKCnZlcmlmeURlYWRsaW5lX2lmX2JvZHlAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNDcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBnYW1lLmhhc0NvbW1pdHRlZC5sZW5ndGg7IGkgPSBpICsgMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTMKCnZlcmlmeURlYWRsaW5lX3doaWxlX3RvcEAyMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM0NwogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGdhbWUuaGFzQ29tbWl0dGVkLmxlbmd0aDsgaSA9IGkgKyAxKSB7CiAgICBkaWcgMTIKICAgIHB1c2hpbnQgMTUgLy8gMTUKICAgIDwKICAgIGR1cAogICAgYnVyeSA3CiAgICBieiB2ZXJpZnlEZWFkbGluZV9hZnRlcl93aGlsZUAyNQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzQ4CiAgICAvLyBpZiAoZ2FtZS5oYXNDb21taXR0ZWRbaV0ubmF0aXZlKSB7CiAgICBkaWcgMgogICAgaW50YyA0IC8vIDk3NgogICAgcHVzaGludCAyIC8vIDIKICAgIGV4dHJhY3QzCiAgICBkaWcgNgogICAgYXNzZXJ0IC8vIGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkaWcgMTMKICAgIGdldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIGJ6IHZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VAMjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM0OS0zNTUKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbaV0ubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogZ2FtZS5wYXJ0aWNpcGF0aW9uRmVlLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzUxCiAgICAvLyByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSwKICAgIGRpZyAyCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgZGlnIDE0CiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGludGNfMyAvLyAzMgogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNTIKICAgIC8vIGFtb3VudDogZ2FtZS5wYXJ0aWNpcGF0aW9uRmVlLAogICAgc3dhcAogICAgaW50YyA5IC8vIDE0NjgKICAgIGV4dHJhY3RfdWludDY0CiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzQ5LTM1NAogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IGdhbWUucGxheWVyc1tpXS5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBnYW1lLnBhcnRpY2lwYXRpb25GZWUsCiAgICAvLyAgICAgZmVlOiAwLCAvLyBGZWUgaXMgY292ZXJlZCBieSB0aGUgb3V0ZXIgdHJhbnNhY3Rpb24gZ3JvdXAKICAgIC8vICAgfSkKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNTMKICAgIC8vIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM0OS0zNTUKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbaV0ubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogZ2FtZS5wYXJ0aWNpcGF0aW9uRmVlLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCnZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VAMjQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNDcKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBnYW1lLmhhc0NvbW1pdHRlZC5sZW5ndGg7IGkgPSBpICsgMSkgewogICAgZGlnIDEyCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxMwogICAgYiB2ZXJpZnlEZWFkbGluZV93aGlsZV90b3BAMjAKCnZlcmlmeURlYWRsaW5lX2FmdGVyX3doaWxlQDI1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzYwCiAgICAvLyB0aGlzLmdhbWVzKGdhbWVJZCkuZGVsZXRlKCkKICAgIGRpZyAzCiAgICBib3hfZGVsCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM2MwogICAgLy8gY29uc3QgcG9zdERlbEJveCA9IG9wLm1pbkJhbGFuY2UoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgbWluX2JhbGFuY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM2NgogICAgLy8gY29uc3QgbWJyVG9SZXR1cm46IHVpbnQ2NCA9IHByZURlbEJveCAtIHBvc3REZWxCb3gKICAgIGRpZyAyCiAgICBzd2FwCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNjctMzczCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzWzBdLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IG1iclRvUmV0dXJuLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzY5CiAgICAvLyByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzWzBdLm5hdGl2ZSwKICAgIGRpZyAzCiAgICBpbnRjXzAgLy8gMAogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdDMKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNjctMzcyCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzWzBdLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IG1iclRvUmV0dXJuLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzcxCiAgICAvLyBmZWU6IDAsIC8vIEZlZSBpcyBjb3ZlcmVkIGJ5IHRoZSBvdXRlciB0cmFuc2FjdGlvbiBncm91cAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNjctMzczCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzWzBdLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IG1iclRvUmV0dXJuLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCnZlcmlmeURlYWRsaW5lX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkFic3RyYWN0R2FtZUNvbnRyYWN0LnZlcmlmeURlYWRsaW5lQDM1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzE4CiAgICAvLyBwdWJsaWMgdmVyaWZ5RGVhZGxpbmUoZ2FtZUlkOiB1aW50NjQpOiB2b2lkIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCnZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VAMjc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNzgKICAgIC8vIGNvbnN0IHNoYXJlOiB1aW50NjQgPSBnYW1lLmJhbGFuY2UgLyByZXZlYWxlZENvdW50CiAgICBkaWcgMgogICAgaW50YyAxMCAvLyAxNDYwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBkaWcgOQogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvCiAgICBidXJ5IDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM3OQogICAgLy8gY29uc3QgcmVtYWluZGVyOiB1aW50NjQgPSBnYW1lLmJhbGFuY2UgJSByZXZlYWxlZENvdW50IC8vIEhhbmRsZSAiZHVzdCIKICAgIHN3YXAKICAgICUKICAgIGJ1cnkgOQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzgxCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5oYXNSZXZlYWxlZC5sZW5ndGg7IGkgPSBpICsgMSkgewogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgMTAKCnZlcmlmeURlYWRsaW5lX3doaWxlX3RvcEAyODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM4MQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IGdhbWUuaGFzUmV2ZWFsZWQubGVuZ3RoOyBpID0gaSArIDEpIHsKICAgIGRpZyA5CiAgICBwdXNoaW50IDE1IC8vIDE1CiAgICA8CiAgICBkdXAKICAgIGJ1cnkgNgogICAgYnogdmVyaWZ5RGVhZGxpbmVfYWZ0ZXJfd2hpbGVAMzMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM4MgogICAgLy8gaWYgKGdhbWUuaGFzUmV2ZWFsZWRbaV0ubmF0aXZlKSB7CiAgICBkaWcgMgogICAgaW50YyA1IC8vIDE0NTgKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBleHRyYWN0MwogICAgZGlnIDUKICAgIGFzc2VydCAvLyBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZGlnIDEwCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBieiB2ZXJpZnlEZWFkbGluZV9hZnRlcl9pZl9lbHNlQDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozODMtMzg5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IHNoYXJlLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mzg1CiAgICAvLyByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSwKICAgIGRpZyAyCiAgICBpbnRjXzAgLy8gMAogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdDMKICAgIGRpZyAxMAogICAgaW50Y18zIC8vIDMyCiAgICAqCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZGlnIDcKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozODMtMzg4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IHNoYXJlLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mzg3CiAgICAvLyBmZWU6IDAsIC8vIEZlZSBpcyBjb3ZlcmVkIGJ5IHRoZSBvdXRlciB0cmFuc2FjdGlvbiBncm91cAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozODMtMzg5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IHNoYXJlLAogICAgLy8gICAgIGZlZTogMCwgLy8gRmVlIGlzIGNvdmVyZWQgYnkgdGhlIG91dGVyIHRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCnZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VAMzI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozODEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBnYW1lLmhhc1JldmVhbGVkLmxlbmd0aDsgaSA9IGkgKyAxKSB7CiAgICBkaWcgOQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMTAKICAgIGIgdmVyaWZ5RGVhZGxpbmVfd2hpbGVfdG9wQDI4Cgp2ZXJpZnlEZWFkbGluZV9hZnRlcl93aGlsZUAzMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjM5NAogICAgLy8gdGhpcy5nYW1lcyhnYW1lSWQpLmRlbGV0ZSgpCiAgICBkaWcgMwogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozOTcKICAgIC8vIGNvbnN0IHBvc3REZWxCb3ggPSBvcC5taW5CYWxhbmNlKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIG1pbl9iYWxhbmNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0MDAKICAgIC8vIGNvbnN0IG1iclRvUmV0dXJuOiB1aW50NjQgPSBwcmVEZWxCb3ggLSBwb3N0RGVsQm94CiAgICBkaWcgMgogICAgc3dhcAogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDAzLTQwOQogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IGdhbWUucGxheWVyc1swXS5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBtYnJUb1JldHVybiArIHJlbWFpbmRlciwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDA1CiAgICAvLyByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzWzBdLm5hdGl2ZSwKICAgIGRpZyAzCiAgICBpbnRjXzAgLy8gMAogICAgaW50Y18yIC8vIDQ4MAogICAgZXh0cmFjdDMKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQwNgogICAgLy8gYW1vdW50OiBtYnJUb1JldHVybiArIHJlbWFpbmRlciwKICAgIHN3YXAKICAgIGRpZyAxMAogICAgKwogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQwMy00MDgKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbMF0ubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogbWJyVG9SZXR1cm4gKyByZW1haW5kZXIsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18xIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQwNwogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0MDMtNDA5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzWzBdLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IG1iclRvUmV0dXJuICsgcmVtYWluZGVyLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzE4CiAgICAvLyBwdWJsaWMgdmVyaWZ5RGVhZGxpbmUoZ2FtZUlkOiB1aW50NjQpOiB2b2lkIHsKICAgIGIgdmVyaWZ5RGVhZGxpbmVfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6QWJzdHJhY3RHYW1lQ29udHJhY3QudmVyaWZ5RGVhZGxpbmVAMzUKCnZlcmlmeURlYWRsaW5lX2FmdGVyX2lmX2Vsc2VANzoKICAgIGRpZyAxMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMTIKICAgIGIgdmVyaWZ5RGVhZGxpbmVfZm9yX2hlYWRlckA0CgoKLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkFic3RyYWN0R2FtZUNvbnRyYWN0LmRlbGV0ZUdhbWVbcm91dGluZ10oKSAtPiB2b2lkOgpkZWxldGVHYW1lOgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDI0CiAgICAvLyBwdWJsaWMgZGVsZXRlR2FtZShnYW1lSWQ6IHVpbnQ2NCk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDI2CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MzUKICAgIC8vIGdhbWVzID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dhbWVzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ2FtZXMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDI2CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gR2FtZSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDI4CiAgICAvLyBjb25zdCBnYW1lID0gY2xvbmUodGhpcy5nYW1lcyhnYW1lSWQpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQzMQogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IGdhbWUucGxheWVyc1swXS5uYXRpdmUsICdPbmx5IHRoZSBjcmVhdG9yIGNhbiBkZWxldGUgdGhlIGdhbWUnKQogICAgdHhuIFNlbmRlcgogICAgZGlnIDEKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzIgLy8gNDgwCiAgICBleHRyYWN0MwogICAgZHVwCiAgICBjb3ZlciAzCiAgICBleHRyYWN0IDAgMzIgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGNvdmVyIDMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSB0aGUgY3JlYXRvciBjYW4gZGVsZXRlIHRoZSBnYW1lCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0MzMKICAgIC8vIGFzc2VydChnYW1lLmN1cnJlbnRQbGF5ZXJDb3VudCA8IGdhbWUubWF4UGxheWVycywgJ0dhbWUgaGFzIHN0YXJ0ZWQsIGRlbGV0aW9uIG5vdCBwb3NzaWJsZScpCiAgICBkdXAKICAgIGludGNfMiAvLyA0ODAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgaW50YyA3IC8vIDQ4OAogICAgZXh0cmFjdF91aW50NjQKICAgIDwKICAgIGFzc2VydCAvLyBHYW1lIGhhcyBzdGFydGVkLCBkZWxldGlvbiBub3QgcG9zc2libGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQzNgogICAgLy8gY29uc3QgcHJlRGVsQm94ID0gb3AubWluQmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcykKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBtaW5fYmFsYW5jZQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDM5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgaW50Y18wIC8vIDAKCmRlbGV0ZUdhbWVfd2hpbGVfdG9wQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0MzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBnYW1lLmN1cnJlbnRQbGF5ZXJDb3VudDsgaSA9IGkgKyAxKSB7CiAgICBkdXAKICAgIGRpZyAzCiAgICA8CiAgICBieiBkZWxldGVHYW1lX2FmdGVyX3doaWxlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ0MC00NDYKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbaV0ubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogZ2FtZS5wYXJ0aWNpcGF0aW9uRmVlLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NDIKICAgIC8vIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbaV0ubmF0aXZlLAogICAgZHVwbiAyCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIGRpZyA2CiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDQzCiAgICAvLyBhbW91bnQ6IGdhbWUucGFydGljaXBhdGlvbkZlZSwKICAgIGRpZyA3CiAgICBpbnRjIDkgLy8gMTQ2OAogICAgZXh0cmFjdF91aW50NjQKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NDAtNDQ1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogZ2FtZS5wbGF5ZXJzW2ldLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IGdhbWUucGFydGljaXBhdGlvbkZlZSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDQ0CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ0MC00NDYKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbaV0ubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogZ2FtZS5wYXJ0aWNpcGF0aW9uRmVlLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDM5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgZ2FtZS5jdXJyZW50UGxheWVyQ291bnQ7IGkgPSBpICsgMSkgewogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMQogICAgYiBkZWxldGVHYW1lX3doaWxlX3RvcEAyCgpkZWxldGVHYW1lX2FmdGVyX3doaWxlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NDkKICAgIC8vIHRoaXMuZ2FtZXMoZ2FtZUlkKS5kZWxldGUoKQogICAgZGlnIDYKICAgIGJveF9kZWwKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDUyCiAgICAvLyBjb25zdCBwb3N0RGVsQm94ID0gb3AubWluQmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcykKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBtaW5fYmFsYW5jZQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDU1CiAgICAvLyBjb25zdCBtYnJUb1JldHVybjogdWludDY0ID0gcHJlRGVsQm94IC0gcG9zdERlbEJveAogICAgZGlnIDIKICAgIHN3YXAKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ1Ni00NjIKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbMF0ubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogbWJyVG9SZXR1cm4sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBkaWcgMwogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDU2LTQ2MQogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IGdhbWUucGxheWVyc1swXS5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBtYnJUb1JldHVybiwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDYwCiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjQ1Ni00NjIKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBnYW1lLnBsYXllcnNbMF0ubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogbWJyVG9SZXR1cm4sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0MjQKICAgIC8vIHB1YmxpYyBkZWxldGVHYW1lKGdhbWVJZDogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkFic3RyYWN0R2FtZUNvbnRyYWN0LmdldEdhbWVJbmZvW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0R2FtZUluZm86CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NjUKICAgIC8vIHB1YmxpYyBnZXRHYW1lSW5mbyhnYW1lSWQ6IHVpbnQ2NCk6IEdhbWVTdGF0ZSB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NjYKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGdhbWVJZCkuZXhpc3RzLCAnR2FtZSBkb2VzIG5vdCBleGlzdCcpCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czozNQogICAgLy8gZ2FtZXMgPSBCb3hNYXA8dWludDY0LCBHYW1lU3RhdGU+KHsga2V5UHJlZml4OiAnZ2FtZXMnIH0pCiAgICBieXRlY18xIC8vICJnYW1lcyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDY2CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lSWQpLmV4aXN0cywgJ0dhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBHYW1lIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo0NjcKICAgIC8vIHJldHVybiB0aGlzLmdhbWVzKGdhbWVJZCkudmFsdWUKICAgIGJveF9nZXQKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NDY1CiAgICAvLyBwdWJsaWMgZ2V0R2FtZUluZm8oZ2FtZUlkOiB1aW50NjQpOiBHYW1lU3RhdGUgewogICAgcHVzaGJ5dGVzIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCg==","clear":"I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="},"byteCode":{"approval":"CyAMAAHgAyDQB7IL8APoA9IHvAu0C8QLJgMBAAVnYW1lcwAxGEAAEYANZ2FtZUlkQ291bnRlciJnMRtBAFgxGRREMRhEgggEvpAU7wR0hOI4BMcEfcQE2Y9o1gT/iGdIBCpA+4EEDDViIQS8PbHXNhoAjggAHAABATgCKwOJBLMGPQa4AIAMFR98dQAAAAAACaB0sCNDMRkUMRgUEEQjQzYaAUkVgQgSRBcxFiMJSTgQIxJETBYpTFBJTgJJvUUBRL5ISU4CSSRbSU4CTgNJIQdbTwINREsBOAcyChJETDgISU8CIQlbEkQiSUlLBAxBABRLBCIkWEsBJQslWDEAEkEAsSNFAksBFEQxAEsFSU4CIiRYSwYlC08CXVwAJa9LASRbSwIhBiRYTCULSwJdTwIhBk8CXUkkW0sBIQgkWEwlC08DXSEITF1JJFtLASEFgQJYSwGBDwxETCJUIQVMXUkkW0sBIQSBAlhLAYEPDERMIlQhBExdSSRbIwgWJExdSSEKW0sECBYhCkxdSUUGSSRbTCEHWxJBABMyB0sFSU4CgcwLWwgWIQtMXUUFSwVLBb8jQ0kjCEUBQv8vKkcDNhoBSRWBCBJEFzYaAklOAhUlEkQWKUxQRwK9RQFEvkhJIQdbIksCJFtJRQdLAQ1BALlLAiIkWEsBJQslWDEAEkEAoElJSwNJTgIMREsHEkRLA0lOAiEEgQJYSwGBDwxESwFTKCJPAlQiUxRESwEhBiRYSwElC0sIXU8CIQZPAl1JIQSBAlhPAiNUIQRMXUUDI0UJIkUHSwaBDwxJRQlBABpLAiEEgQJYSwhESwdTKCJPAlQiU0AAIiJFCUsIQQATMgdLA0lOAoHUC1sIFiELTF1FA0sDSwO/I0NLBiMIRQdC/7NJIwhFAUL/OksBQv9UIipHBjYaAUkVgQgSRBc2GgJJTgIVSSUSRDYaA0kVgQgSRBdOAkwWKUxQSU4CSb1FAURMJQ5EvkhJIQdbIksCJFtLAQ1BARBLAiIkWEsBJQslWDEAEkEA90lFB0sGSUsDDERLAyEEgQJYSUUQSwGBDwxETFMoIk8CVCJTRCNFDSJFCUsIgQ8MSUUMQQAVSwpESw1LCVMoIk8CVCJTQACnIkUNSwxESwJJIQWBAlhLCElOAlMoIk8CVCJTFERLBhZLCElOBExQAUsCIQYkWEsCJQtMSwElWE8CEkRLAiEIJFhMTwRdTwIhCE8CXUkhBYECWE8CI1QhBUxdRQMjRQwiRQhLB4EPDElFC0EAGksCIQWBAlhLCkRLCFMoIk8CVCJTQAAaIkUMSwtBAAsiFksDIQtPAl1FA0sDSwO/I0NLByMIRQhC/7tLCCMIRQlC/zNJIwhFAUL+5ksBRQdC/v0qNhoBSRWBCBJEFxYpTFBHAr1FAUS+SEkhB1siSwIkW0lFBksBDUEA/EsCIiRYSwElCyVYMQASQQDjSUlLA0lOAgxESwZJTwIMRLExAEsFSU4CIQlbsgiyByOyECKyAbNJIiRYTwIlC0sBTCVYSwMlC08CSwFPA11PAkxcAEkkW0sBIQYkWEwlC0sBTCVYSwNMXSEGTF1JJFtLASEEgQJYSwGBDwxESU8CUygiTwJUIlNLBIEPDERLBExUIQRMXUkkW0sBIQWBAlhLAYEPDERJTwJTKCJPAlQiU0xPBE8CVCEFTF1JJFtLASEIJFhMJQtLAUwlWExPA08CXSEITF1JJFsjCRYkTF1JIQpbSwEhCVsJFiEKTF1LBEy/I0NJIwhFAUL+90sBQv8RKkcLNhoBSRWBCBJEFxYpTFBHAr1FAUS+SEkyCnhMIQtbSUEA2zIHSwEPRCNFECJFDEsLgQ8MSUUQQQAaSwIhBIECWEsPREsMUygiTwJUIlNAAS4iRRAiRQgiRQtLCoEPDElFD0EAJksCIQWBAlhLDkRLC1MoIk8CVCJTQQAGSwcjCEUISwojCEULQv/PSw9BAAVLB0AAayJFDUsMgQ8MSUUHQQA8SwIhBIECWEsGREsNUygiTwJUIlNBAByxSwJJIiRYSw4lCyVYTCEJW7IIsgcjshAisgGzSwwjCEUNQv+5SwO8SDIKeEsCTAmxSwMiJFhXACCyB7III7IQIrIBsyNDSwIhCltJSwlJTgMKRQlMGEUJIkUKSwmBDwxJRQZBADlLAiEFgQJYSwVESwpTKCJPAlQiU0EAGbFLAiIkWEsKJQslWEsHsgiyByOyECKyAbNLCSMIRQpC/7xLA7xIMgp4SwJMCbFLAyIkWFcAIExLCgiyCLIHI7IQIrIBs0L/f0sLIwhFDEL+pzYaAUkVgQgSRBcWKUxQRwK9RQFEvkhJMQBLASIkWElOA1cAIElOAxJESSRbSU8CIQdbDEQyCngiSUsDDEEAIbFHAiULSwZMJVhLByEJW7IIsgcjshAisgGzIwhFAUL/2EsGvEgyCnhLAkwJsbIISwOyByOyECKyAbMjQzYaAUkVgQgSRBcWKUxQSb1FAUS+SIAEFR98dUxQsCND","clear":"C4EBQw=="},"events":[],"templateVariables":{}} as unknown as Arc56Contract

/**
 * A state record containing binary data
 */
export interface BinaryState {
  /**
   * Gets the state value as a Uint8Array
   */
  asByteArray(): Uint8Array | undefined
  /**
   * Gets the state value as a string
   */
  asString(): string | undefined
}

class BinaryStateValue implements BinaryState {
  constructor(private value: Uint8Array | undefined) {}

  asByteArray(): Uint8Array | undefined {
    return this.value
  }

  asString(): string | undefined {
    return this.value !== undefined ? Buffer.from(this.value).toString('utf-8') : undefined
  }
}

/**
 * Expands types for IntelliSense so they are more human readable
 * See https://stackoverflow.com/a/69288824
 */
export type Expand<T> = T extends (...args: infer A) => infer R
  ? (...args: Expand<A>) => Expand<R>
  : T extends infer O
    ? { [K in keyof O]: O[K] }
    : never


// Type definitions for ARC-56 structs

export type GameState = {
  players: [string, string, string, string, string, string, string, string, string, string, string, string, string, string, string],
  currentPlayerCount: bigint,
  maxPlayers: bigint,
  commits: [Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array],
  hasCommitted: [boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean],
  moves: [Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array],
  hasRevealed: [boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean],
  balance: bigint,
  participationFee: bigint,
  deadline: bigint,
  timerCommit: bigint,
  timerReveal: bigint,
  winner: string
}


/**
 * Converts the ABI tuple representation of a GameState to the struct representation
 */
export function GameStateFromTuple(abiTuple: [[string, string, string, string, string, string, string, string, string, string, string, string, string, string, string], bigint, bigint, [Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array], [boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean], [Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array, Uint8Array], [boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean, boolean], bigint, bigint, bigint, bigint, bigint, string]) {
  return getABIStructFromABITuple(abiTuple, APP_SPEC.structs.GameState, APP_SPEC.structs) as GameState
}

/**
 * The argument types for the AbstractGameContract contract
 */
export type AbstractGameContractArgs = {
  /**
   * The object representation of the arguments for each method
   */
  obj: {
    'joinGame(uint64,pay)void': {
      /**
       * The ID of the game to join
       */
      gameId: bigint | number
      /**
       * Payment transaction for joining the game
       */
      payment: AppMethodCallTransactionArgument
    }
    'getRequiredMbr()uint64': Record<string, never>
    'commit(uint64,byte[32])void': {
      /**
       * The ID of the game
       */
      gameId: bigint | number
      /**
       * The commit hash (hash(move + salt))
       */
      commitment: Uint8Array
    }
    'reveal(uint64,byte[32],uint64)void': {
      /**
       * The ID of the game
       */
      gameId: bigint | number
      /**
       * The move in plaintext
       */
      move: Uint8Array
      /**
       * The salt used in the commit
       */
      salt: bigint | number
    }
    'backOff(uint64)void': {
      /**
       * The ID of the game to withdraw from.
       */
      gameId: bigint | number
    }
    'verifyDeadline(uint64)void': {
      /**
       * The ID of the game to check.
       */
      gameId: bigint | number
    }
    'deleteGame(uint64)void': {
      /**
       * The ID of the game to delete
       */
      gameId: bigint | number
    }
    'getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)': {
      gameId: bigint | number
    }
  }
  /**
   * The tuple representation of the arguments for each method
   */
  tuple: {
    'joinGame(uint64,pay)void': [gameId: bigint | number, payment: AppMethodCallTransactionArgument]
    'getRequiredMbr()uint64': []
    'commit(uint64,byte[32])void': [gameId: bigint | number, commitment: Uint8Array]
    'reveal(uint64,byte[32],uint64)void': [gameId: bigint | number, move: Uint8Array, salt: bigint | number]
    'backOff(uint64)void': [gameId: bigint | number]
    'verifyDeadline(uint64)void': [gameId: bigint | number]
    'deleteGame(uint64)void': [gameId: bigint | number]
    'getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)': [gameId: bigint | number]
  }
}

/**
 * The return type for each method
 */
export type AbstractGameContractReturns = {
  'joinGame(uint64,pay)void': void
  'getRequiredMbr()uint64': bigint
  'commit(uint64,byte[32])void': void
  'reveal(uint64,byte[32],uint64)void': void
  'backOff(uint64)void': void
  'verifyDeadline(uint64)void': void
  'deleteGame(uint64)void': void
  'getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)': GameState
}

/**
 * Defines the types of available calls and state of the AbstractGameContract smart contract.
 */
export type AbstractGameContractTypes = {
  /**
   * Maps method signatures / names to their argument and return types.
   */
  methods:
    & Record<'joinGame(uint64,pay)void' | 'joinGame', {
      argsObj: AbstractGameContractArgs['obj']['joinGame(uint64,pay)void']
      argsTuple: AbstractGameContractArgs['tuple']['joinGame(uint64,pay)void']
      returns: AbstractGameContractReturns['joinGame(uint64,pay)void']
    }>
    & Record<'getRequiredMbr()uint64' | 'getRequiredMbr', {
      argsObj: AbstractGameContractArgs['obj']['getRequiredMbr()uint64']
      argsTuple: AbstractGameContractArgs['tuple']['getRequiredMbr()uint64']
      /**
       * Required MBR in microAlgos
       */
      returns: AbstractGameContractReturns['getRequiredMbr()uint64']
    }>
    & Record<'commit(uint64,byte[32])void' | 'commit', {
      argsObj: AbstractGameContractArgs['obj']['commit(uint64,byte[32])void']
      argsTuple: AbstractGameContractArgs['tuple']['commit(uint64,byte[32])void']
      returns: AbstractGameContractReturns['commit(uint64,byte[32])void']
    }>
    & Record<'reveal(uint64,byte[32],uint64)void' | 'reveal', {
      argsObj: AbstractGameContractArgs['obj']['reveal(uint64,byte[32],uint64)void']
      argsTuple: AbstractGameContractArgs['tuple']['reveal(uint64,byte[32],uint64)void']
      returns: AbstractGameContractReturns['reveal(uint64,byte[32],uint64)void']
    }>
    & Record<'backOff(uint64)void' | 'backOff', {
      argsObj: AbstractGameContractArgs['obj']['backOff(uint64)void']
      argsTuple: AbstractGameContractArgs['tuple']['backOff(uint64)void']
      returns: AbstractGameContractReturns['backOff(uint64)void']
    }>
    & Record<'verifyDeadline(uint64)void' | 'verifyDeadline', {
      argsObj: AbstractGameContractArgs['obj']['verifyDeadline(uint64)void']
      argsTuple: AbstractGameContractArgs['tuple']['verifyDeadline(uint64)void']
      returns: AbstractGameContractReturns['verifyDeadline(uint64)void']
    }>
    & Record<'deleteGame(uint64)void' | 'deleteGame', {
      argsObj: AbstractGameContractArgs['obj']['deleteGame(uint64)void']
      argsTuple: AbstractGameContractArgs['tuple']['deleteGame(uint64)void']
      returns: AbstractGameContractReturns['deleteGame(uint64)void']
    }>
    & Record<'getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)' | 'getGameInfo', {
      argsObj: AbstractGameContractArgs['obj']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']
      argsTuple: AbstractGameContractArgs['tuple']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']
      returns: AbstractGameContractReturns['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']
    }>
  /**
   * Defines the shape of the state of the application.
   */
  state: {
    global: {
      keys: {
        /**
         * Last game id
         */
        gameIdCounter: bigint
      }
      maps: {}
    }
    box: {
      keys: {}
      maps: {
        /**
         * Storage for games data
         */
        games: Map<bigint | number, GameState>
      }
    }
  }
}

/**
 * Defines the possible abi call signatures.
 */
export type AbstractGameContractSignatures = keyof AbstractGameContractTypes['methods']
/**
 * Defines the possible abi call signatures for methods that return a non-void value.
 */
export type AbstractGameContractNonVoidMethodSignatures = keyof AbstractGameContractTypes['methods'] extends infer T ? T extends keyof AbstractGameContractTypes['methods'] ? MethodReturn<T> extends void ? never : T  : never : never
/**
 * Defines an object containing all relevant parameters for a single call to the contract.
 */
export type CallParams<TArgs> = Expand<
  Omit<AppClientMethodCallParams, 'method' | 'args' | 'onComplete'> &
    {
      /** The args for the ABI method call, either as an ordered array or an object */
      args: Expand<TArgs>
    }
>
/**
 * Maps a method signature from the AbstractGameContract smart contract to the method's arguments in either tuple or struct form
 */
export type MethodArgs<TSignature extends AbstractGameContractSignatures> = AbstractGameContractTypes['methods'][TSignature]['argsObj' | 'argsTuple']
/**
 * Maps a method signature from the AbstractGameContract smart contract to the method's return type
 */
export type MethodReturn<TSignature extends AbstractGameContractSignatures> = AbstractGameContractTypes['methods'][TSignature]['returns']

/**
 * Defines the shape of the keyed global state of the application.
 */
export type GlobalKeysState = AbstractGameContractTypes['state']['global']['keys']

/**
 * Defines the shape of the keyed box state of the application.
 */
export type BoxKeysState = AbstractGameContractTypes['state']['box']['keys']


/**
 * Defines supported create method params for this smart contract
 */
export type AbstractGameContractCreateCallParams =
  | Expand<AppClientBareCallParams & {method?: never} & {onComplete?: OnApplicationComplete.NoOpOC} & CreateSchema>
/**
 * Defines arguments required for the deploy method.
 */
export type AbstractGameContractDeployParams = Expand<Omit<AppFactoryDeployParams, 'createParams' | 'updateParams' | 'deleteParams'> & {
  /**
   * Create transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  createParams?: AbstractGameContractCreateCallParams
}>


/**
 * Exposes methods for constructing `AppClient` params objects for ABI calls to the AbstractGameContract smart contract
 */
export abstract class AbstractGameContractParamsFactory {
  /**
   * Constructs a no op call for the joinGame(uint64,pay)void ABI method
   *
   * Join a game by paying an entry fee
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static joinGame(params: CallParams<AbstractGameContractArgs['obj']['joinGame(uint64,pay)void'] | AbstractGameContractArgs['tuple']['joinGame(uint64,pay)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'joinGame(uint64,pay)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.gameId, params.args.payment],
    }
  }
  /**
   * Constructs a no op call for the getRequiredMbr()uint64 ABI method
   *
   * Public method to get the required MBR to create a game
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getRequiredMbr(params: CallParams<AbstractGameContractArgs['obj']['getRequiredMbr()uint64'] | AbstractGameContractArgs['tuple']['getRequiredMbr()uint64']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'getRequiredMbr()uint64' as const,
      args: Array.isArray(params.args) ? params.args : [],
    }
  }
  /**
   * Constructs a no op call for the commit(uint64,byte[32])void ABI method
   *
   * Registers a player's commit (hash of move + salt)
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static commit(params: CallParams<AbstractGameContractArgs['obj']['commit(uint64,byte[32])void'] | AbstractGameContractArgs['tuple']['commit(uint64,byte[32])void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'commit(uint64,byte[32])void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.gameId, params.args.commitment],
    }
  }
  /**
   * Constructs a no op call for the reveal(uint64,byte[32],uint64)void ABI method
   *
   * Allows a player to reveal their move.
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static reveal(params: CallParams<AbstractGameContractArgs['obj']['reveal(uint64,byte[32],uint64)void'] | AbstractGameContractArgs['tuple']['reveal(uint64,byte[32],uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'reveal(uint64,byte[32],uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.gameId, params.args.move, params.args.salt],
    }
  }
  /**
   * Constructs a no op call for the backOff(uint64)void ABI method
   *
   * Allows a player to withdraw from a game before it starts.
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static backOff(params: CallParams<AbstractGameContractArgs['obj']['backOff(uint64)void'] | AbstractGameContractArgs['tuple']['backOff(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'backOff(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.gameId],
    }
  }
  /**
   * Constructs a no op call for the verifyDeadline(uint64)void ABI method
   *
  * Verifies the game state against the deadline and resolves the game if the deadline has passed.
  This function handles timeouts for both commit and reveal phases.

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static verifyDeadline(params: CallParams<AbstractGameContractArgs['obj']['verifyDeadline(uint64)void'] | AbstractGameContractArgs['tuple']['verifyDeadline(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'verifyDeadline(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.gameId],
    }
  }
  /**
   * Constructs a no op call for the deleteGame(uint64)void ABI method
   *
  * Deletes a game and refunds all players
  Only the creator (player[0]) can delete the game

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static deleteGame(params: CallParams<AbstractGameContractArgs['obj']['deleteGame(uint64)void'] | AbstractGameContractArgs['tuple']['deleteGame(uint64)void']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'deleteGame(uint64)void' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.gameId],
    }
  }
  /**
   * Constructs a no op call for the getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address) ABI method
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getGameInfo(params: CallParams<AbstractGameContractArgs['obj']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'] | AbstractGameContractArgs['tuple']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.gameId],
    }
  }
}

/**
 * A factory to create and deploy one or more instance of the AbstractGameContract smart contract and to create one or more app clients to interact with those (or other) app instances
 */
export class AbstractGameContractFactory {
  /**
   * The underlying `AppFactory` for when you want to have more flexibility
   */
  public readonly appFactory: _AppFactory

  /**
   * Creates a new instance of `AbstractGameContractFactory`
   *
   * @param params The parameters to initialise the app factory with
   */
  constructor(params: Omit<AppFactoryParams, 'appSpec'>) {
    this.appFactory = new _AppFactory({
      ...params,
      appSpec: APP_SPEC,
    })
  }
  
  /** The name of the app (from the ARC-32 / ARC-56 app spec or override). */
  public get appName() {
    return this.appFactory.appName
  }
  
  /** The ARC-56 app spec being used */
  get appSpec() {
    return APP_SPEC
  }
  
  /** A reference to the underlying `AlgorandClient` this app factory is using. */
  public get algorand(): AlgorandClient {
    return this.appFactory.algorand
  }
  
  /**
   * Returns a new `AppClient` client for an app instance of the given ID.
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public getAppClientById(params: AppFactoryAppClientParams) {
    return new AbstractGameContractClient(this.appFactory.getAppClientById(params))
  }
  
  /**
   * Returns a new `AppClient` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public async getAppClientByCreatorAndName(
    params: AppFactoryResolveAppClientByCreatorAndNameParams,
  ) {
    return new AbstractGameContractClient(await this.appFactory.getAppClientByCreatorAndName(params))
  }

  /**
   * Idempotently deploys the AbstractGameContract smart contract.
   *
   * @param params The arguments for the contract calls and any additional parameters for the call
   * @returns The deployment result
   */
  public async deploy(params: AbstractGameContractDeployParams = {}) {
    const result = await this.appFactory.deploy({
      ...params,
    })
    return { result: result.result, appClient: new AbstractGameContractClient(result.appClient) }
  }

  /**
   * Get parameters to create transactions (create and deploy related calls) for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the AbstractGameContract smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The params for a create call
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        return this.appFactory.params.bare.create(params)
      },
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the AbstractGameContract smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The transaction for a create call
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        return this.appFactory.createTransaction.bare.create(params)
      },
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the AbstractGameContract smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The create result
       */
      bare: async (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        const result = await this.appFactory.send.bare.create(params)
        return { result: result.result, appClient: new AbstractGameContractClient(result.appClient) }
      },
    },

  }

}
/**
 * A client to make calls to the AbstractGameContract smart contract
 */
export class AbstractGameContractClient {
  /**
   * The underlying `AppClient` for when you want to have more flexibility
   */
  public readonly appClient: _AppClient

  /**
   * Creates a new instance of `AbstractGameContractClient`
   *
   * @param appClient An `AppClient` instance which has been created with the AbstractGameContract app spec
   */
  constructor(appClient: _AppClient)
  /**
   * Creates a new instance of `AbstractGameContractClient`
   *
   * @param params The parameters to initialise the app client with
   */
  constructor(params: Omit<AppClientParams, 'appSpec'>)
  constructor(appClientOrParams: _AppClient | Omit<AppClientParams, 'appSpec'>) {
    this.appClient = appClientOrParams instanceof _AppClient ? appClientOrParams : new _AppClient({
      ...appClientOrParams,
      appSpec: APP_SPEC,
    })
  }
  
  /**
   * Checks for decode errors on the given return value and maps the return value to the return type for the given method
   * @returns The typed return value or undefined if there was no value
   */
  decodeReturnValue<TSignature extends AbstractGameContractNonVoidMethodSignatures>(method: TSignature, returnValue: ABIReturn | undefined) {
    return returnValue !== undefined ? getArc56ReturnValue<MethodReturn<TSignature>>(returnValue, this.appClient.getABIMethod(method), APP_SPEC.structs) : undefined
  }
  
  /**
   * Returns a new `AbstractGameContractClient` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   * @param params The parameters to create the app client
   */
  public static async fromCreatorAndName(params: Omit<ResolveAppClientByCreatorAndName, 'appSpec'>): Promise<AbstractGameContractClient> {
    return new AbstractGameContractClient(await _AppClient.fromCreatorAndName({...params, appSpec: APP_SPEC}))
  }
  
  /**
   * Returns an `AbstractGameContractClient` instance for the current network based on
   * pre-determined network-specific app IDs specified in the ARC-56 app spec.
   *
   * If no IDs are in the app spec or the network isn't recognised, an error is thrown.
   * @param params The parameters to create the app client
   */
  static async fromNetwork(
    params: Omit<ResolveAppClientByNetwork, 'appSpec'>
  ): Promise<AbstractGameContractClient> {
    return new AbstractGameContractClient(await _AppClient.fromNetwork({...params, appSpec: APP_SPEC}))
  }
  
  /** The ID of the app instance this client is linked to. */
  public get appId() {
    return this.appClient.appId
  }
  
  /** The app address of the app instance this client is linked to. */
  public get appAddress() {
    return this.appClient.appAddress
  }
  
  /** The name of the app. */
  public get appName() {
    return this.appClient.appName
  }
  
  /** The ARC-56 app spec being used */
  public get appSpec() {
    return this.appClient.appSpec
  }
  
  /** A reference to the underlying `AlgorandClient` this app client is using. */
  public get algorand(): AlgorandClient {
    return this.appClient.algorand
  }

  /**
   * Get parameters to create transactions for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Makes a clear_state call to an existing instance of the AbstractGameContract smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.params.bare.clearState(params)
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `joinGame(uint64,pay)void` ABI method.
     *
     * Join a game by paying an entry fee
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    joinGame: (params: CallParams<AbstractGameContractArgs['obj']['joinGame(uint64,pay)void'] | AbstractGameContractArgs['tuple']['joinGame(uint64,pay)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.joinGame(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `getRequiredMbr()uint64` ABI method.
     *
     * Public method to get the required MBR to create a game
     *
     * @param params The params for the smart contract call
     * @returns The call params: Required MBR in microAlgos
     */
    getRequiredMbr: (params: CallParams<AbstractGameContractArgs['obj']['getRequiredMbr()uint64'] | AbstractGameContractArgs['tuple']['getRequiredMbr()uint64']> & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.getRequiredMbr(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `commit(uint64,byte[32])void` ABI method.
     *
     * Registers a player's commit (hash of move + salt)
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    commit: (params: CallParams<AbstractGameContractArgs['obj']['commit(uint64,byte[32])void'] | AbstractGameContractArgs['tuple']['commit(uint64,byte[32])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.commit(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `reveal(uint64,byte[32],uint64)void` ABI method.
     *
     * Allows a player to reveal their move.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    reveal: (params: CallParams<AbstractGameContractArgs['obj']['reveal(uint64,byte[32],uint64)void'] | AbstractGameContractArgs['tuple']['reveal(uint64,byte[32],uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.reveal(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `backOff(uint64)void` ABI method.
     *
     * Allows a player to withdraw from a game before it starts.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    backOff: (params: CallParams<AbstractGameContractArgs['obj']['backOff(uint64)void'] | AbstractGameContractArgs['tuple']['backOff(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.backOff(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `verifyDeadline(uint64)void` ABI method.
     *
    * Verifies the game state against the deadline and resolves the game if the deadline has passed.
    This function handles timeouts for both commit and reveal phases.

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    verifyDeadline: (params: CallParams<AbstractGameContractArgs['obj']['verifyDeadline(uint64)void'] | AbstractGameContractArgs['tuple']['verifyDeadline(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.verifyDeadline(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `deleteGame(uint64)void` ABI method.
     *
    * Deletes a game and refunds all players
    Only the creator (player[0]) can delete the game

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    deleteGame: (params: CallParams<AbstractGameContractArgs['obj']['deleteGame(uint64)void'] | AbstractGameContractArgs['tuple']['deleteGame(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.deleteGame(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getGameInfo: (params: CallParams<AbstractGameContractArgs['obj']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'] | AbstractGameContractArgs['tuple']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AbstractGameContractParamsFactory.getGameInfo(params))
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Makes a clear_state call to an existing instance of the AbstractGameContract smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.createTransaction.bare.clearState(params)
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `joinGame(uint64,pay)void` ABI method.
     *
     * Join a game by paying an entry fee
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    joinGame: (params: CallParams<AbstractGameContractArgs['obj']['joinGame(uint64,pay)void'] | AbstractGameContractArgs['tuple']['joinGame(uint64,pay)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.joinGame(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `getRequiredMbr()uint64` ABI method.
     *
     * Public method to get the required MBR to create a game
     *
     * @param params The params for the smart contract call
     * @returns The call transaction: Required MBR in microAlgos
     */
    getRequiredMbr: (params: CallParams<AbstractGameContractArgs['obj']['getRequiredMbr()uint64'] | AbstractGameContractArgs['tuple']['getRequiredMbr()uint64']> & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.getRequiredMbr(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `commit(uint64,byte[32])void` ABI method.
     *
     * Registers a player's commit (hash of move + salt)
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    commit: (params: CallParams<AbstractGameContractArgs['obj']['commit(uint64,byte[32])void'] | AbstractGameContractArgs['tuple']['commit(uint64,byte[32])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.commit(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `reveal(uint64,byte[32],uint64)void` ABI method.
     *
     * Allows a player to reveal their move.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    reveal: (params: CallParams<AbstractGameContractArgs['obj']['reveal(uint64,byte[32],uint64)void'] | AbstractGameContractArgs['tuple']['reveal(uint64,byte[32],uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.reveal(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `backOff(uint64)void` ABI method.
     *
     * Allows a player to withdraw from a game before it starts.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    backOff: (params: CallParams<AbstractGameContractArgs['obj']['backOff(uint64)void'] | AbstractGameContractArgs['tuple']['backOff(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.backOff(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `verifyDeadline(uint64)void` ABI method.
     *
    * Verifies the game state against the deadline and resolves the game if the deadline has passed.
    This function handles timeouts for both commit and reveal phases.

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    verifyDeadline: (params: CallParams<AbstractGameContractArgs['obj']['verifyDeadline(uint64)void'] | AbstractGameContractArgs['tuple']['verifyDeadline(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.verifyDeadline(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `deleteGame(uint64)void` ABI method.
     *
    * Deletes a game and refunds all players
    Only the creator (player[0]) can delete the game

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    deleteGame: (params: CallParams<AbstractGameContractArgs['obj']['deleteGame(uint64)void'] | AbstractGameContractArgs['tuple']['deleteGame(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.deleteGame(params))
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getGameInfo: (params: CallParams<AbstractGameContractArgs['obj']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'] | AbstractGameContractArgs['tuple']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AbstractGameContractParamsFactory.getGameInfo(params))
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Makes a clear_state call to an existing instance of the AbstractGameContract smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams & SendParams>) => {
      return this.appClient.send.bare.clearState(params)
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `joinGame(uint64,pay)void` ABI method.
     *
     * Join a game by paying an entry fee
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    joinGame: async (params: CallParams<AbstractGameContractArgs['obj']['joinGame(uint64,pay)void'] | AbstractGameContractArgs['tuple']['joinGame(uint64,pay)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.joinGame(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['joinGame(uint64,pay)void'])}
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `getRequiredMbr()uint64` ABI method.
     *
     * Public method to get the required MBR to create a game
     *
     * @param params The params for the smart contract call
     * @returns The call result: Required MBR in microAlgos
     */
    getRequiredMbr: async (params: CallParams<AbstractGameContractArgs['obj']['getRequiredMbr()uint64'] | AbstractGameContractArgs['tuple']['getRequiredMbr()uint64']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.getRequiredMbr(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['getRequiredMbr()uint64'])}
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `commit(uint64,byte[32])void` ABI method.
     *
     * Registers a player's commit (hash of move + salt)
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    commit: async (params: CallParams<AbstractGameContractArgs['obj']['commit(uint64,byte[32])void'] | AbstractGameContractArgs['tuple']['commit(uint64,byte[32])void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.commit(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['commit(uint64,byte[32])void'])}
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `reveal(uint64,byte[32],uint64)void` ABI method.
     *
     * Allows a player to reveal their move.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    reveal: async (params: CallParams<AbstractGameContractArgs['obj']['reveal(uint64,byte[32],uint64)void'] | AbstractGameContractArgs['tuple']['reveal(uint64,byte[32],uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.reveal(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['reveal(uint64,byte[32],uint64)void'])}
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `backOff(uint64)void` ABI method.
     *
     * Allows a player to withdraw from a game before it starts.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    backOff: async (params: CallParams<AbstractGameContractArgs['obj']['backOff(uint64)void'] | AbstractGameContractArgs['tuple']['backOff(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.backOff(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['backOff(uint64)void'])}
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `verifyDeadline(uint64)void` ABI method.
     *
    * Verifies the game state against the deadline and resolves the game if the deadline has passed.
    This function handles timeouts for both commit and reveal phases.

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    verifyDeadline: async (params: CallParams<AbstractGameContractArgs['obj']['verifyDeadline(uint64)void'] | AbstractGameContractArgs['tuple']['verifyDeadline(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.verifyDeadline(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['verifyDeadline(uint64)void'])}
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `deleteGame(uint64)void` ABI method.
     *
    * Deletes a game and refunds all players
    Only the creator (player[0]) can delete the game

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    deleteGame: async (params: CallParams<AbstractGameContractArgs['obj']['deleteGame(uint64)void'] | AbstractGameContractArgs['tuple']['deleteGame(uint64)void']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.deleteGame(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['deleteGame(uint64)void'])}
    },

    /**
     * Makes a call to the AbstractGameContract smart contract using the `getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)` ABI method.
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getGameInfo: async (params: CallParams<AbstractGameContractArgs['obj']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'] | AbstractGameContractArgs['tuple']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AbstractGameContractParamsFactory.getGameInfo(params))
      return {...result, return: result.return as unknown as (undefined | AbstractGameContractReturns['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'])}
    },

  }

  /**
   * Clone this app client with different params
   *
   * @param params The params to use for the the cloned app client. Omit a param to keep the original value. Set a param to override the original value. Setting to undefined will clear the original value.
   * @returns A new app client with the altered params
   */
  public clone(params: CloneAppClientParams) {
    return new AbstractGameContractClient(this.appClient.clone(params))
  }

  /**
   * Methods to access state for the current AbstractGameContract app
   */
  state = {
    /**
     * Methods to access global state for the current AbstractGameContract app
     */
    global: {
      /**
       * Get all current keyed values from global state
       */
      getAll: async (): Promise<Partial<Expand<GlobalKeysState>>> => {
        const result = await this.appClient.state.global.getAll()
        return {
          gameIdCounter: result.gameIdCounter,
        }
      },
      /**
       * Get the current value of the gameIdCounter key in global state
       */
      gameIdCounter: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("gameIdCounter")) as bigint | undefined },
    },
    /**
     * Methods to access box state for the current AbstractGameContract app
     */
    box: {
      /**
       * Get all current keyed values from box state
       */
      getAll: async (): Promise<Partial<Expand<BoxKeysState>>> => {
        const result = await this.appClient.state.box.getAll()
        return {
        }
      },
      /**
       * Get values from the games map in box state
       */
      games: {
        /**
         * Get all current values of the games map in box state
         */
        getMap: async (): Promise<Map<bigint, GameState>> => { return (await this.appClient.state.box.getMap("games")) as Map<bigint, GameState> },
        /**
         * Get a current value of the games map by key from box state
         */
        value: async (key: bigint | number): Promise<GameState | undefined> => { return await this.appClient.state.box.getMapValue("games", key) as GameState | undefined },
      },
    },
  }

  public newGroup(): AbstractGameContractComposer {
    const client = this
    const composer = this.algorand.newGroup()
    let promiseChain:Promise<unknown> = Promise.resolve()
    const resultMappers: Array<undefined | ((x: ABIReturn | undefined) => any)> = []
    return {
      /**
       * Add a joinGame(uint64,pay)void method call against the AbstractGameContract contract
       */
      joinGame(params: CallParams<AbstractGameContractArgs['obj']['joinGame(uint64,pay)void'] | AbstractGameContractArgs['tuple']['joinGame(uint64,pay)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.joinGame(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a getRequiredMbr()uint64 method call against the AbstractGameContract contract
       */
      getRequiredMbr(params: CallParams<AbstractGameContractArgs['obj']['getRequiredMbr()uint64'] | AbstractGameContractArgs['tuple']['getRequiredMbr()uint64']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getRequiredMbr(params)))
        resultMappers.push((v) => client.decodeReturnValue('getRequiredMbr()uint64', v))
        return this
      },
      /**
       * Add a commit(uint64,byte[32])void method call against the AbstractGameContract contract
       */
      commit(params: CallParams<AbstractGameContractArgs['obj']['commit(uint64,byte[32])void'] | AbstractGameContractArgs['tuple']['commit(uint64,byte[32])void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.commit(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a reveal(uint64,byte[32],uint64)void method call against the AbstractGameContract contract
       */
      reveal(params: CallParams<AbstractGameContractArgs['obj']['reveal(uint64,byte[32],uint64)void'] | AbstractGameContractArgs['tuple']['reveal(uint64,byte[32],uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.reveal(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a backOff(uint64)void method call against the AbstractGameContract contract
       */
      backOff(params: CallParams<AbstractGameContractArgs['obj']['backOff(uint64)void'] | AbstractGameContractArgs['tuple']['backOff(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.backOff(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a verifyDeadline(uint64)void method call against the AbstractGameContract contract
       */
      verifyDeadline(params: CallParams<AbstractGameContractArgs['obj']['verifyDeadline(uint64)void'] | AbstractGameContractArgs['tuple']['verifyDeadline(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.verifyDeadline(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a deleteGame(uint64)void method call against the AbstractGameContract contract
       */
      deleteGame(params: CallParams<AbstractGameContractArgs['obj']['deleteGame(uint64)void'] | AbstractGameContractArgs['tuple']['deleteGame(uint64)void']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.deleteGame(params)))
        resultMappers.push(undefined)
        return this
      },
      /**
       * Add a getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address) method call against the AbstractGameContract contract
       */
      getGameInfo(params: CallParams<AbstractGameContractArgs['obj']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'] | AbstractGameContractArgs['tuple']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getGameInfo(params)))
        resultMappers.push((v) => client.decodeReturnValue('getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)', v))
        return this
      },
      /**
       * Add a clear state call to the AbstractGameContract contract
       */
      clearState(params: AppClientBareCallParams) {
        promiseChain = promiseChain.then(() => composer.addAppCall(client.params.clearState(params)))
        return this
      },
      addTransaction(txn: Transaction, signer?: TransactionSigner) {
        promiseChain = promiseChain.then(() => composer.addTransaction(txn, signer))
        return this
      },
      async composer() {
        await promiseChain
        return composer
      },
      async simulate(options?: SimulateOptions) {
        await promiseChain
        const result = await (!options ? composer.simulate() : composer.simulate(options))
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      },
      async send(params?: SendParams) {
        await promiseChain
        const result = await composer.send(params)
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      }
    } as unknown as AbstractGameContractComposer
  }
}
export type AbstractGameContractComposer<TReturns extends [...any[]] = []> = {
  /**
   * Calls the joinGame(uint64,pay)void ABI method.
   *
   * Join a game by paying an entry fee
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  joinGame(params?: CallParams<AbstractGameContractArgs['obj']['joinGame(uint64,pay)void'] | AbstractGameContractArgs['tuple']['joinGame(uint64,pay)void']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['joinGame(uint64,pay)void'] | undefined]>

  /**
   * Calls the getRequiredMbr()uint64 ABI method.
   *
   * Public method to get the required MBR to create a game
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getRequiredMbr(params?: CallParams<AbstractGameContractArgs['obj']['getRequiredMbr()uint64'] | AbstractGameContractArgs['tuple']['getRequiredMbr()uint64']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['getRequiredMbr()uint64'] | undefined]>

  /**
   * Calls the commit(uint64,byte[32])void ABI method.
   *
   * Registers a player's commit (hash of move + salt)
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  commit(params?: CallParams<AbstractGameContractArgs['obj']['commit(uint64,byte[32])void'] | AbstractGameContractArgs['tuple']['commit(uint64,byte[32])void']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['commit(uint64,byte[32])void'] | undefined]>

  /**
   * Calls the reveal(uint64,byte[32],uint64)void ABI method.
   *
   * Allows a player to reveal their move.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  reveal(params?: CallParams<AbstractGameContractArgs['obj']['reveal(uint64,byte[32],uint64)void'] | AbstractGameContractArgs['tuple']['reveal(uint64,byte[32],uint64)void']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['reveal(uint64,byte[32],uint64)void'] | undefined]>

  /**
   * Calls the backOff(uint64)void ABI method.
   *
   * Allows a player to withdraw from a game before it starts.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  backOff(params?: CallParams<AbstractGameContractArgs['obj']['backOff(uint64)void'] | AbstractGameContractArgs['tuple']['backOff(uint64)void']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['backOff(uint64)void'] | undefined]>

  /**
   * Calls the verifyDeadline(uint64)void ABI method.
   *
  * Verifies the game state against the deadline and resolves the game if the deadline has passed.
  This function handles timeouts for both commit and reveal phases.

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  verifyDeadline(params?: CallParams<AbstractGameContractArgs['obj']['verifyDeadline(uint64)void'] | AbstractGameContractArgs['tuple']['verifyDeadline(uint64)void']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['verifyDeadline(uint64)void'] | undefined]>

  /**
   * Calls the deleteGame(uint64)void ABI method.
   *
  * Deletes a game and refunds all players
  Only the creator (player[0]) can delete the game

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  deleteGame(params?: CallParams<AbstractGameContractArgs['obj']['deleteGame(uint64)void'] | AbstractGameContractArgs['tuple']['deleteGame(uint64)void']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['deleteGame(uint64)void'] | undefined]>

  /**
   * Calls the getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address) ABI method.
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getGameInfo(params?: CallParams<AbstractGameContractArgs['obj']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'] | AbstractGameContractArgs['tuple']['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)']>): AbstractGameContractComposer<[...TReturns, AbstractGameContractReturns['getGameInfo(uint64)(address[15],uint64,uint64,byte[32][15],bool[15],byte[32][15],bool[15],uint64,uint64,uint64,uint64,uint64,address)'] | undefined]>

  /**
   * Makes a clear_state call to an existing instance of the AbstractGameContract smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  clearState(params?: AppClientBareCallParams): AbstractGameContractComposer<[...TReturns, undefined]>

  /**
   * Adds a transaction to the composer
   *
   * @param txn A transaction to add to the transaction group
   * @param signer The optional signer to use when signing this transaction.
   */
  addTransaction(txn: Transaction, signer?: TransactionSigner): AbstractGameContractComposer<TReturns>
  /**
   * Returns the underlying AtomicTransactionComposer instance
   */
  composer(): Promise<TransactionComposer>
  /**
   * Simulates the transaction group and returns the result
   */
  simulate(): Promise<AbstractGameContractComposerResults<TReturns> & { simulateResponse: modelsv2.SimulateResponse }>
  simulate(options: SkipSignaturesSimulateOptions): Promise<AbstractGameContractComposerResults<TReturns> & { simulateResponse: modelsv2.SimulateResponse }>
  simulate(options: RawSimulateOptions): Promise<AbstractGameContractComposerResults<TReturns> & { simulateResponse: modelsv2.SimulateResponse }>
  /**
   * Sends the transaction group to the network and returns the results
   */
  send(params?: SendParams): Promise<AbstractGameContractComposerResults<TReturns>>
}
export type AbstractGameContractComposerResults<TReturns extends [...any[]]> = Expand<SendAtomicTransactionComposerResults & {
  returns: TReturns
}>

