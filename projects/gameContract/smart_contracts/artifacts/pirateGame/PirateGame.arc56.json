{
    "name": "PirateGame",
    "structs": {
        "Object2AEA0877": [
            {
                "name": "proposer",
                "type": "uint64"
            },
            {
                "name": "distribution",
                "type": "byte[]"
            },
            {
                "name": "votesFor",
                "type": "uint64"
            },
            {
                "name": "votesAgainst",
                "type": "uint64"
            }
        ],
        "Object76865934": [
            {
                "name": "phase",
                "type": "uint64"
            },
            {
                "name": "currentRound",
                "type": "uint64"
            },
            {
                "name": "totalPirates",
                "type": "uint64"
            },
            {
                "name": "alivePirates",
                "type": "uint64"
            },
            {
                "name": "currentProposerIndex",
                "type": "uint64"
            },
            {
                "name": "pot",
                "type": "uint64"
            },
            {
                "name": "commitDuration",
                "type": "uint64"
            },
            {
                "name": "revealDuration",
                "type": "uint64"
            }
        ],
        "Object8F0328FD": [
            {
                "name": "pirateAddress",
                "type": "address"
            },
            {
                "name": "seniorityIndex",
                "type": "uint64"
            },
            {
                "name": "alive",
                "type": "bool"
            },
            {
                "name": "claimed",
                "type": "bool"
            }
        ],
        "ObjectB555233E": [
            {
                "name": "startAt",
                "type": "uint64"
            },
            {
                "name": "endCommitAt",
                "type": "uint64"
            },
            {
                "name": "endRevealAt",
                "type": "uint64"
            },
            {
                "name": "participation",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "createSession",
            "args": [
                {
                    "type": "(uint64,uint64,uint64,uint64)",
                    "struct": "ObjectB555233E",
                    "name": "config"
                },
                {
                    "type": "pay",
                    "name": "mbrPayment"
                },
                {
                    "type": "uint64",
                    "name": "maxPirates"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "registerPirate",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                },
                {
                    "type": "pay",
                    "name": "payment"
                },
                {
                    "type": "pay",
                    "name": "mbrPayment"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "proposeDistribution",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                },
                {
                    "type": "byte[]",
                    "name": "distribution"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "commitVote",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                },
                {
                    "type": "byte[]",
                    "name": "voteHash"
                },
                {
                    "type": "pay",
                    "name": "mbrPayment"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "revealVote",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                },
                {
                    "type": "uint64",
                    "name": "vote"
                },
                {
                    "type": "byte[]",
                    "name": "salt"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "executeRound",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Executes the current round.\nFIX: Now uses PULL pattern. No loops over pirates.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "claimWinnings",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Claims winnings.\nFIX: Calculates share on the fly from the stored proposal.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getRequiredMBR",
            "args": [
                {
                    "type": "string",
                    "name": "command"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "timeOut",
            "args": [
                {
                    "type": "uint64",
                    "name": "sessionID"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getGameType",
            "args": [],
            "returns": {
                "type": "byte[]"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Returns contract identification info.\nUsed by CLI for validation.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "initialize",
            "args": [
                {
                    "type": "string",
                    "name": "gameType"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 1,
                "bytes": 1
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "gameType": {
                    "keyType": "AVMString",
                    "valueType": "AVMBytes",
                    "key": "Z2FtZVR5cGU=",
                    "desc": "Contract type identifier (e.g., 'RPS', 'STAGHUNT', 'WEEKLY', 'GUESS')\nThis allows CLI to validate contract type before operations.\n\nIMPORTANT: Subclasses MUST set this value in their implementation."
                },
                "sessionIDCounter": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "c2Vzc2lvbklEQ291bnRlcg==",
                    "desc": "Global counter for generating unique session IDs."
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "gameState": {
                    "keyType": "uint64",
                    "valueType": "Object76865934",
                    "prefix": "Z3N0"
                },
                "pirates": {
                    "keyType": "AVMBytes",
                    "valueType": "Object8F0328FD",
                    "prefix": "cGly"
                },
                "pirateList": {
                    "keyType": "uint64",
                    "valueType": "AVMBytes",
                    "prefix": "cGxz"
                },
                "proposals": {
                    "keyType": "uint64",
                    "valueType": "Object2AEA0877",
                    "prefix": "cHJw"
                },
                "playerCommit": {
                    "keyType": "AVMBytes",
                    "valueType": "AVMBytes",
                    "desc": "Storage for player commits.\nKey: Hash(sessionID + playerAddress) [32 bytes + 4 bytes prefix]\nValue: Hash(choice + salt) [32 bytes]",
                    "prefix": "cGNvbQ=="
                },
                "playerChoice": {
                    "keyType": "AVMBytes",
                    "valueType": "uint64",
                    "desc": "Storage for revealed choices.\nKey: Hash(sessionID + playerAddress) [32 bytes + 4 bytes prefix]\nValue: Player Choice [8 bytes]",
                    "prefix": "cGNobw=="
                },
                "gameSessions": {
                    "keyType": "uint64",
                    "valueType": "ObjectB555233E",
                    "desc": "Configuration storage for each active session.",
                    "prefix": "Z3M="
                },
                "sessionBalances": {
                    "keyType": "uint64",
                    "valueType": "uint64",
                    "desc": "Tracks the total pot (collected participation fees) for a specific session.",
                    "prefix": "c2JhbA=="
                }
            }
        }
    },
    "bareActions": {
        "create": [
            "NoOp"
        ],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        1757
                    ],
                    "errorMessage": "Already claimed"
                },
                {
                    "pc": [
                        1107
                    ],
                    "errorMessage": "Already committed this round"
                },
                {
                    "pc": [
                        1961
                    ],
                    "errorMessage": "Already refunded"
                },
                {
                    "pc": [
                        597
                    ],
                    "errorMessage": "Already registered"
                },
                {
                    "pc": [
                        555,
                        624,
                        669,
                        795,
                        851,
                        1028,
                        1202,
                        1206,
                        1260,
                        1332,
                        1440,
                        1728,
                        1763,
                        1899,
                        2283,
                        2322,
                        2351,
                        2398
                    ],
                    "errorMessage": "Box must have value"
                },
                {
                    "pc": [
                        2483
                    ],
                    "errorMessage": "Command not supported"
                },
                {
                    "pc": [
                        2258
                    ],
                    "errorMessage": "Contract already initialized"
                },
                {
                    "pc": [
                        928
                    ],
                    "errorMessage": "Distribution must sum to pot"
                },
                {
                    "pc": [
                        631
                    ],
                    "errorMessage": "Game is full"
                },
                {
                    "pc": [
                        1734
                    ],
                    "errorMessage": "Game not finished"
                },
                {
                    "pc": [
                        804
                    ],
                    "errorMessage": "Game not started yet"
                },
                {
                    "pc": [
                        661
                    ],
                    "errorMessage": "Incorrect participation fee"
                },
                {
                    "pc": [
                        354
                    ],
                    "errorMessage": "Insufficient MBR"
                },
                {
                    "pc": [
                        616
                    ],
                    "errorMessage": "Insufficient MBR for pirate registration"
                },
                {
                    "pc": [
                        1086
                    ],
                    "errorMessage": "Insufficient MBR for vote commit"
                },
                {
                    "pc": [
                        2455
                    ],
                    "errorMessage": "Invalid command"
                },
                {
                    "pc": [
                        883
                    ],
                    "errorMessage": "Invalid distribution length"
                },
                {
                    "pc": [
                        1307
                    ],
                    "errorMessage": "Invalid reveal: hash mismatch"
                },
                {
                    "pc": [
                        378
                    ],
                    "errorMessage": "Invalid start time: cannot start in the past"
                },
                {
                    "pc": [
                        372
                    ],
                    "errorMessage": "Invalid timeline: commit end must be before reveal end"
                },
                {
                    "pc": [
                        364
                    ],
                    "errorMessage": "Invalid timeline: start must be before commit end"
                },
                {
                    "pc": [
                        350,
                        610,
                        1080
                    ],
                    "errorMessage": "MBR payment receiver must be contract"
                },
                {
                    "pc": [
                        580
                    ],
                    "errorMessage": "Max pirates reached"
                },
                {
                    "pc": [
                        336
                    ],
                    "errorMessage": "Minimum participation is 1 ALGO"
                },
                {
                    "pc": [
                        2381
                    ],
                    "errorMessage": "No alive pirate found"
                },
                {
                    "pc": [
                        1289
                    ],
                    "errorMessage": "No commit for this round"
                },
                {
                    "pc": [
                        1787
                    ],
                    "errorMessage": "No winnings for you"
                },
                {
                    "pc": [
                        1747
                    ],
                    "errorMessage": "Not a pirate"
                },
                {
                    "pc": [
                        1952
                    ],
                    "errorMessage": "Not a registered pirate"
                },
                {
                    "pc": [
                        833
                    ],
                    "errorMessage": "Not enough pirates to start"
                },
                {
                    "pc": [
                        1455
                    ],
                    "errorMessage": "Not in execution phase"
                },
                {
                    "pc": [
                        847
                    ],
                    "errorMessage": "Not in proposal phase"
                },
                {
                    "pc": [
                        1246
                    ],
                    "errorMessage": "Not in reveal phase"
                },
                {
                    "pc": [
                        1039
                    ],
                    "errorMessage": "Not in voting phase"
                },
                {
                    "pc": [
                        818,
                        1061
                    ],
                    "errorMessage": "Not registered"
                },
                {
                    "pc": [
                        867
                    ],
                    "errorMessage": "Not your turn to propose"
                },
                {
                    "pc": [
                        2000,
                        2003
                    ],
                    "errorMessage": "Nothing to unlock in this phase"
                },
                {
                    "pc": [
                        124
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        220
                    ],
                    "errorMessage": "OnCompletion must be NoOp && can only call when creating"
                },
                {
                    "pc": [
                        2264
                    ],
                    "errorMessage": "Only creator can initialize"
                },
                {
                    "pc": [
                        649
                    ],
                    "errorMessage": "Payment must go to contract"
                },
                {
                    "pc": [
                        324
                    ],
                    "errorMessage": "Pirates must be between 3 and 20"
                },
                {
                    "pc": [
                        2011
                    ],
                    "errorMessage": "Proposal deadline not passed yet"
                },
                {
                    "pc": [
                        566
                    ],
                    "errorMessage": "Registration closed (Game Started)"
                },
                {
                    "pc": [
                        571
                    ],
                    "errorMessage": "Registration phase has ended"
                },
                {
                    "pc": [
                        1936
                    ],
                    "errorMessage": "Registration still active"
                },
                {
                    "pc": [
                        1222
                    ],
                    "errorMessage": "Reveal deadline passed"
                },
                {
                    "pc": [
                        1464
                    ],
                    "errorMessage": "Reveal phase not ended"
                },
                {
                    "pc": [
                        548,
                        637,
                        780,
                        1022,
                        1175,
                        1425,
                        1722,
                        1884
                    ],
                    "errorMessage": "Session does not exist"
                },
                {
                    "pc": [
                        1187
                    ],
                    "errorMessage": "Vote must be 0 or 1"
                },
                {
                    "pc": [
                        1047
                    ],
                    "errorMessage": "Voting deadline passed"
                },
                {
                    "pc": [
                        1214
                    ],
                    "errorMessage": "Voting still open"
                },
                {
                    "pc": [
                        856,
                        1067,
                        1264
                    ],
                    "errorMessage": "You are eliminated"
                },
                {
                    "pc": [
                        383,
                        2218,
                        2255
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        750,
                        989,
                        1147,
                        1831,
                        2239
                    ],
                    "errorMessage": "invalid array length header"
                },
                {
                    "pc": [
                        289
                    ],
                    "errorMessage": "invalid number of bytes for ObjectB555233E"
                },
                {
                    "pc": [
                        758,
                        997,
                        1155,
                        1839,
                        2247
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<arc4.uint8>"
                },
                {
                    "pc": [
                        307,
                        514,
                        743,
                        982,
                        1128,
                        1137,
                        1403,
                        1712,
                        1861
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        299,
                        526,
                        536,
                        1010
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMSAwIDggMzIgMzIwCiAgICBieXRlY2Jsb2NrICJwaXIiICJncyIgImdzdCIgInBycCIgImdhbWVUeXBlIiAibmV3R2FtZSIgInBscyIgMHgxNTFmN2M3NSAiam9pbiIgInNlc3Npb25JRENvdW50ZXIiIDB4MDAxYSAweDA2ODEwMSAic2JhbCIgImNvbW1pdFZvdGUiICJwY29tIgogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGJueiBtYWluX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTIKICAgIC8vIGdhbWVUeXBlID0gR2xvYmFsU3RhdGU8Ynl0ZXM+KHsgaW5pdGlhbFZhbHVlOiBCeXRlcygnJykgfSkKICAgIGJ5dGVjIDQgLy8gImdhbWVUeXBlIgogICAgcHVzaGJ5dGVzICIiCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTcKICAgIC8vIHNlc3Npb25JRENvdW50ZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlYyA5IC8vICJzZXNzaW9uSURDb3VudGVyIgogICAgaW50Y18xIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CgptYWluX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NTUKICAgIC8vIGV4cG9ydCBjbGFzcyBQaXJhdGVHYW1lIGV4dGVuZHMgR2FtZUNvbnRyYWN0IHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX19fYWxnb3RzX18uZGVmYXVsdENyZWF0ZUAyMAogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBtdXN0IGJlIE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQKICAgIHB1c2hieXRlc3MgMHg3YWE2YzgyMiAweGY0NzEwYTRmIDB4YjFiNWE0MDMgMHgyNzUyMzlkNiAweDE3YmIxYTE3IDB4M2E3ODk2YmUgMHg3NGJlZjg4NyAweDllNGEzYWU1IDB4YmZhMGFlMGIgMHg1NjgzZWUwOCAweGVjZjMzOWU3IC8vIG1ldGhvZCAiY3JlYXRlU2Vzc2lvbigodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSxwYXksdWludDY0KXVpbnQ2NCIsIG1ldGhvZCAicmVnaXN0ZXJQaXJhdGUodWludDY0LHBheSxwYXkpdm9pZCIsIG1ldGhvZCAicHJvcG9zZURpc3RyaWJ1dGlvbih1aW50NjQsYnl0ZVtdKXZvaWQiLCBtZXRob2QgImNvbW1pdFZvdGUodWludDY0LGJ5dGVbXSxwYXkpdm9pZCIsIG1ldGhvZCAicmV2ZWFsVm90ZSh1aW50NjQsdWludDY0LGJ5dGVbXSl2b2lkIiwgbWV0aG9kICJleGVjdXRlUm91bmQodWludDY0KXZvaWQiLCBtZXRob2QgImNsYWltV2lubmluZ3ModWludDY0KXVpbnQ2NCIsIG1ldGhvZCAiZ2V0UmVxdWlyZWRNQlIoc3RyaW5nKXVpbnQ2NCIsIG1ldGhvZCAidGltZU91dCh1aW50NjQpdm9pZCIsIG1ldGhvZCAiZ2V0R2FtZVR5cGUoKWJ5dGVbXSIsIG1ldGhvZCAiaW5pdGlhbGl6ZShzdHJpbmcpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGNyZWF0ZVNlc3Npb24gcmVnaXN0ZXJQaXJhdGUgcHJvcG9zZURpc3RyaWJ1dGlvbiBjb21taXRWb3RlIHJldmVhbFZvdGUgZXhlY3V0ZVJvdW5kIGNsYWltV2lubmluZ3MgZ2V0UmVxdWlyZWRNQlIgdGltZU91dCBnZXRHYW1lVHlwZSBpbml0aWFsaXplCiAgICBlcnIKCm1haW5fX19hbGdvdHNfXy5kZWZhdWx0Q3JlYXRlQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NQogICAgLy8gZXhwb3J0IGNsYXNzIFBpcmF0ZUdhbWUgZXh0ZW5kcyBHYW1lQ29udHJhY3QgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcCAmJiBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBfcHV5YV9saWIudXRpbC5lbnN1cmVfYnVkZ2V0KHJlcXVpcmVkX2J1ZGdldDogdWludDY0LCBmZWVfc291cmNlOiB1aW50NjQpIC0+IHZvaWQ6CmVuc3VyZV9idWRnZXQ6CiAgICBwcm90byAyIDAKICAgIGZyYW1lX2RpZyAtMgogICAgcHVzaGludCAxMCAvLyAxMAogICAgKwoKZW5zdXJlX2J1ZGdldF93aGlsZV90b3BAMToKICAgIGZyYW1lX2RpZyAwCiAgICBnbG9iYWwgT3Bjb2RlQnVkZ2V0CiAgICA+CiAgICBieiBlbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDYKICAgIGl0eG5fYmVnaW4KICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBwdXNoaW50IDUgLy8gRGVsZXRlQXBwbGljYXRpb24KICAgIGl0eG5fZmllbGQgT25Db21wbGV0aW9uCiAgICBieXRlYyAxMSAvLyAweDA2ODEwMQogICAgaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW0KICAgIGJ5dGVjIDExIC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIENsZWFyU3RhdGVQcm9ncmFtCiAgICBmcmFtZV9kaWcgLTEKICAgIHN3aXRjaCBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMyBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANAoKZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDU6CiAgICBpdHhuX3N1Ym1pdAogICAgYiBlbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxCgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANDoKICAgIGdsb2JhbCBNaW5UeG5GZWUKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA1CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMzoKICAgIGludGNfMSAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgYiBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANQoKZW5zdXJlX2J1ZGdldF9hZnRlcl93aGlsZUA2OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo6UGlyYXRlR2FtZS5jcmVhdGVTZXNzaW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKY3JlYXRlU2Vzc2lvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NjEtNjYKICAgIC8vIHB1YmxpYyBjcmVhdGVTZXNzaW9uKAogICAgLy8gICBjb25maWc6IEdhbWVDb25maWcsCiAgICAvLyAgIG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgbWF4UGlyYXRlczogdWludDY0LAogICAgLy8gICAvL3JvdW5kRHVyYXRpb246IHVpbnQ2NAogICAgLy8gKTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIE9iamVjdEI1NTUyMzNFCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo2NwogICAgLy8gYXNzZXJ0KG1heFBpcmF0ZXMgPj0gMyAmJiBtYXhQaXJhdGVzIDw9IDIwLCAnUGlyYXRlcyBtdXN0IGJlIGJldHdlZW4gMyBhbmQgMjAnKQogICAgcHVzaGludCAzIC8vIDMKICAgID49CiAgICBieiBjcmVhdGVTZXNzaW9uX2Jvb2xfZmFsc2VANAogICAgZHVwCiAgICBwdXNoaW50IDIwIC8vIDIwCiAgICA8PQogICAgYnogY3JlYXRlU2Vzc2lvbl9ib29sX2ZhbHNlQDQKICAgIGludGNfMCAvLyAxCgpjcmVhdGVTZXNzaW9uX2Jvb2xfbWVyZ2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NjcKICAgIC8vIGFzc2VydChtYXhQaXJhdGVzID49IDMgJiYgbWF4UGlyYXRlcyA8PSAyMCwgJ1BpcmF0ZXMgbXVzdCBiZSBiZXR3ZWVuIDMgYW5kIDIwJykKICAgIGFzc2VydCAvLyBQaXJhdGVzIG11c3QgYmUgYmV0d2VlbiAzIGFuZCAyMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo2OQogICAgLy8gYXNzZXJ0KGNvbmZpZy5wYXJ0aWNpcGF0aW9uID49IDFfMDAwXzAwMCwgJ01pbmltdW0gcGFydGljaXBhdGlvbiBpcyAxIEFMR08nKQogICAgZGlnIDIKICAgIGR1cAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIHB1c2hpbnQgMTAwMDAwMCAvLyAxMDAwMDAwCiAgICA+PQogICAgYXNzZXJ0IC8vIE1pbmltdW0gcGFydGljaXBhdGlvbiBpcyAxIEFMR08KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NzEKICAgIC8vIGNvbnN0IHJlcXVpcmVkTUJSID0gdGhpcy5nZXRSZXF1aXJlZE1CUignbmV3R2FtZScpCiAgICBieXRlYyA1IC8vICJuZXdHYW1lIgogICAgY2FsbHN1YiBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjpQaXJhdGVHYW1lLmdldFJlcXVpcmVkTUJSCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjcyCiAgICAvLyBhc3NlcnQobWJyUGF5bWVudC5yZWNlaXZlciA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsICdNQlIgcGF5bWVudCByZWNlaXZlciBtdXN0IGJlIGNvbnRyYWN0JykKICAgIGRpZyAzCiAgICBkdXAKICAgIGd0eG5zIFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBNQlIgcGF5bWVudCByZWNlaXZlciBtdXN0IGJlIGNvbnRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjczCiAgICAvLyBhc3NlcnQobWJyUGF5bWVudC5hbW91bnQgPj0gcmVxdWlyZWRNQlIsICdJbnN1ZmZpY2llbnQgTUJSJykKICAgIGd0eG5zIEFtb3VudAogICAgPD0KICAgIGFzc2VydCAvLyBJbnN1ZmZpY2llbnQgTUJSCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMDYKICAgIC8vIGFzc2VydChjb25maWcuc3RhcnRBdCA8PSBjb25maWcuZW5kQ29tbWl0QXQsICdJbnZhbGlkIHRpbWVsaW5lOiBzdGFydCBtdXN0IGJlIGJlZm9yZSBjb21taXQgZW5kJykKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgaW50Y18yIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAyCiAgICA8PQogICAgYXNzZXJ0IC8vIEludmFsaWQgdGltZWxpbmU6IHN0YXJ0IG11c3QgYmUgYmVmb3JlIGNvbW1pdCBlbmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjEwNwogICAgLy8gYXNzZXJ0KGNvbmZpZy5lbmRDb21taXRBdCA8IGNvbmZpZy5lbmRSZXZlYWxBdCwgJ0ludmFsaWQgdGltZWxpbmU6IGNvbW1pdCBlbmQgbXVzdCBiZSBiZWZvcmUgcmV2ZWFsIGVuZCcpCiAgICBkaWcgMgogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cDIKICAgIDwKICAgIGFzc2VydCAvLyBJbnZhbGlkIHRpbWVsaW5lOiBjb21taXQgZW5kIG11c3QgYmUgYmVmb3JlIHJldmVhbCBlbmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjEwOAogICAgLy8gYXNzZXJ0KGNvbmZpZy5zdGFydEF0ID49IEdsb2JhbC5yb3VuZCwgJ0ludmFsaWQgc3RhcnQgdGltZTogY2Fubm90IHN0YXJ0IGluIHRoZSBwYXN0JykKICAgIGRpZyAyCiAgICBnbG9iYWwgUm91bmQKICAgID49CiAgICBhc3NlcnQgLy8gSW52YWxpZCBzdGFydCB0aW1lOiBjYW5ub3Qgc3RhcnQgaW4gdGhlIHBhc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjExMAogICAgLy8gY29uc3Qgc2Vzc2lvbklEID0gdGhpcy5zZXNzaW9uSURDb3VudGVyLnZhbHVlCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NTcKICAgIC8vIHNlc3Npb25JRENvdW50ZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlYyA5IC8vICJzZXNzaW9uSURDb3VudGVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTEwCiAgICAvLyBjb25zdCBzZXNzaW9uSUQgPSB0aGlzLnNlc3Npb25JRENvdW50ZXIudmFsdWUKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTIKICAgIC8vIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShjb25maWcpCiAgICBkdXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjc2CiAgICAvLyBnYW1lU2Vzc2lvbnMgPSBCb3hNYXA8dWludDY0LCBHYW1lQ29uZmlnPih7IGtleVByZWZpeDogJ2dzJyB9KQogICAgYnl0ZWNfMSAvLyAiZ3MiCiAgICBkaWcgMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxMTIKICAgIC8vIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShjb25maWcpCiAgICB1bmNvdmVyIDYKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjgxCiAgICAvLyBzZXNzaW9uQmFsYW5jZXMgPSBCb3hNYXA8dWludDY0LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnc2JhbCcgfSkKICAgIGJ5dGVjIDEyIC8vICJzYmFsIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTEzCiAgICAvLyB0aGlzLnNlc3Npb25CYWxhbmNlcyhzZXNzaW9uSUQpLnZhbHVlID0gMAogICAgaW50Y18xIC8vIDAKICAgIGl0b2IKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjExNAogICAgLy8gdGhpcy5zZXNzaW9uSURDb3VudGVyLnZhbHVlID0gc2Vzc2lvbklEICsgMQogICAgc3dhcAogICAgaW50Y18wIC8vIDEKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjU3CiAgICAvLyBzZXNzaW9uSURDb3VudGVyID0gR2xvYmFsU3RhdGU8dWludDY0Pih7IGluaXRpYWxWYWx1ZTogMCB9KQogICAgYnl0ZWMgOSAvLyAic2Vzc2lvbklEQ291bnRlciIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjExNAogICAgLy8gdGhpcy5zZXNzaW9uSURDb3VudGVyLnZhbHVlID0gc2Vzc2lvbklEICsgMQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IGNvbW1pdER1cmF0aW9uIDogdWludDY0ID0gY29uZmlnLmVuZENvbW1pdEF0IC0gY29uZmlnLnN0YXJ0QXQKICAgIGRpZyAyCiAgICB1bmNvdmVyIDQKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NzgKICAgIC8vIGNvbnN0IHJldmVhbER1cmF0aW9uIDogdWludDY0ID0gY29uZmlnLmVuZFJldmVhbEF0IC0gY29uZmlnLmVuZENvbW1pdEF0CiAgICB1bmNvdmVyIDIKICAgIHVuY292ZXIgMwogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo4MC05MgogICAgLy8gdGhpcy5nYW1lU3RhdGUoc2Vzc2lvbklEKS52YWx1ZSA9IHsKICAgIC8vICAgcGhhc2U6IDAsCiAgICAvLyAgIGN1cnJlbnRSb3VuZDogMCwKICAgIC8vICAgdG90YWxQaXJhdGVzOiAwLAogICAgLy8gICBhbGl2ZVBpcmF0ZXM6IDAsCiAgICAvLyAgIGN1cnJlbnRQcm9wb3NlckluZGV4OiAwLAogICAgLy8gICBwb3Q6IDAsCiAgICAvLyAgIC8vcHJvcG9zYWxEZWFkbGluZTogY29uZmlnLnN0YXJ0QXQgKyByb3VuZER1cmF0aW9uLAogICAgLy8gICAvL3ZvdGVEZWFkbGluZTogY29uZmlnLnN0YXJ0QXQgKyByb3VuZER1cmF0aW9uICogMiwKICAgIC8vICAgLy9yZXZlYWxEZWFkbGluZTogY29uZmlnLnN0YXJ0QXQgKyByb3VuZER1cmF0aW9uICogMywKICAgIC8vICAgY29tbWl0RHVyYXRpb246IGNvbW1pdER1cmF0aW9uLAogICAgLy8gICByZXZlYWxEdXJhdGlvbjogcmV2ZWFsRHVyYXRpb24KICAgIC8vIH0KICAgIHN3YXAKICAgIGl0b2IKICAgIHB1c2hieXRlcyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgc3dhcAogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NTYKICAgIC8vIGdhbWVTdGF0ZSA9IEJveE1hcDx1aW50NjQsIEdhbWVTdGF0ZT4oeyBrZXlQcmVmaXg6ICdnc3QnIH0pCiAgICBieXRlY18yIC8vICJnc3QiCiAgICBkaWcgMgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjgwLTkyCiAgICAvLyB0aGlzLmdhbWVTdGF0ZShzZXNzaW9uSUQpLnZhbHVlID0gewogICAgLy8gICBwaGFzZTogMCwKICAgIC8vICAgY3VycmVudFJvdW5kOiAwLAogICAgLy8gICB0b3RhbFBpcmF0ZXM6IDAsCiAgICAvLyAgIGFsaXZlUGlyYXRlczogMCwKICAgIC8vICAgY3VycmVudFByb3Bvc2VySW5kZXg6IDAsCiAgICAvLyAgIHBvdDogMCwKICAgIC8vICAgLy9wcm9wb3NhbERlYWRsaW5lOiBjb25maWcuc3RhcnRBdCArIHJvdW5kRHVyYXRpb24sCiAgICAvLyAgIC8vdm90ZURlYWRsaW5lOiBjb25maWcuc3RhcnRBdCArIHJvdW5kRHVyYXRpb24gKiAyLAogICAgLy8gICAvL3JldmVhbERlYWRsaW5lOiBjb25maWcuc3RhcnRBdCArIHJvdW5kRHVyYXRpb24gKiAzLAogICAgLy8gICBjb21taXREdXJhdGlvbjogY29tbWl0RHVyYXRpb24sCiAgICAvLyAgIHJldmVhbER1cmF0aW9uOiByZXZlYWxEdXJhdGlvbgogICAgLy8gfQogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo5NAogICAgLy8gdGhpcy5waXJhdGVMaXN0KHNlc3Npb25JRCkudmFsdWUgPSBiemVybyhtYXhQaXJhdGVzICogMzIpCiAgICBkaWcgMQogICAgaW50Y18zIC8vIDMyCiAgICAqCiAgICBiemVybwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1OAogICAgLy8gcGlyYXRlTGlzdCA9IEJveE1hcDx1aW50NjQsIGJ5dGVzPih7IGtleVByZWZpeDogJ3BscycgfSkKICAgIGJ5dGVjIDYgLy8gInBscyIKICAgIGRpZyAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OTQKICAgIC8vIHRoaXMucGlyYXRlTGlzdChzZXNzaW9uSUQpLnZhbHVlID0gYnplcm8obWF4UGlyYXRlcyAqIDMyKQogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NjEtNjYKICAgIC8vIHB1YmxpYyBjcmVhdGVTZXNzaW9uKAogICAgLy8gICBjb25maWc6IEdhbWVDb25maWcsCiAgICAvLyAgIG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgbWF4UGlyYXRlczogdWludDY0LAogICAgLy8gICAvL3JvdW5kRHVyYXRpb246IHVpbnQ2NAogICAgLy8gKTogdWludDY0IHsKICAgIGJ5dGVjIDcgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCmNyZWF0ZVNlc3Npb25fYm9vbF9mYWxzZUA0OgogICAgaW50Y18xIC8vIDAKICAgIGIgY3JlYXRlU2Vzc2lvbl9ib29sX21lcmdlQDUKCgovLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjpQaXJhdGVHYW1lLnJlZ2lzdGVyUGlyYXRlW3JvdXRpbmddKCkgLT4gdm9pZDoKcmVnaXN0ZXJQaXJhdGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjk4CiAgICAvLyBwdWJsaWMgcmVnaXN0ZXJQaXJhdGUoc2Vzc2lvbklEOiB1aW50NjQsIHBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwgbWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG4gR3JvdXBJbmRleAogICAgcHVzaGludCAyIC8vIDIKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18wIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjIyCiAgICAvLyByZXR1cm4gdGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzYKICAgIC8vIGdhbWVTZXNzaW9ucyA9IEJveE1hcDx1aW50NjQsIEdhbWVDb25maWc+KHsga2V5UHJlZml4OiAnZ3MnIH0pCiAgICBieXRlY18xIC8vICJncyIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyMgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo5OQogICAgLy8gYXNzZXJ0KHRoaXMuc2Vzc2lvbkV4aXN0cyhzZXNzaW9uSUQpLCAnU2Vzc2lvbiBkb2VzIG5vdCBleGlzdCcpCiAgICBhc3NlcnQgLy8gU2Vzc2lvbiBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NgogICAgLy8gZ2FtZVN0YXRlID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dzdCcgfSkKICAgIGJ5dGVjXzIgLy8gImdzdCIKICAgIGRpZyAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTAxCiAgICAvLyBjb25zdCBzdGF0ZSA9IGNsb25lKHRoaXMuZ2FtZVN0YXRlKHNlc3Npb25JRCkudmFsdWUpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjEwMgogICAgLy8gY29uc3QgY29uZmlnID0gY2xvbmUodGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGRpZyAyCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTA0CiAgICAvLyBhc3NlcnQoR2xvYmFsLnJvdW5kIDwgY29uZmlnLnN0YXJ0QXQsICdSZWdpc3RyYXRpb24gY2xvc2VkIChHYW1lIFN0YXJ0ZWQpJykKICAgIGdsb2JhbCBSb3VuZAogICAgc3dhcAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICA8CiAgICBhc3NlcnQgLy8gUmVnaXN0cmF0aW9uIGNsb3NlZCAoR2FtZSBTdGFydGVkKQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxMDUKICAgIC8vIGFzc2VydChzdGF0ZS5waGFzZSA9PT0gMCwgJ1JlZ2lzdHJhdGlvbiBwaGFzZSBoYXMgZW5kZWQnKQogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgICEKICAgIGFzc2VydCAvLyBSZWdpc3RyYXRpb24gcGhhc2UgaGFzIGVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjEwNgogICAgLy8gYXNzZXJ0KHN0YXRlLnRvdGFsUGlyYXRlcyA8IDIwLCAnTWF4IHBpcmF0ZXMgcmVhY2hlZCcpCiAgICBkdXAKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIHB1c2hpbnQgMjAgLy8gMjAKICAgIDwKICAgIGFzc2VydCAvLyBNYXggcGlyYXRlcyByZWFjaGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjEwOAogICAgLy8gY29uc3QgcGlyYXRlQWRkciA9IG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMzAKICAgIC8vIHJldHVybiBzaGEyNTYoaXRvYihzZXNzaW9uSUQpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgZGlnIDUKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NwogICAgLy8gcGlyYXRlcyA9IEJveE1hcDxieXRlcywgUGlyYXRlPih7IGtleVByZWZpeDogJ3BpcicgfSkKICAgIGJ5dGVjXzAgLy8gInBpciIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxMTEKICAgIC8vIGFzc2VydCghdGhpcy5waXJhdGVzKHBpcmF0ZUtleSkuZXhpc3RzLCAnQWxyZWFkeSByZWdpc3RlcmVkJykKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAhCiAgICBhc3NlcnQgLy8gQWxyZWFkeSByZWdpc3RlcmVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjExMwogICAgLy8gY29uc3QgcmVxdWlyZWRNQlIgPSB0aGlzLmdldFJlcXVpcmVkTUJSKCdqb2luJykKICAgIGJ5dGVjIDggLy8gImpvaW4iCiAgICBjYWxsc3ViIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuZ2V0UmVxdWlyZWRNQlIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTE0CiAgICAvLyBhc3NlcnQobWJyUGF5bWVudC5yZWNlaXZlciA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsICdNQlIgcGF5bWVudCByZWNlaXZlciBtdXN0IGJlIGNvbnRyYWN0JykKICAgIGRpZyA4CiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gTUJSIHBheW1lbnQgcmVjZWl2ZXIgbXVzdCBiZSBjb250cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxMTUKICAgIC8vIGFzc2VydChtYnJQYXltZW50LmFtb3VudCA+PSByZXF1aXJlZE1CUiwgJ0luc3VmZmljaWVudCBNQlIgZm9yIHBpcmF0ZSByZWdpc3RyYXRpb24nKQogICAgdW5jb3ZlciA4CiAgICBndHhucyBBbW91bnQKICAgIDw9CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IE1CUiBmb3IgcGlyYXRlIHJlZ2lzdHJhdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1OAogICAgLy8gcGlyYXRlTGlzdCA9IEJveE1hcDx1aW50NjQsIGJ5dGVzPih7IGtleVByZWZpeDogJ3BscycgfSkKICAgIGJ5dGVjIDYgLy8gInBscyIKICAgIGRpZyA3CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTE3CiAgICAvLyBjb25zdCBtYXhQaXJhdGVzIDogdWludDY0ID0gdGhpcy5waXJhdGVMaXN0KHNlc3Npb25JRCkudmFsdWUubGVuZ3RoIC8gMzIKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGxlbgogICAgaW50Y18zIC8vIDMyCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjExOAogICAgLy8gYXNzZXJ0KHN0YXRlLnRvdGFsUGlyYXRlcyA8IG1heFBpcmF0ZXMsICdHYW1lIGlzIGZ1bGwnKQogICAgZGlnIDQKICAgID4KICAgIGFzc2VydCAvLyBHYW1lIGlzIGZ1bGwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIzOAogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzLCAnU2Vzc2lvbiBkb2VzIG5vdCBleGlzdCcpCiAgICBkaWcgNgogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gU2Vzc2lvbiBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjQwCiAgICAvLyBjb25zdCBjb25maWcgPSBjbG9uZSh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlKQogICAgdW5jb3ZlciA2CiAgICBib3hfZ2V0CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI0MQogICAgLy8gYXNzZXJ0KHBheW1lbnQucmVjZWl2ZXIgPT09IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCAnUGF5bWVudCBtdXN0IGdvIHRvIGNvbnRyYWN0JykKICAgIGRpZyA4CiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gUGF5bWVudCBtdXN0IGdvIHRvIGNvbnRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyNDIKICAgIC8vIGFzc2VydChwYXltZW50LmFtb3VudCA9PT0gY29uZmlnLnBhcnRpY2lwYXRpb24sICdJbmNvcnJlY3QgcGFydGljaXBhdGlvbiBmZWUnKQogICAgdW5jb3ZlciA4CiAgICBndHhucyBBbW91bnQKICAgIHN3YXAKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgPT0KICAgIGFzc2VydCAvLyBJbmNvcnJlY3QgcGFydGljaXBhdGlvbiBmZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjgxCiAgICAvLyBzZXNzaW9uQmFsYW5jZXMgPSBCb3hNYXA8dWludDY0LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnc2JhbCcgfSkKICAgIGJ5dGVjIDEyIC8vICJzYmFsIgogICAgdW5jb3ZlciA4CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI0NQogICAgLy8gdGhpcy5zZXNzaW9uQmFsYW5jZXMoc2Vzc2lvbklEKS52YWx1ZSArPSBwYXltZW50LmFtb3VudAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgYnRvaQogICAgZGlnIDIKICAgICsKICAgIGl0b2IKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTI1LTEzMAogICAgLy8gdGhpcy5waXJhdGVzKHBpcmF0ZUtleSkudmFsdWUgPSB7CiAgICAvLyAgIHBpcmF0ZUFkZHJlc3M6IHBpcmF0ZUFkZHIsCiAgICAvLyAgIHNlbmlvcml0eUluZGV4OiBzZW5pb3JpdHlJbmRleCwKICAgIC8vICAgYWxpdmU6IHRydWUsCiAgICAvLyAgIGNsYWltZWQ6IGZhbHNlLAogICAgLy8gfQogICAgZGlnIDQKICAgIGl0b2IKICAgIGRpZyA0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHB1c2hieXRlcyAweDgwCiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxMzMKICAgIC8vIGNvbnN0IG9mZnNldCA6IHVpbnQ2NCA9IHNlbmlvcml0eUluZGV4ICogMzIKICAgIGRpZyAzCiAgICBpbnRjXzMgLy8gMzIKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTM0CiAgICAvLyBsaXN0Qm94LnJlcGxhY2Uob2Zmc2V0LCBwaXJhdGVBZGRyLmJ5dGVzKQogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICB1bmNvdmVyIDMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjEzNgogICAgLy8gc3RhdGUudG90YWxQaXJhdGVzICs9IDEKICAgIHN3YXAKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIHJlcGxhY2UyIDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjEzNwogICAgLy8gc3RhdGUuYWxpdmVQaXJhdGVzICs9IDEKICAgIGR1cAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiAyNAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxMzgKICAgIC8vIHN0YXRlLnBvdCArPSBwYXltZW50LmFtb3VudAogICAgZHVwCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgdW5jb3ZlciAyCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiA0MAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxMzkKICAgIC8vIHRoaXMuZ2FtZVN0YXRlKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0ZSkKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OTgKICAgIC8vIHB1YmxpYyByZWdpc3RlclBpcmF0ZShzZXNzaW9uSUQ6IHVpbnQ2NCwgcGF5bWVudDogZ3R4bi5QYXltZW50VHhuLCBtYnJQYXltZW50OiBndHhuLlBheW1lbnRUeG4pOiB2b2lkIHsKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjpQaXJhdGVHYW1lLnByb3Bvc2VEaXN0cmlidXRpb25bcm91dGluZ10oKSAtPiB2b2lkOgpwcm9wb3NlRGlzdHJpYnV0aW9uOgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTQyCiAgICAvLyBwdWJsaWMgcHJvcG9zZURpc3RyaWJ1dGlvbihzZXNzaW9uSUQ6IHVpbnQ2NCwgZGlzdHJpYnV0aW9uOiBieXRlcyk6IHZvaWQgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBlbnN1cmVCdWRnZXQoMTAwMCkKICAgIHB1c2hpbnQgMTAwMCAvLyAxMDAwCiAgICBpbnRjXzEgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIHJldHVybiB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cwogICAgaXRvYgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3NgogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjIyCiAgICAvLyByZXR1cm4gdGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE0NAogICAgLy8gYXNzZXJ0KHRoaXMuc2Vzc2lvbkV4aXN0cyhzZXNzaW9uSUQpLCAnU2Vzc2lvbiBkb2VzIG5vdCBleGlzdCcpCiAgICBhc3NlcnQgLy8gU2Vzc2lvbiBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NgogICAgLy8gZ2FtZVN0YXRlID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dzdCcgfSkKICAgIGJ5dGVjXzIgLy8gImdzdCIKICAgIGRpZyAyCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNDYKICAgIC8vIGNvbnN0IHN0YXRlID0gY2xvbmUodGhpcy5nYW1lU3RhdGUoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgNAogICAgY292ZXIgNAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTQ3CiAgICAvLyBjb25zdCBjb25maWcgPSBjbG9uZSh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE1MQogICAgLy8gYXNzZXJ0KEdsb2JhbC5yb3VuZCA+PSBjb25maWcuc3RhcnRBdCwgJ0dhbWUgbm90IHN0YXJ0ZWQgeWV0JykKICAgIGdsb2JhbCBSb3VuZAogICAgc3dhcAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICA+PQogICAgYXNzZXJ0IC8vIEdhbWUgbm90IHN0YXJ0ZWQgeWV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE1MwogICAgLy8gY29uc3QgcGlyYXRlQWRkciA9IG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMzAKICAgIC8vIHJldHVybiBzaGEyNTYoaXRvYihzZXNzaW9uSUQpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgY29uY2F0CiAgICBzaGEyNTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NTcKICAgIC8vIHBpcmF0ZXMgPSBCb3hNYXA8Ynl0ZXMsIFBpcmF0ZT4oeyBrZXlQcmVmaXg6ICdwaXInIH0pCiAgICBieXRlY18wIC8vICJwaXIiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNTUKICAgIC8vIGFzc2VydCh0aGlzLnBpcmF0ZXMocGlyYXRlS2V5KS5leGlzdHMsICdOb3QgcmVnaXN0ZXJlZCcpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBOb3QgcmVnaXN0ZXJlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNTcKICAgIC8vIGlmIChzdGF0ZS5waGFzZSA9PT0gMCkgewogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBibnogcHJvcG9zZURpc3RyaWJ1dGlvbl9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTU4CiAgICAvLyBhc3NlcnQoc3RhdGUudG90YWxQaXJhdGVzID49IDMsICdOb3QgZW5vdWdoIHBpcmF0ZXMgdG8gc3RhcnQnKQogICAgZGlnIDEKICAgIGR1cAogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIHB1c2hpbnQgMyAvLyAzCiAgICA+PQogICAgYXNzZXJ0IC8vIE5vdCBlbm91Z2ggcGlyYXRlcyB0byBzdGFydAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNTkKICAgIC8vIHN0YXRlLnBoYXNlID0gMQogICAgaW50Y18wIC8vIDEKICAgIGl0b2IKICAgIHJlcGxhY2UyIDAKICAgIGJ1cnkgMgoKcHJvcG9zZURpc3RyaWJ1dGlvbl9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE2MQogICAgLy8gYXNzZXJ0KHN0YXRlLnBoYXNlID09PSAxLCAnTm90IGluIHByb3Bvc2FsIHBoYXNlJykKICAgIGRpZyAxCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gTm90IGluIHByb3Bvc2FsIHBoYXNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE2MwogICAgLy8gY29uc3QgcGlyYXRlID0gY2xvbmUodGhpcy5waXJhdGVzKHBpcmF0ZUtleSkudmFsdWUpCiAgICBkaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTY0CiAgICAvLyBhc3NlcnQocGlyYXRlLmFsaXZlLCAnWW91IGFyZSBlbGltaW5hdGVkJykKICAgIGR1cAogICAgaW50YyA0IC8vIDMyMAogICAgZ2V0Yml0CiAgICBhc3NlcnQgLy8gWW91IGFyZSBlbGltaW5hdGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE2NQogICAgLy8gYXNzZXJ0KHBpcmF0ZS5zZW5pb3JpdHlJbmRleCA9PT0gc3RhdGUuY3VycmVudFByb3Bvc2VySW5kZXgsICdOb3QgeW91ciB0dXJuIHRvIHByb3Bvc2UnKQogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgIGludGNfMyAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgYnVyeSAxMAogICAgPT0KICAgIGFzc2VydCAvLyBOb3QgeW91ciB0dXJuIHRvIHByb3Bvc2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTY3CiAgICAvLyBjb25zdCBleHBlY3RlZExlbmd0aCA6IHVpbnQ2NCA9IHN0YXRlLnRvdGFsUGlyYXRlcyAqIDgKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgNwogICAgaW50Y18yIC8vIDgKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTY4CiAgICAvLyBhc3NlcnQoZGlzdHJpYnV0aW9uLmxlbmd0aCA9PT0gZXhwZWN0ZWRMZW5ndGgsICdJbnZhbGlkIGRpc3RyaWJ1dGlvbiBsZW5ndGgnKQogICAgZGlnIDUKICAgIGxlbgogICAgZHVwCiAgICBidXJ5IDExCiAgICA9PQogICAgYXNzZXJ0IC8vIEludmFsaWQgZGlzdHJpYnV0aW9uIGxlbmd0aAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNzAKICAgIC8vIGxldCB0b3RhbFByb3Bvc2VkOiB1aW50NjQgPSAwCiAgICBpbnRjXzEgLy8gMAogICAgYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE3MQogICAgLy8gZm9yIChsZXQgaTogdWludDY0ID0gMDsgaSA8IHN0YXRlLnRvdGFsUGlyYXRlczsgaSsrKSB7CiAgICBpbnRjXzEgLy8gMAogICAgYnVyeSAxMAoKcHJvcG9zZURpc3RyaWJ1dGlvbl93aGlsZV90b3BANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTcxCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgc3RhdGUudG90YWxQaXJhdGVzOyBpKyspIHsKICAgIGRpZyA5CiAgICBkaWcgNgogICAgPAogICAgYnogcHJvcG9zZURpc3RyaWJ1dGlvbl9hZnRlcl93aGlsZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE3MgogICAgLy8gY29uc3Qgc2hhcmUgPSBleHRyYWN0VWludDY0KGRpc3RyaWJ1dGlvbiwgaSAqIDgpCiAgICBkaWcgOQogICAgZHVwCiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgZGlnIDYKICAgIHN3YXAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE3MwogICAgLy8gdG90YWxQcm9wb3NlZCArPSBzaGFyZQogICAgZGlnIDkKICAgICsKICAgIGJ1cnkgOQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNzEKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBzdGF0ZS50b3RhbFBpcmF0ZXM7IGkrKykgewogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGJ1cnkgMTAKICAgIGIgcHJvcG9zZURpc3RyaWJ1dGlvbl93aGlsZV90b3BANAoKcHJvcG9zZURpc3RyaWJ1dGlvbl9hZnRlcl93aGlsZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNzUKICAgIC8vIGFzc2VydCh0b3RhbFByb3Bvc2VkID09PSBzdGF0ZS5wb3QsICdEaXN0cmlidXRpb24gbXVzdCBzdW0gdG8gcG90JykKICAgIGRpZyAxCiAgICBkdXAKICAgIHB1c2hpbnQgNDAgLy8gNDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgOQogICAgPT0KICAgIGFzc2VydCAvLyBEaXN0cmlidXRpb24gbXVzdCBzdW0gdG8gcG90CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE3Ny0xODIKICAgIC8vIHRoaXMucHJvcG9zYWxzKHNlc3Npb25JRCkudmFsdWUgPSB7CiAgICAvLyAgIHByb3Bvc2VyOiBzdGF0ZS5jdXJyZW50UHJvcG9zZXJJbmRleCwKICAgIC8vICAgZGlzdHJpYnV0aW9uOiBkaXN0cmlidXRpb24sCiAgICAvLyAgIHZvdGVzRm9yOiAwLAogICAgLy8gICB2b3Rlc0FnYWluc3Q6IDAsCiAgICAvLyB9CiAgICBkaWcgNwogICAgaXRvYgogICAgZGlnIDEwCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZGlnIDcKICAgIGNvbmNhdAogICAgc3dhcAogICAgYnl0ZWMgMTAgLy8gMHgwMDFhCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTgwCiAgICAvLyB2b3Rlc0ZvcjogMCwKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE3Ny0xODIKICAgIC8vIHRoaXMucHJvcG9zYWxzKHNlc3Npb25JRCkudmFsdWUgPSB7CiAgICAvLyAgIHByb3Bvc2VyOiBzdGF0ZS5jdXJyZW50UHJvcG9zZXJJbmRleCwKICAgIC8vICAgZGlzdHJpYnV0aW9uOiBkaXN0cmlidXRpb24sCiAgICAvLyAgIHZvdGVzRm9yOiAwLAogICAgLy8gICB2b3Rlc0FnYWluc3Q6IDAsCiAgICAvLyB9CiAgICBpdG9iCiAgICBzd2FwCiAgICBkaWcgMQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1OQogICAgLy8gcHJvcG9zYWxzID0gQm94TWFwPHVpbnQ2NCwgUHJvcG9zYWw+KHsga2V5UHJlZml4OiAncHJwJyB9KQogICAgYnl0ZWNfMyAvLyAicHJwIgogICAgZGlnIDYKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxNzctMTgyCiAgICAvLyB0aGlzLnByb3Bvc2FscyhzZXNzaW9uSUQpLnZhbHVlID0gewogICAgLy8gICBwcm9wb3Nlcjogc3RhdGUuY3VycmVudFByb3Bvc2VySW5kZXgsCiAgICAvLyAgIGRpc3RyaWJ1dGlvbjogZGlzdHJpYnV0aW9uLAogICAgLy8gICB2b3Rlc0ZvcjogMCwKICAgIC8vICAgdm90ZXNBZ2FpbnN0OiAwLAogICAgLy8gfQogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTg0CiAgICAvLyBzdGF0ZS5waGFzZSA9IDIKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBpdG9iCiAgICByZXBsYWNlMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE4NQogICAgLy8gdGhpcy5nYW1lU3RhdGUoc2Vzc2lvbklEKS52YWx1ZSA9IGNsb25lKHN0YXRlKQogICAgZGlnIDMKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTQyCiAgICAvLyBwdWJsaWMgcHJvcG9zZURpc3RyaWJ1dGlvbihzZXNzaW9uSUQ6IHVpbnQ2NCwgZGlzdHJpYnV0aW9uOiBieXRlcyk6IHZvaWQgewogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuY29tbWl0Vm90ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmNvbW1pdFZvdGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE4OAogICAgLy8gcHVibGljIGNvbW1pdFZvdGUoc2Vzc2lvbklEOiB1aW50NjQsIHZvdGVIYXNoOiBieXRlcywgbWJyUGF5bWVudDogZ3R4bi5QYXltZW50VHhuKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBwdXNoaW50IDIgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICBleHRyYWN0IDIgMAogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIHJldHVybiB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cwogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3NgogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjIyCiAgICAvLyByZXR1cm4gdGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE4OQogICAgLy8gYXNzZXJ0KHRoaXMuc2Vzc2lvbkV4aXN0cyhzZXNzaW9uSUQpLCAnU2Vzc2lvbiBkb2VzIG5vdCBleGlzdCcpCiAgICBhc3NlcnQgLy8gU2Vzc2lvbiBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NgogICAgLy8gZ2FtZVN0YXRlID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dzdCcgfSkKICAgIGJ5dGVjXzIgLy8gImdzdCIKICAgIGRpZyAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTkwCiAgICAvLyBjb25zdCBzdGF0ZSA9IGNsb25lKHRoaXMuZ2FtZVN0YXRlKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxOTEKICAgIC8vIGNvbnN0IGNvbmZpZyA9IGNsb25lKHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUpCiAgICBzd2FwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTkzCiAgICAvLyBhc3NlcnQoc3RhdGUucGhhc2UgPT09IDIsICdOb3QgaW4gdm90aW5nIHBoYXNlJykKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBwdXNoaW50IDIgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBOb3QgaW4gdm90aW5nIHBoYXNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE5NAogICAgLy8gYXNzZXJ0KEdsb2JhbC5yb3VuZCA8PSBjb25maWcuZW5kQ29tbWl0QXQsICdWb3RpbmcgZGVhZGxpbmUgcGFzc2VkJykKICAgIGdsb2JhbCBSb3VuZAogICAgdW5jb3ZlciAyCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIDw9CiAgICBhc3NlcnQgLy8gVm90aW5nIGRlYWRsaW5lIHBhc3NlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGRpZyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjE5NgogICAgLy8gY29uc3QgcGlyYXRlQWRkciA9IG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMzAKICAgIC8vIHJldHVybiBzaGEyNTYoaXRvYihzZXNzaW9uSUQpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgY29uY2F0CiAgICBzaGEyNTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NTcKICAgIC8vIHBpcmF0ZXMgPSBCb3hNYXA8Ynl0ZXMsIFBpcmF0ZT4oeyBrZXlQcmVmaXg6ICdwaXInIH0pCiAgICBieXRlY18wIC8vICJwaXIiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MTk4CiAgICAvLyBhc3NlcnQodGhpcy5waXJhdGVzKHBpcmF0ZUtleSkuZXhpc3RzLCAnTm90IHJlZ2lzdGVyZWQnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBOb3QgcmVnaXN0ZXJlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxOTkKICAgIC8vIGNvbnN0IHBpcmF0ZSA9IGNsb25lKHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlKQogICAgYm94X2dldAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIwMAogICAgLy8gYXNzZXJ0KHBpcmF0ZS5hbGl2ZSwgJ1lvdSBhcmUgZWxpbWluYXRlZCcpCiAgICBpbnRjIDQgLy8gMzIwCiAgICBnZXRiaXQKICAgIGFzc2VydCAvLyBZb3UgYXJlIGVsaW1pbmF0ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjAyCiAgICAvLyBjb25zdCByZXF1aXJlZE1CUiA9IHRoaXMuZ2V0UmVxdWlyZWRNQlIoJ2NvbW1pdFZvdGUnKQogICAgYnl0ZWMgMTMgLy8gImNvbW1pdFZvdGUiCiAgICBjYWxsc3ViIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuZ2V0UmVxdWlyZWRNQlIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjAzCiAgICAvLyBhc3NlcnQobWJyUGF5bWVudC5yZWNlaXZlciA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsICdNQlIgcGF5bWVudCByZWNlaXZlciBtdXN0IGJlIGNvbnRyYWN0JykKICAgIGRpZyAzCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gTUJSIHBheW1lbnQgcmVjZWl2ZXIgbXVzdCBiZSBjb250cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMDQKICAgIC8vIGFzc2VydChtYnJQYXltZW50LmFtb3VudCA+PSByZXF1aXJlZE1CUiwgJ0luc3VmZmljaWVudCBNQlIgZm9yIHZvdGUgY29tbWl0JykKICAgIHVuY292ZXIgMwogICAgZ3R4bnMgQW1vdW50CiAgICA8PQogICAgYXNzZXJ0IC8vIEluc3VmZmljaWVudCBNQlIgZm9yIHZvdGUgY29tbWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIwNgogICAgLy8gc3VwZXIuY29tbWl0SW5Sb3VuZChzZXNzaW9uSUQsIHN0YXRlLmN1cnJlbnRSb3VuZCwgdm90ZUhhc2gpCiAgICBleHRyYWN0IDggOAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjUzCiAgICAvLyBjb25zdCBrZXkgPSB0aGlzLmdldFJvdW5kQ29tbWl0S2V5KHNlc3Npb25JRCwgcm91bmQsIG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mjc4CiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQoaXRvYihyb3VuZCkpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NjQKICAgIC8vIHBsYXllckNvbW1pdCA9IEJveE1hcDxieXRlcywgYnl0ZXM+KHsga2V5UHJlZml4OiAncGNvbScgfSkKICAgIGJ5dGVjIDE0IC8vICJwY29tIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyNTQKICAgIC8vIGFzc2VydCghdGhpcy5wbGF5ZXJDb21taXQoa2V5KS5leGlzdHMsICdBbHJlYWR5IGNvbW1pdHRlZCB0aGlzIHJvdW5kJykKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAhCiAgICBhc3NlcnQgLy8gQWxyZWFkeSBjb21taXR0ZWQgdGhpcyByb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjU1CiAgICAvLyB0aGlzLnBsYXllckNvbW1pdChrZXkpLnZhbHVlID0gY29tbWl0CiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoxODgKICAgIC8vIHB1YmxpYyBjb21taXRWb3RlKHNlc3Npb25JRDogdWludDY0LCB2b3RlSGFzaDogYnl0ZXMsIG1iclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4bik6IHZvaWQgewogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUucmV2ZWFsVm90ZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CnJldmVhbFZvdGU6CiAgICBpbnRjXzEgLy8gMAogICAgZHVwbiAyCiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMDkKICAgIC8vIHB1YmxpYyByZXZlYWxWb3RlKHNlc3Npb25JRDogdWludDY0LCB2b3RlOiB1aW50NjQsIHNhbHQ6IGJ5dGVzKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIGV4dHJhY3QgMiAwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIHJldHVybiB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cwogICAgc3dhcAogICAgaXRvYgogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3NgogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyMgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjEwCiAgICAvLyBhc3NlcnQodGhpcy5zZXNzaW9uRXhpc3RzKHNlc3Npb25JRCksICdTZXNzaW9uIGRvZXMgbm90IGV4aXN0JykKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIxMQogICAgLy8gYXNzZXJ0KHZvdGUgPT09IDAgfHwgdm90ZSA9PT0gMSwgJ1ZvdGUgbXVzdCBiZSAwIG9yIDEnKQogICAgYnogcmV2ZWFsVm90ZV9ib29sX3RydWVAMwogICAgZGlnIDMKICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYnogcmV2ZWFsVm90ZV9ib29sX2ZhbHNlQDQKCnJldmVhbFZvdGVfYm9vbF90cnVlQDM6CiAgICBpbnRjXzAgLy8gMQoKcmV2ZWFsVm90ZV9ib29sX21lcmdlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIxMQogICAgLy8gYXNzZXJ0KHZvdGUgPT09IDAgfHwgdm90ZSA9PT0gMSwgJ1ZvdGUgbXVzdCBiZSAwIG9yIDEnKQogICAgYXNzZXJ0IC8vIFZvdGUgbXVzdCBiZSAwIG9yIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NTYKICAgIC8vIGdhbWVTdGF0ZSA9IEJveE1hcDx1aW50NjQsIEdhbWVTdGF0ZT4oeyBrZXlQcmVmaXg6ICdnc3QnIH0pCiAgICBieXRlY18yIC8vICJnc3QiCiAgICBkaWcgMgogICAgY29uY2F0CiAgICBkdXAKICAgIGJ1cnkgMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjEzCiAgICAvLyBjb25zdCBzdGF0ZSA9IGNsb25lKHRoaXMuZ2FtZVN0YXRlKHNlc3Npb25JRCkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgOQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjE0CiAgICAvLyBjb25zdCBjb25maWcgPSBjbG9uZSh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlKQogICAgZGlnIDEKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIxNQogICAgLy8gYXNzZXJ0KEdsb2JhbC5yb3VuZCA+IGNvbmZpZy5lbmRDb21taXRBdCwgJ1ZvdGluZyBzdGlsbCBvcGVuJykKICAgIGdsb2JhbCBSb3VuZAogICAgZGlnIDEKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgPgogICAgYXNzZXJ0IC8vIFZvdGluZyBzdGlsbCBvcGVuCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIxNgogICAgLy8gYXNzZXJ0KEdsb2JhbC5yb3VuZCA8PSBjb25maWcuZW5kUmV2ZWFsQXQsICdSZXZlYWwgZGVhZGxpbmUgcGFzc2VkJykKICAgIGdsb2JhbCBSb3VuZAogICAgc3dhcAogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIDw9CiAgICBhc3NlcnQgLy8gUmV2ZWFsIGRlYWRsaW5lIHBhc3NlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMTcKICAgIC8vIGFzc2VydChzdGF0ZS5waGFzZSA9PT0gMiB8fCBzdGF0ZS5waGFzZSA9PT0gMywgJ05vdCBpbiByZXZlYWwgcGhhc2UnKQogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGJ1cnkgNgogICAgcHVzaGludCAyIC8vIDIKICAgID09CiAgICBkdXAKICAgIGJ1cnkgNwogICAgYm56IHJldmVhbFZvdGVfYm9vbF90cnVlQDcKICAgIGRpZyA0CiAgICBwdXNoaW50IDMgLy8gMwogICAgPT0KICAgIGJ6IHJldmVhbFZvdGVfYm9vbF9mYWxzZUA4CgpyZXZlYWxWb3RlX2Jvb2xfdHJ1ZUA3OgogICAgaW50Y18wIC8vIDEKCnJldmVhbFZvdGVfYm9vbF9tZXJnZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMTcKICAgIC8vIGFzc2VydChzdGF0ZS5waGFzZSA9PT0gMiB8fCBzdGF0ZS5waGFzZSA9PT0gMywgJ05vdCBpbiByZXZlYWwgcGhhc2UnKQogICAgYXNzZXJ0IC8vIE5vdCBpbiByZXZlYWwgcGhhc2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjE5CiAgICAvLyBjb25zdCBwaXJhdGVBZGRyID0gbmV3IEFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIzMAogICAgLy8gcmV0dXJuIHNoYTI1NihpdG9iKHNlc3Npb25JRCkuY29uY2F0KHBsYXllci5ieXRlcykpCiAgICBkaWcgMgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjU3CiAgICAvLyBwaXJhdGVzID0gQm94TWFwPGJ5dGVzLCBQaXJhdGU+KHsga2V5UHJlZml4OiAncGlyJyB9KQogICAgYnl0ZWNfMCAvLyAicGlyIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIyMQogICAgLy8gY29uc3QgcGlyYXRlID0gY2xvbmUodGhpcy5waXJhdGVzKHBpcmF0ZUtleSkudmFsdWUpCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIGFzc2VydChwaXJhdGUuYWxpdmUsICdZb3UgYXJlIGVsaW1pbmF0ZWQnKQogICAgaW50YyA0IC8vIDMyMAogICAgZ2V0Yml0CiAgICBhc3NlcnQgLy8gWW91IGFyZSBlbGltaW5hdGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIyNAogICAgLy8gc3VwZXIucmV2ZWFsSW5Sb3VuZChzZXNzaW9uSUQsIHN0YXRlLmN1cnJlbnRSb3VuZCwgdm90ZSwgc2FsdCkKICAgIGRpZyA3CiAgICBleHRyYWN0IDggOAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjYzCiAgICAvLyBjb25zdCBrZXkgPSB0aGlzLmdldFJvdW5kQ29tbWl0S2V5KHNlc3Npb25JRCwgcm91bmQsIG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6Mjc4CiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQoaXRvYihyb3VuZCkpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NjQKICAgIC8vIHBsYXllckNvbW1pdCA9IEJveE1hcDxieXRlcywgYnl0ZXM+KHsga2V5UHJlZml4OiAncGNvbScgfSkKICAgIGJ5dGVjIDE0IC8vICJwY29tIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjY0CiAgICAvLyBhc3NlcnQodGhpcy5wbGF5ZXJDb21taXQoa2V5KS5leGlzdHMsICdObyBjb21taXQgZm9yIHRoaXMgcm91bmQnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBObyBjb21taXQgZm9yIHRoaXMgcm91bmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI2NgogICAgLy8gY29uc3Qgc3RvcmVkQ29tbWl0ID0gdGhpcy5wbGF5ZXJDb21taXQoa2V5KS52YWx1ZQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI2NwogICAgLy8gY29uc3QgY29tcHV0ZWRDb21taXQgPSBzaGEyNTYoaXRvYihjaG9pY2UpLmNvbmNhdChzYWx0KSkKICAgIGRpZyA3CiAgICBkdXAKICAgIGNvdmVyIDQKICAgIGl0b2IKICAgIGR1cAogICAgZGlnIDkKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyNjgKICAgIC8vIGFzc2VydChjb21wdXRlZENvbW1pdCA9PT0gc3RvcmVkQ29tbWl0LCAnSW52YWxpZCByZXZlYWw6IGhhc2ggbWlzbWF0Y2gnKQogICAgdW5jb3ZlciAyCiAgICA9PQogICAgYXNzZXJ0IC8vIEludmFsaWQgcmV2ZWFsOiBoYXNoIG1pc21hdGNoCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3MQogICAgLy8gcGxheWVyQ2hvaWNlID0gQm94TWFwPGJ5dGVzLCB1aW50NjQ+KHsga2V5UHJlZml4OiAncGNobycgfSkKICAgIHB1c2hieXRlcyAicGNobyIKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyNzAKICAgIC8vIHRoaXMucGxheWVyQ2hvaWNlKGtleSkudmFsdWUgPSBjaG9pY2UKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjI3MQogICAgLy8gdGhpcy5wbGF5ZXJDb21taXQoa2V5KS5kZWxldGUoKQogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBwcm9wb3NhbHMgPSBCb3hNYXA8dWludDY0LCBQcm9wb3NhbD4oeyBrZXlQcmVmaXg6ICdwcnAnIH0pCiAgICBieXRlY18zIC8vICJwcnAiCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIyNgogICAgLy8gY29uc3QgcHJvcG9zYWwgPSBjbG9uZSh0aGlzLnByb3Bvc2FscyhzZXNzaW9uSUQpLnZhbHVlKQogICAgYm94X2dldAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjI3CiAgICAvLyBpZiAodm90ZSA9PT0gMSkgewogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBieiByZXZlYWxWb3RlX2Vsc2VfYm9keUAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMjgKICAgIC8vIHByb3Bvc2FsLnZvdGVzRm9yICs9IDEKICAgIGRpZyA4CiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBpbnRjXzIgLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiAxMAoKcmV2ZWFsVm90ZV9hZnRlcl9pZl9lbHNlQDEyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMzIKICAgIC8vIHRoaXMucHJvcG9zYWxzKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShwcm9wb3NhbCkKICAgIGRpZyA4CiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMzQKICAgIC8vIGlmIChzdGF0ZS5waGFzZSA9PT0gMikgewogICAgZGlnIDUKICAgIGJ6IHJldmVhbFZvdGVfYWZ0ZXJfaWZfZWxzZUAxNAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyMzUKICAgIC8vIHN0YXRlLnBoYXNlID0gMwogICAgcHVzaGludCAzIC8vIDMKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjM1LTIzNgogICAgLy8gc3RhdGUucGhhc2UgPSAzCiAgICAvLyB0aGlzLmdhbWVTdGF0ZShzZXNzaW9uSUQpLnZhbHVlID0gY2xvbmUoc3RhdGUpCiAgICBkaWcgOQogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKCnJldmVhbFZvdGVfYWZ0ZXJfaWZfZWxzZUAxNDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjA5CiAgICAvLyBwdWJsaWMgcmV2ZWFsVm90ZShzZXNzaW9uSUQ6IHVpbnQ2NCwgdm90ZTogdWludDY0LCBzYWx0OiBieXRlcyk6IHZvaWQgewogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKcmV2ZWFsVm90ZV9lbHNlX2JvZHlAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjIzMAogICAgLy8gcHJvcG9zYWwudm90ZXNBZ2FpbnN0ICs9IDEKICAgIGRpZyA4CiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBpbnRjXzIgLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiAxOAogICAgYiByZXZlYWxWb3RlX2FmdGVyX2lmX2Vsc2VAMTIKCnJldmVhbFZvdGVfYm9vbF9mYWxzZUA4OgogICAgaW50Y18xIC8vIDAKICAgIGIgcmV2ZWFsVm90ZV9ib29sX21lcmdlQDkKCnJldmVhbFZvdGVfYm9vbF9mYWxzZUA0OgogICAgaW50Y18xIC8vIDAKICAgIGIgcmV2ZWFsVm90ZV9ib29sX21lcmdlQDUKCgovLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjpQaXJhdGVHYW1lLmV4ZWN1dGVSb3VuZFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmV4ZWN1dGVSb3VuZDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjQ0CiAgICAvLyBwdWJsaWMgZXhlY3V0ZVJvdW5kKHNlc3Npb25JRDogdWludDY0KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjQ1CiAgICAvLyBlbnN1cmVCdWRnZXQoMjAwMCkKICAgIHB1c2hpbnQgMjAwMCAvLyAyMDAwCiAgICBpbnRjXzEgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIHJldHVybiB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzYKICAgIC8vIGdhbWVTZXNzaW9ucyA9IEJveE1hcDx1aW50NjQsIEdhbWVDb25maWc+KHsga2V5UHJlZml4OiAnZ3MnIH0pCiAgICBieXRlY18xIC8vICJncyIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjIyCiAgICAvLyByZXR1cm4gdGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS5leGlzdHMKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI0NgogICAgLy8gYXNzZXJ0KHRoaXMuc2Vzc2lvbkV4aXN0cyhzZXNzaW9uSUQpLCAnU2Vzc2lvbiBkb2VzIG5vdCBleGlzdCcpCiAgICBhc3NlcnQgLy8gU2Vzc2lvbiBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NgogICAgLy8gZ2FtZVN0YXRlID0gQm94TWFwPHVpbnQ2NCwgR2FtZVN0YXRlPih7IGtleVByZWZpeDogJ2dzdCcgfSkKICAgIGJ5dGVjXzIgLy8gImdzdCIKICAgIGRpZyAyCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyNDgKICAgIC8vIGNvbnN0IHN0YXRlID0gY2xvbmUodGhpcy5nYW1lU3RhdGUoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgNAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjQ5CiAgICAvLyBjb25zdCBjb25maWcgPSBjbG9uZSh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlKQogICAgc3dhcAogICAgYm94X2dldAogICAgcG9wCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjUxCiAgICAvLyBhc3NlcnQoc3RhdGUucGhhc2UgPT09IDMsICdOb3QgaW4gZXhlY3V0aW9uIHBoYXNlJykKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBwdXNoaW50IDMgLy8gMwogICAgPT0KICAgIGFzc2VydCAvLyBOb3QgaW4gZXhlY3V0aW9uIHBoYXNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI1MgogICAgLy8gYXNzZXJ0KEdsb2JhbC5yb3VuZCA+IGNvbmZpZy5lbmRSZXZlYWxBdCwgJ1JldmVhbCBwaGFzZSBub3QgZW5kZWQnKQogICAgZ2xvYmFsIFJvdW5kCiAgICB1bmNvdmVyIDIKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICA+CiAgICBhc3NlcnQgLy8gUmV2ZWFsIHBoYXNlIG5vdCBlbmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1OQogICAgLy8gcHJvcG9zYWxzID0gQm94TWFwPHVpbnQ2NCwgUHJvcG9zYWw+KHsga2V5UHJlZml4OiAncHJwJyB9KQogICAgYnl0ZWNfMyAvLyAicHJwIgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI1NQogICAgLy8gY29uc3QgdG90YWxWb3RlcyA9IHN0YXRlLmFsaXZlUGlyYXRlcwogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI1NgogICAgLy8gY29uc3Qgdm90ZXNGb3IgPSBwcm9wb3NhbC52b3Rlc0ZvcgogICAgcHVzaGludCAxMCAvLyAxMAogICAgaW50Y18yIC8vIDgKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI1OQogICAgLy8gY29uc3QgcGFzc1RocmVzaG9sZCA6IHVpbnQ2NCA9ICh0b3RhbFZvdGVzICsgMSApIC8gMgogICAgc3dhcAogICAgaW50Y18wIC8vIDEKICAgICsKICAgIHB1c2hpbnQgMiAvLyAyCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI2MAogICAgLy8gY29uc3QgcHJvcG9zYWxQYXNzZXMgPSB2b3Rlc0ZvciA+PSBwYXNzVGhyZXNob2xkCiAgICA+PQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyNjIKICAgIC8vIGlmIChwcm9wb3NhbFBhc3NlcykgewogICAgYnogZXhlY3V0ZVJvdW5kX2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI2MwogICAgLy8gc3RhdGUucGhhc2UgPSA0CiAgICBwdXNoaW50IDQgLy8gNAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyNjMtMjY0CiAgICAvLyBzdGF0ZS5waGFzZSA9IDQKICAgIC8vIHRoaXMuZ2FtZVN0YXRlKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0ZSkKICAgIGRpZyA1CiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQoKZXhlY3V0ZVJvdW5kX2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjQ0CiAgICAvLyBwdWJsaWMgZXhlY3V0ZVJvdW5kKHNlc3Npb25JRDogdWludDY0KTogdm9pZCB7CiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgpleGVjdXRlUm91bmRfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI2NwogICAgLy8gdGhpcy5lbGltaW5hdGVQaXJhdGUoc2Vzc2lvbklELCBzdGF0ZS5jdXJyZW50UHJvcG9zZXJJbmRleCkKICAgIGRpZyAzCiAgICBkdXAKICAgIGludGNfMyAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyA4CiAgICBzd2FwCiAgICBjYWxsc3ViIGVsaW1pbmF0ZVBpcmF0ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyNjgKICAgIC8vIHN0YXRlLmFsaXZlUGlyYXRlcyAtPSAxCiAgICBkaWcgMQogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGl0b2IKICAgIHJlcGxhY2UyIDI0CiAgICBkdXAKICAgIGJ1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyNzEKICAgIC8vIGlmIChzdGF0ZS5hbGl2ZVBpcmF0ZXMgPT09IDEpIHsKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGJ6IGV4ZWN1dGVSb3VuZF9lbHNlX2JvZHlANQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyNzIKICAgIC8vIGNvbnN0IHN1cnZpdm9ySW5kZXggPSB0aGlzLmZpbmROZXh0QWxpdmVQaXJhdGUoc2Vzc2lvbklELCAwLCBzdGF0ZS50b3RhbFBpcmF0ZXMpCiAgICBkaWcgMwogICAgZHVwCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDgKICAgIGludGNfMSAvLyAwCiAgICBkaWcgMgogICAgY2FsbHN1YiBmaW5kTmV4dEFsaXZlUGlyYXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI3NAogICAgLy8gY29uc3QgdG90YWxTaXplIDogdWludDY0ID0gc3RhdGUudG90YWxQaXJhdGVzICogOAogICAgc3dhcAogICAgaW50Y18yIC8vIDgKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjc1CiAgICAvLyBjb25zdCBzdXJ2aXZvck9mZnNldCA6IHVpbnQ2NCA9IHN1cnZpdm9ySW5kZXggKiA4CiAgICBkaWcgMQogICAgaW50Y18yIC8vIDgKICAgICoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjc2CiAgICAvLyBjb25zdCBzdXJ2aXZvclNoYXJlID0gaXRvYihzdGF0ZS5wb3QpCiAgICBkaWcgMwogICAgZXh0cmFjdCA0MCA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI3OAogICAgLy8gY29uc3QgYmVmb3JlID0gYnplcm8oc3Vydml2b3JPZmZzZXQpCiAgICBkaWcgMQogICAgYnplcm8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjc5CiAgICAvLyBjb25zdCBhZnRlck9mZnNldCA6IHVpbnQ2NCA9IHN1cnZpdm9yT2Zmc2V0ICsgOAogICAgdW5jb3ZlciAyCiAgICBpbnRjXzIgLy8gOAogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyODAKICAgIC8vIGNvbnN0IGFmdGVyU2l6ZSA6IHVpbnQ2NCA9IHRvdGFsU2l6ZSAtIGFmdGVyT2Zmc2V0CiAgICB1bmNvdmVyIDMKICAgIHN3YXAKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MjgxCiAgICAvLyBjb25zdCBhZnRlciA9IGJ6ZXJvKGFmdGVyU2l6ZSkKICAgIGJ6ZXJvCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI4MwogICAgLy8gY29uc3QgZGlzdHJpYnV0aW9uID0gYmVmb3JlLmNvbmNhdChzdXJ2aXZvclNoYXJlKS5jb25jYXQoYWZ0ZXIpCiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI4NS0yOTAKICAgIC8vIHRoaXMucHJvcG9zYWxzKHNlc3Npb25JRCkudmFsdWUgPSB7CiAgICAvLyAgICAgIHByb3Bvc2VyOiBzdXJ2aXZvckluZGV4LAogICAgLy8gICAgICBkaXN0cmlidXRpb246IGRpc3RyaWJ1dGlvbiwKICAgIC8vICAgICAgdm90ZXNGb3I6IDEsCiAgICAvLyAgICAgIHZvdGVzQWdhaW5zdDogMAogICAgLy8gfQogICAgc3dhcAogICAgaXRvYgogICAgZGlnIDEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBieXRlYyAxMCAvLyAweDAwMWEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyODgKICAgIC8vIHZvdGVzRm9yOiAxLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjg1LTI5MAogICAgLy8gdGhpcy5wcm9wb3NhbHMoc2Vzc2lvbklEKS52YWx1ZSA9IHsKICAgIC8vICAgICAgcHJvcG9zZXI6IHN1cnZpdm9ySW5kZXgsCiAgICAvLyAgICAgIGRpc3RyaWJ1dGlvbjogZGlzdHJpYnV0aW9uLAogICAgLy8gICAgICB2b3Rlc0ZvcjogMSwKICAgIC8vICAgICAgdm90ZXNBZ2FpbnN0OiAwCiAgICAvLyB9CiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjg5CiAgICAvLyB2b3Rlc0FnYWluc3Q6IDAKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI4NS0yOTAKICAgIC8vIHRoaXMucHJvcG9zYWxzKHNlc3Npb25JRCkudmFsdWUgPSB7CiAgICAvLyAgICAgIHByb3Bvc2VyOiBzdXJ2aXZvckluZGV4LAogICAgLy8gICAgICBkaXN0cmlidXRpb246IGRpc3RyaWJ1dGlvbiwKICAgIC8vICAgICAgdm90ZXNGb3I6IDEsCiAgICAvLyAgICAgIHZvdGVzQWdhaW5zdDogMAogICAgLy8gfQogICAgaXRvYgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyAzCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czoyOTIKICAgIC8vIHN0YXRlLnBoYXNlID0gNCAvLyBHYW1lIE92ZXIKICAgIHB1c2hpbnQgNCAvLyA0CiAgICBpdG9iCiAgICByZXBsYWNlMiAwCiAgICBidXJ5IDQKCmV4ZWN1dGVSb3VuZF9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMwOQogICAgLy8gdGhpcy5nYW1lU2Vzc2lvbnMoc2Vzc2lvbklEKS52YWx1ZSA9IGNsb25lKGNvbmZpZykKICAgIGRpZyA1CiAgICBkaWcgMwogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMTAKICAgIC8vIHRoaXMuZ2FtZVN0YXRlKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShzdGF0ZSkgICAgfQogICAgZGlnIDQKICAgIGRpZyA0CiAgICBib3hfcHV0CiAgICBiIGV4ZWN1dGVSb3VuZF9hZnRlcl9pZl9lbHNlQDcKCmV4ZWN1dGVSb3VuZF9lbHNlX2JvZHlANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjk1CiAgICAvLyBzdGF0ZS5jdXJyZW50UHJvcG9zZXJJbmRleCA9IHRoaXMuZmluZE5leHRBbGl2ZVBpcmF0ZShzZXNzaW9uSUQsIHN0YXRlLmN1cnJlbnRQcm9wb3NlckluZGV4ICsgMSwgc3RhdGUudG90YWxQaXJhdGVzKQogICAgZGlnIDMKICAgIGR1cAogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGRpZyAxCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDkKICAgIGNvdmVyIDIKICAgIGNhbGxzdWIgZmluZE5leHRBbGl2ZVBpcmF0ZQogICAgaXRvYgogICAgcmVwbGFjZTIgMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjk2CiAgICAvLyBzdGF0ZS5jdXJyZW50Um91bmQgKz0gMQogICAgZHVwCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBpdG9iCiAgICByZXBsYWNlMiA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjI5NwogICAgLy8gc3RhdGUucGhhc2UgPSAxCiAgICBpbnRjXzAgLy8gMQogICAgaXRvYgogICAgcmVwbGFjZTIgMAogICAgZHVwCiAgICBidXJ5IDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mjk5CiAgICAvLyBjb25zdCBub3cgPSBHbG9iYWwucm91bmQKICAgIGdsb2JhbCBSb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMDEKICAgIC8vIGNvbnN0IG5ld0VuZENvbW1pdEF0IDogdWludDY0ID0gbmV3U3RhcnRBdCArIHN0YXRlLmNvbW1pdER1cmF0aW9uCiAgICBkaWcgMQogICAgcHVzaGludCA0OCAvLyA0OAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMwMgogICAgLy8gY29uc3QgbmV3RW5kUmV2ZWFsQXQgOiB1aW50NjQgPSBuZXdFbmRDb21taXRBdCArIHN0YXRlLnJldmVhbER1cmF0aW9uCiAgICB1bmNvdmVyIDIKICAgIHB1c2hpbnQgNTYgLy8gNTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMDQKICAgIC8vIGNvbmZpZy5zdGFydEF0ID0gbmV3U3RhcnRBdAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBkaWcgNQogICAgc3dhcAogICAgcmVwbGFjZTIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMDUKICAgIC8vIGNvbmZpZy5lbmRDb21taXRBdCA9IG5ld0VuZENvbW1pdEF0CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIHJlcGxhY2UyIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzA2CiAgICAvLyBjb25maWcuZW5kUmV2ZWFsQXQgPSBuZXdFbmRSZXZlYWxBdAogICAgc3dhcAogICAgaXRvYgogICAgcmVwbGFjZTIgMTYKICAgIGJ1cnkgMwogICAgYiBleGVjdXRlUm91bmRfYWZ0ZXJfaWZfZWxzZUA2CgoKLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo6UGlyYXRlR2FtZS5jbGFpbVdpbm5pbmdzW3JvdXRpbmddKCkgLT4gdm9pZDoKY2xhaW1XaW5uaW5nczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzE3CiAgICAvLyBwdWJsaWMgY2xhaW1XaW5uaW5ncyhzZXNzaW9uSUQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIHJldHVybiB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6NzYKICAgIC8vIGdhbWVTZXNzaW9ucyA9IEJveE1hcDx1aW50NjQsIEdhbWVDb25maWc+KHsga2V5UHJlZml4OiAnZ3MnIH0pCiAgICBieXRlY18xIC8vICJncyIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjIyMgogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkuZXhpc3RzCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzE4CiAgICAvLyBhc3NlcnQodGhpcy5zZXNzaW9uRXhpc3RzKHNlc3Npb25JRCksICdTZXNzaW9uIGRvZXMgbm90IGV4aXN0JykKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjU2CiAgICAvLyBnYW1lU3RhdGUgPSBCb3hNYXA8dWludDY0LCBHYW1lU3RhdGU+KHsga2V5UHJlZml4OiAnZ3N0JyB9KQogICAgYnl0ZWNfMiAvLyAiZ3N0IgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMjAKICAgIC8vIGNvbnN0IHN0YXRlID0gY2xvbmUodGhpcy5nYW1lU3RhdGUoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMyMQogICAgLy8gYXNzZXJ0KHN0YXRlLnBoYXNlID09PSA0LCAnR2FtZSBub3QgZmluaXNoZWQnKQogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBwdXNoaW50IDQgLy8gNAogICAgPT0KICAgIGFzc2VydCAvLyBHYW1lIG5vdCBmaW5pc2hlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMjMKICAgIC8vIGNvbnN0IHBpcmF0ZUFkZHIgPSBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGR1cDIKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjU3CiAgICAvLyBwaXJhdGVzID0gQm94TWFwPGJ5dGVzLCBQaXJhdGU+KHsga2V5UHJlZml4OiAncGlyJyB9KQogICAgYnl0ZWNfMCAvLyAicGlyIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMyNQogICAgLy8gYXNzZXJ0KHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLmV4aXN0cywgJ05vdCBhIHBpcmF0ZScpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIE5vdCBhIHBpcmF0ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMjcKICAgIC8vIGNvbnN0IHBpcmF0ZSA9IGNsb25lKHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzI4CiAgICAvLyBhc3NlcnQoIXBpcmF0ZS5jbGFpbWVkLCAnQWxyZWFkeSBjbGFpbWVkJykgLy8gQW50aS1yZXBsYXkKICAgIGR1cAogICAgcHVzaGludCAzMjEgLy8gMzIxCiAgICBnZXRiaXQKICAgICEKICAgIGFzc2VydCAvLyBBbHJlYWR5IGNsYWltZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NTkKICAgIC8vIHByb3Bvc2FscyA9IEJveE1hcDx1aW50NjQsIFByb3Bvc2FsPih7IGtleVByZWZpeDogJ3BycCcgfSkKICAgIGJ5dGVjXzMgLy8gInBycCIKICAgIHVuY292ZXIgNAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMzMAogICAgLy8gY29uc3Qgd2lubmluZ1Byb3Bvc2FsID0gY2xvbmUodGhpcy5wcm9wb3NhbHMoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMzMgogICAgLy8gY29uc3Qgc2hhcmVPZmZzZXQgOiB1aW50NjQgPSBwaXJhdGUuc2VuaW9yaXR5SW5kZXggKiA4CiAgICBzd2FwCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMzMKICAgIC8vIGNvbnN0IHNoYXJlID0gZXh0cmFjdFVpbnQ2NCh3aW5uaW5nUHJvcG9zYWwuZGlzdHJpYnV0aW9uLCBzaGFyZU9mZnNldCkKICAgIGRpZyAxCiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAyCiAgICBsZW4KICAgIHVuY292ZXIgMwogICAgY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgZXh0cmFjdCAyIDAKICAgIHN3YXAKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMzNQogICAgLy8gYXNzZXJ0KHNoYXJlID4gMCwgJ05vIHdpbm5pbmdzIGZvciB5b3UnKQogICAgZHVwCiAgICBhc3NlcnQgLy8gTm8gd2lubmluZ3MgZm9yIHlvdQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMzctMzM4CiAgICAvLyBwaXJhdGUuY2xhaW1lZCA9IHRydWUKICAgIC8vIHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlID0gY2xvbmUocGlyYXRlKQogICAgZGlnIDEKICAgIHB1c2hpbnQgNDAgLy8gNDAKICAgIGludGNfMCAvLyAxCiAgICBib3hfZXh0cmFjdAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzM3CiAgICAvLyBwaXJhdGUuY2xhaW1lZCA9IHRydWUKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozMzctMzM4CiAgICAvLyBwaXJhdGUuY2xhaW1lZCA9IHRydWUKICAgIC8vIHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlID0gY2xvbmUocGlyYXRlKQogICAgc2V0Yml0CiAgICB1bmNvdmVyIDIKICAgIHB1c2hpbnQgNDAgLy8gNDAKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzQwLTM0NgogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IHBpcmF0ZUFkZHIubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogc2hhcmUsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIGR1cAogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzQwLTM0NQogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IHBpcmF0ZUFkZHIubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogc2hhcmUsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18wIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzQ0CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzQwLTM0NgogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IHBpcmF0ZUFkZHIubmF0aXZlLAogICAgLy8gICAgIGFtb3VudDogc2hhcmUsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjMxNwogICAgLy8gcHVibGljIGNsYWltV2lubmluZ3Moc2Vzc2lvbklEOiB1aW50NjQpOiB1aW50NjQgewogICAgaXRvYgogICAgYnl0ZWMgNyAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuZ2V0UmVxdWlyZWRNQlJbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRSZXF1aXJlZE1CUjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mzg0CiAgICAvLyBwdWJsaWMgZ2V0UmVxdWlyZWRNQlIoY29tbWFuZDogJ25ld0dhbWUnIHwgJ2pvaW4nIHwgJ2NvbW1pdFZvdGUnKTogdWludDY0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIHB1c2hpbnQgMiAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIGV4dHJhY3QgMiAwCiAgICBjYWxsc3ViIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuZ2V0UmVxdWlyZWRNQlIKICAgIGl0b2IKICAgIGJ5dGVjIDcgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjpQaXJhdGVHYW1lLnRpbWVPdXRbcm91dGluZ10oKSAtPiB2b2lkOgp0aW1lT3V0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0MTEKICAgIC8vIHB1YmxpYyB0aW1lT3V0KHNlc3Npb25JRDogdWludDY0KTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDEyCiAgICAvLyBlbnN1cmVCdWRnZXQoMjAwMCkKICAgIHB1c2hpbnQgMjAwMCAvLyAyMDAwCiAgICBpbnRjXzEgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIHJldHVybiB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cwogICAgaXRvYgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo3NgogICAgLy8gZ2FtZVNlc3Npb25zID0gQm94TWFwPHVpbnQ2NCwgR2FtZUNvbmZpZz4oeyBrZXlQcmVmaXg6ICdncycgfSkKICAgIGJ5dGVjXzEgLy8gImdzIgogICAgZGlnIDEKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIHJldHVybiB0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLmV4aXN0cwogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDEzCiAgICAvLyBhc3NlcnQodGhpcy5zZXNzaW9uRXhpc3RzKHNlc3Npb25JRCksICdTZXNzaW9uIGRvZXMgbm90IGV4aXN0JykKICAgIGFzc2VydCAvLyBTZXNzaW9uIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjU2CiAgICAvLyBnYW1lU3RhdGUgPSBCb3hNYXA8dWludDY0LCBHYW1lU3RhdGU+KHsga2V5UHJlZml4OiAnZ3N0JyB9KQogICAgYnl0ZWNfMiAvLyAiZ3N0IgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0MTUKICAgIC8vIGNvbnN0IHN0YXRlID0gY2xvbmUodGhpcy5nYW1lU3RhdGUoc2Vzc2lvbklEKS52YWx1ZSkKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgMwogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDE2CiAgICAvLyBjb25zdCBjb25maWcgPSBjbG9uZSh0aGlzLmdhbWVTZXNzaW9ucyhzZXNzaW9uSUQpLnZhbHVlKQogICAgc3dhcAogICAgYm94X2dldAogICAgcG9wCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQxOAogICAgLy8gY29uc3QgY2FuUGxheSA9IHN0YXRlLnRvdGFsUGlyYXRlcyA+PSAzCiAgICBkdXAKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBwdXNoaW50IDMgLy8gMwogICAgPj0KICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDIwCiAgICAvLyBpZiAoc3RhdGUucGhhc2UgPT09IDAgJiYgIWNhblBsYXkpIHsKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwbiAyCiAgICAhCiAgICBzd2FwCiAgICBibnogdGltZU91dF9hZnRlcl9pZl9lbHNlQDUKICAgIGRpZyAyCiAgICBibnogdGltZU91dF9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDIxCiAgICAvLyBhc3NlcnQoR2xvYmFsLnJvdW5kID49IGNvbmZpZy5zdGFydEF0LCAnUmVnaXN0cmF0aW9uIHN0aWxsIGFjdGl2ZScpCiAgICBnbG9iYWwgUm91bmQKICAgIGRpZyA0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgPj0KICAgIGFzc2VydCAvLyBSZWdpc3RyYXRpb24gc3RpbGwgYWN0aXZlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQyMwogICAgLy8gY29uc3QgcGlyYXRlQWRkciA9IG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoyMzAKICAgIC8vIHJldHVybiBzaGEyNTYoaXRvYihzZXNzaW9uSUQpLmNvbmNhdChwbGF5ZXIuYnl0ZXMpKQogICAgZGlnIDkKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NwogICAgLy8gcGlyYXRlcyA9IEJveE1hcDxieXRlcywgUGlyYXRlPih7IGtleVByZWZpeDogJ3BpcicgfSkKICAgIGJ5dGVjXzAgLy8gInBpciIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0MjUKICAgIC8vIGFzc2VydCh0aGlzLnBpcmF0ZXMocGlyYXRlS2V5KS5leGlzdHMsICdOb3QgYSByZWdpc3RlcmVkIHBpcmF0ZScpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIE5vdCBhIHJlZ2lzdGVyZWQgcGlyYXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQyNgogICAgLy8gY29uc3QgcGlyYXRlID0gY2xvbmUodGhpcy5waXJhdGVzKHBpcmF0ZUtleSkudmFsdWUpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0MjcKICAgIC8vIGFzc2VydCghcGlyYXRlLmNsYWltZWQsICdBbHJlYWR5IHJlZnVuZGVkJykKICAgIHB1c2hpbnQgMzIxIC8vIDMyMQogICAgZ2V0Yml0CiAgICAhCiAgICBhc3NlcnQgLy8gQWxyZWFkeSByZWZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0MjktNDMwCiAgICAvLyBwaXJhdGUuY2xhaW1lZCA9IHRydWUKICAgIC8vIHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlID0gY2xvbmUocGlyYXRlKQogICAgZHVwCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBpbnRjXzAgLy8gMQogICAgYm94X2V4dHJhY3QKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQyOQogICAgLy8gcGlyYXRlLmNsYWltZWQgPSB0cnVlCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDI5LTQzMAogICAgLy8gcGlyYXRlLmNsYWltZWQgPSB0cnVlCiAgICAvLyB0aGlzLnBpcmF0ZXMocGlyYXRlS2V5KS52YWx1ZSA9IGNsb25lKHBpcmF0ZSkKICAgIHNldGJpdAogICAgcHVzaGludCA0MCAvLyA0MAogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDMyLTQzNgogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogcGlyYXRlQWRkci5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBjb25maWcucGFydGljaXBhdGlvbiwKICAgIC8vICAgICBmZWU6IDAKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQzNAogICAgLy8gYW1vdW50OiBjb25maWcucGFydGljaXBhdGlvbiwKICAgIHN3YXAKICAgIHB1c2hpbnQgMjQgLy8gMjQKICAgIGV4dHJhY3RfdWludDY0CiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0MzItNDM2CiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBwaXJhdGVBZGRyLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IGNvbmZpZy5wYXJ0aWNpcGF0aW9uLAogICAgLy8gICAgIGZlZTogMAogICAgLy8gfSkuc3VibWl0KCkKICAgIGludGNfMCAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQzNQogICAgLy8gZmVlOiAwCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDMyLTQzNgogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogcGlyYXRlQWRkci5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBjb25maWcucGFydGljaXBhdGlvbiwKICAgIC8vICAgICBmZWU6IDAKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAoKdGltZU91dF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUudGltZU91dEAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDExCiAgICAvLyBwdWJsaWMgdGltZU91dChzZXNzaW9uSUQ6IHVpbnQ2NCk6IHZvaWQgewogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKdGltZU91dF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ0MQogICAgLy8gaWYgKHN0YXRlLnBoYXNlID09PSAxIHx8IChzdGF0ZS5waGFzZSA9PT0gMCAmJiBjYW5QbGF5KSkgewogICAgZGlnIDEKICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYm56IHRpbWVPdXRfaWZfYm9keUA4CiAgICBkdXAKICAgIGFzc2VydCAvLyBOb3RoaW5nIHRvIHVubG9jayBpbiB0aGlzIHBoYXNlCiAgICBkaWcgMgogICAgYXNzZXJ0IC8vIE5vdGhpbmcgdG8gdW5sb2NrIGluIHRoaXMgcGhhc2UKCnRpbWVPdXRfaWZfYm9keUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NDMKICAgIC8vIGFzc2VydChHbG9iYWwucm91bmQgPiBjb25maWcuZW5kQ29tbWl0QXQsICdQcm9wb3NhbCBkZWFkbGluZSBub3QgcGFzc2VkIHlldCcpCiAgICBnbG9iYWwgUm91bmQKICAgIGRpZyA0CiAgICBpbnRjXzIgLy8gOAogICAgZXh0cmFjdF91aW50NjQKICAgID4KICAgIGFzc2VydCAvLyBQcm9wb3NhbCBkZWFkbGluZSBub3QgcGFzc2VkIHlldAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NDUKICAgIC8vIHRoaXMuZWxpbWluYXRlUGlyYXRlKHNlc3Npb25JRCwgc3RhdGUuY3VycmVudFByb3Bvc2VySW5kZXgpCiAgICBkaWcgNAogICAgZHVwCiAgICBpbnRjXzMgLy8gMzIKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMTAKICAgIHN3YXAKICAgIGNhbGxzdWIgZWxpbWluYXRlUGlyYXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ0NgogICAgLy8gc3RhdGUuYWxpdmVQaXJhdGVzIC09IDEKICAgIGR1cAogICAgcHVzaGludCAyNCAvLyAyNAogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICBpdG9iCiAgICByZXBsYWNlMiAyNAogICAgZHVwCiAgICBidXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDQ4CiAgICAvLyBpZiAoc3RhdGUuYWxpdmVQaXJhdGVzID09PSAxKSB7CiAgICBwdXNoaW50IDI0IC8vIDI0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBieiB0aW1lT3V0X2Vsc2VfYm9keUAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NDkKICAgIC8vIGNvbnN0IHN1cnZpdm9ySW5kZXggPSB0aGlzLmZpbmROZXh0QWxpdmVQaXJhdGUoc2Vzc2lvbklELCAwLCBzdGF0ZS50b3RhbFBpcmF0ZXMpCiAgICBkaWcgNAogICAgZHVwCiAgICBwdXNoaW50IDE2IC8vIDE2CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEwCiAgICBpbnRjXzEgLy8gMAogICAgZGlnIDIKICAgIGNhbGxzdWIgZmluZE5leHRBbGl2ZVBpcmF0ZQogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NTAKICAgIC8vIGNvbnN0IHRvdGFsU2l6ZSA6IHVpbnQ2NCA9IHN0YXRlLnRvdGFsUGlyYXRlcyAqIDgKICAgIHN3YXAKICAgIGludGNfMiAvLyA4CiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ1MQogICAgLy8gY29uc3Qgc3Vydml2b3JPZmZzZXQgOiB1aW50NjQgPSBzdXJ2aXZvckluZGV4ICogOAogICAgZGlnIDEKICAgIGludGNfMiAvLyA4CiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ1MgogICAgLy8gY29uc3Qgc3Vydml2b3JTaGFyZSA9IGl0b2Ioc3RhdGUucG90KQogICAgZGlnIDMKICAgIGV4dHJhY3QgNDAgOAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NTQKICAgIC8vIGNvbnN0IGJlZm9yZSA9IGJ6ZXJvKHN1cnZpdm9yT2Zmc2V0KQogICAgZGlnIDEKICAgIGJ6ZXJvCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ1NQogICAgLy8gY29uc3QgYWZ0ZXJPZmZzZXQgOiB1aW50NjQgPSBzdXJ2aXZvck9mZnNldCArIDgKICAgIHVuY292ZXIgMgogICAgaW50Y18yIC8vIDgKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDU2CiAgICAvLyBjb25zdCBhZnRlclNpemUgOiB1aW50NjQgPSB0b3RhbFNpemUgLSBhZnRlck9mZnNldAogICAgdW5jb3ZlciAzCiAgICBzd2FwCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ1NwogICAgLy8gY29uc3QgYWZ0ZXIgPSBiemVybyhhZnRlclNpemUpCiAgICBiemVybwogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NTkKICAgIC8vIGNvbnN0IGRpc3RyaWJ1dGlvbiA9IGJlZm9yZS5jb25jYXQoc3Vydml2b3JTaGFyZSkuY29uY2F0KGFmdGVyKQogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NjEtNDY2CiAgICAvLyB0aGlzLnByb3Bvc2FscyhzZXNzaW9uSUQpLnZhbHVlID0gewogICAgLy8gICAgICBwcm9wb3Nlcjogc3Vydml2b3JJbmRleCwKICAgIC8vICAgICAgZGlzdHJpYnV0aW9uOiBkaXN0cmlidXRpb24sCiAgICAvLyAgICAgIHZvdGVzRm9yOiAxLAogICAgLy8gICAgICB2b3Rlc0FnYWluc3Q6IDAKICAgIC8vIH0KICAgIHN3YXAKICAgIGl0b2IKICAgIGRpZyAxCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgYnl0ZWMgMTAgLy8gMHgwMDFhCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDY0CiAgICAvLyB2b3Rlc0ZvcjogMSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ2MS00NjYKICAgIC8vIHRoaXMucHJvcG9zYWxzKHNlc3Npb25JRCkudmFsdWUgPSB7CiAgICAvLyAgICAgIHByb3Bvc2VyOiBzdXJ2aXZvckluZGV4LAogICAgLy8gICAgICBkaXN0cmlidXRpb246IGRpc3RyaWJ1dGlvbiwKICAgIC8vICAgICAgdm90ZXNGb3I6IDEsCiAgICAvLyAgICAgIHZvdGVzQWdhaW5zdDogMAogICAgLy8gfQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ2NQogICAgLy8gdm90ZXNBZ2FpbnN0OiAwCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NjEtNDY2CiAgICAvLyB0aGlzLnByb3Bvc2FscyhzZXNzaW9uSUQpLnZhbHVlID0gewogICAgLy8gICAgICBwcm9wb3Nlcjogc3Vydml2b3JJbmRleCwKICAgIC8vICAgICAgZGlzdHJpYnV0aW9uOiBkaXN0cmlidXRpb24sCiAgICAvLyAgICAgIHZvdGVzRm9yOiAxLAogICAgLy8gICAgICB2b3Rlc0FnYWluc3Q6IDAKICAgIC8vIH0KICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjU5CiAgICAvLyBwcm9wb3NhbHMgPSBCb3hNYXA8dWludDY0LCBQcm9wb3NhbD4oeyBrZXlQcmVmaXg6ICdwcnAnIH0pCiAgICBieXRlY18zIC8vICJwcnAiCiAgICBkaWcgMTAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NjEtNDY2CiAgICAvLyB0aGlzLnByb3Bvc2FscyhzZXNzaW9uSUQpLnZhbHVlID0gewogICAgLy8gICAgICBwcm9wb3Nlcjogc3Vydml2b3JJbmRleCwKICAgIC8vICAgICAgZGlzdHJpYnV0aW9uOiBkaXN0cmlidXRpb24sCiAgICAvLyAgICAgIHZvdGVzRm9yOiAxLAogICAgLy8gICAgICB2b3Rlc0FnYWluc3Q6IDAKICAgIC8vIH0KICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ2NwogICAgLy8gc3RhdGUucGhhc2UgPSA0IC8vIEZpbmlzaGVkCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXRvYgogICAgcmVwbGFjZTIgMAogICAgYnVyeSA1Cgp0aW1lT3V0X2FmdGVyX2lmX2Vsc2VAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ4NgogICAgLy8gdGhpcy5nYW1lU3RhdGUoc2Vzc2lvbklEKS52YWx1ZSA9IGNsb25lKHN0YXRlKQogICAgZGlnIDUKICAgIGRpZyA1CiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQxMQogICAgLy8gcHVibGljIHRpbWVPdXQoc2Vzc2lvbklEOiB1aW50NjQpOiB2b2lkIHsKICAgIGIgdGltZU91dF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUudGltZU91dEAxMwoKdGltZU91dF9lbHNlX2JvZHlAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ2OQogICAgLy8gc3RhdGUuY3VycmVudFByb3Bvc2VySW5kZXggPSB0aGlzLmZpbmROZXh0QWxpdmVQaXJhdGUoc2Vzc2lvbklELCBzdGF0ZS5jdXJyZW50UHJvcG9zZXJJbmRleCArIDEsIHN0YXRlLnRvdGFsUGlyYXRlcykKICAgIGRpZyA0CiAgICBkdXAKICAgIGludGNfMyAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBkaWcgMQogICAgcHVzaGludCAxNiAvLyAxNgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxMQogICAgY292ZXIgMgogICAgY2FsbHN1YiBmaW5kTmV4dEFsaXZlUGlyYXRlCiAgICBpdG9iCiAgICByZXBsYWNlMiAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NzAKICAgIC8vIHN0YXRlLmN1cnJlbnRSb3VuZCArPSAxCiAgICBkdXAKICAgIGludGNfMiAvLyA4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDcyCiAgICAvLyBzdGF0ZS5waGFzZSA9IDEKICAgIGludGNfMCAvLyAxCiAgICBpdG9iCiAgICByZXBsYWNlMiAwCiAgICBkdXAKICAgIGJ1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0NzQKICAgIC8vIGNvbnN0IG5vdyA9IEdsb2JhbC5yb3VuZAogICAgZ2xvYmFsIFJvdW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ3NgogICAgLy8gY29uc3QgbmV3RW5kQ29tbWl0QXQgOiB1aW50NjQgPSBuZXdTdGFydEF0ICsgc3RhdGUuY29tbWl0RHVyYXRpb24KICAgIGRpZyAxCiAgICBwdXNoaW50IDQ4IC8vIDQ4CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDEKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDc3CiAgICAvLyBjb25zdCBuZXdFbmRSZXZlYWxBdCA6IHVpbnQ2NCA9IG5ld0VuZENvbW1pdEF0ICsgc3RhdGUucmV2ZWFsRHVyYXRpb24KICAgIHVuY292ZXIgMgogICAgcHVzaGludCA1NiAvLyA1NgogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ3OQogICAgLy8gY29uZmlnLnN0YXJ0QXQgPSBuZXdTdGFydEF0CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGRpZyA2CiAgICBzd2FwCiAgICByZXBsYWNlMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjQ4MAogICAgLy8gY29uZmlnLmVuZENvbW1pdEF0ID0gbmV3RW5kQ29tbWl0QXQKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgcmVwbGFjZTIgOAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0ODEKICAgIC8vIGNvbmZpZy5lbmRSZXZlYWxBdCA9IG5ld0VuZFJldmVhbEF0CiAgICBzd2FwCiAgICBpdG9iCiAgICByZXBsYWNlMiAxNgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0ODMKICAgIC8vIHRoaXMuZ2FtZVNlc3Npb25zKHNlc3Npb25JRCkudmFsdWUgPSBjbG9uZShjb25maWcpCiAgICBkaWcgNwogICAgc3dhcAogICAgYm94X3B1dAogICAgYiB0aW1lT3V0X2FmdGVyX2lmX2Vsc2VAMTEKCgovLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldEdhbWVUeXBlW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0R2FtZVR5cGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4OAogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVR5cGUudmFsdWUKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo1MgogICAgLy8gZ2FtZVR5cGUgPSBHbG9iYWxTdGF0ZTxieXRlcz4oeyBpbml0aWFsVmFsdWU6IEJ5dGVzKCcnKSB9KQogICAgYnl0ZWMgNCAvLyAiZ2FtZVR5cGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4OAogICAgLy8gcmV0dXJuIHRoaXMuZ2FtZVR5cGUudmFsdWUKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo4NwogICAgLy8gcHVibGljIGdldEdhbWVUeXBlKCk6IGJ5dGVzIHsKICAgIGR1cAogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgc3dhcAogICAgY29uY2F0CiAgICBieXRlYyA3IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OkdhbWVDb250cmFjdC5pbml0aWFsaXplW3JvdXRpbmddKCkgLT4gdm9pZDoKaW5pdGlhbGl6ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjkyCiAgICAvLyBwdWJsaWMgaW5pdGlhbGl6ZShnYW1lVHlwZTogc3RyaW5nKTogdm9pZCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBwdXNoaW50IDIgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICBleHRyYWN0IDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6OTMKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVUeXBlLnZhbHVlLmxlbmd0aCA9PT0gMCwgJ0NvbnRyYWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQnKQogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjUyCiAgICAvLyBnYW1lVHlwZSA9IEdsb2JhbFN0YXRlPGJ5dGVzPih7IGluaXRpYWxWYWx1ZTogQnl0ZXMoJycpIH0pCiAgICBieXRlYyA0IC8vICJnYW1lVHlwZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjkzCiAgICAvLyBhc3NlcnQodGhpcy5nYW1lVHlwZS52YWx1ZS5sZW5ndGggPT09IDAsICdDb250cmFjdCBhbHJlYWR5IGluaXRpYWxpemVkJykKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBsZW4KICAgICEKICAgIGFzc2VydCAvLyBDb250cmFjdCBhbHJlYWR5IGluaXRpYWxpemVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo5NAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IEdsb2JhbC5jcmVhdG9yQWRkcmVzcywgJ09ubHkgY3JlYXRvciBjYW4gaW5pdGlhbGl6ZScpCiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBjcmVhdG9yIGNhbiBpbml0aWFsaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo1MgogICAgLy8gZ2FtZVR5cGUgPSBHbG9iYWxTdGF0ZTxieXRlcz4oeyBpbml0aWFsVmFsdWU6IEJ5dGVzKCcnKSB9KQogICAgYnl0ZWMgNCAvLyAiZ2FtZVR5cGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo5NQogICAgLy8gdGhpcy5nYW1lVHlwZS52YWx1ZSA9IEJ5dGVzKGdhbWVUeXBlKQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjkyCiAgICAvLyBwdWJsaWMgaW5pdGlhbGl6ZShnYW1lVHlwZTogc3RyaW5nKTogdm9pZCB7CiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo6UGlyYXRlR2FtZS5lbGltaW5hdGVQaXJhdGUoc2Vzc2lvbklEOiB1aW50NjQsIHNlbmlvcml0eUluZGV4OiB1aW50NjQpIC0+IHZvaWQ6CmVsaW1pbmF0ZVBpcmF0ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzUxCiAgICAvLyBwcml2YXRlIGVsaW1pbmF0ZVBpcmF0ZShzZXNzaW9uSUQ6IHVpbnQ2NCwgc2VuaW9yaXR5SW5kZXg6IHVpbnQ2NCk6IHZvaWQgewogICAgcHJvdG8gMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM1MgogICAgLy8gY29uc3QgbGlzdEJ5dGVzID0gdGhpcy5waXJhdGVMaXN0KHNlc3Npb25JRCkudmFsdWUKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1OAogICAgLy8gcGlyYXRlTGlzdCA9IEJveE1hcDx1aW50NjQsIGJ5dGVzPih7IGtleVByZWZpeDogJ3BscycgfSkKICAgIGJ5dGVjIDYgLy8gInBscyIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzUyCiAgICAvLyBjb25zdCBsaXN0Qnl0ZXMgPSB0aGlzLnBpcmF0ZUxpc3Qoc2Vzc2lvbklEKS52YWx1ZQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzUzCiAgICAvLyBjb25zdCBvZmZzZXQgOiB1aW50NjQgPSBzZW5pb3JpdHlJbmRleCAqIDMyCiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMyAvLyAzMgogICAgKgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNTQKICAgIC8vIGNvbnN0IGFkZHJCeXRlcyA9IG9wLmV4dHJhY3QobGlzdEJ5dGVzLCBvZmZzZXQsIDMyKQogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGNvbmNhdAogICAgc2hhMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjU3CiAgICAvLyBwaXJhdGVzID0gQm94TWFwPGJ5dGVzLCBQaXJhdGU+KHsga2V5UHJlZml4OiAncGlyJyB9KQogICAgYnl0ZWNfMCAvLyAicGlyIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM1OC0zNjAKICAgIC8vIGNvbnN0IHBpcmF0ZSA9IGNsb25lKHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlKQogICAgLy8gcGlyYXRlLmFsaXZlID0gZmFsc2UKICAgIC8vIHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlID0gY2xvbmUocGlyYXRlKQogICAgZHVwCiAgICBwdXNoaW50IDQwIC8vIDQwCiAgICBpbnRjXzAgLy8gMQogICAgYm94X2V4dHJhY3QKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM1OQogICAgLy8gcGlyYXRlLmFsaXZlID0gZmFsc2UKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNTgtMzYwCiAgICAvLyBjb25zdCBwaXJhdGUgPSBjbG9uZSh0aGlzLnBpcmF0ZXMocGlyYXRlS2V5KS52YWx1ZSkKICAgIC8vIHBpcmF0ZS5hbGl2ZSA9IGZhbHNlCiAgICAvLyB0aGlzLnBpcmF0ZXMocGlyYXRlS2V5KS52YWx1ZSA9IGNsb25lKHBpcmF0ZSkKICAgIHNldGJpdAogICAgcHVzaGludCA0MCAvLyA0MAogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuZmluZE5leHRBbGl2ZVBpcmF0ZShzZXNzaW9uSUQ6IHVpbnQ2NCwgc3RhcnRJbmRleDogdWludDY0LCB0b3RhbFBpcmF0ZXM6IHVpbnQ2NCkgLT4gdWludDY0OgpmaW5kTmV4dEFsaXZlUGlyYXRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNjMKICAgIC8vIHByaXZhdGUgZmluZE5leHRBbGl2ZVBpcmF0ZShzZXNzaW9uSUQ6IHVpbnQ2NCwgc3RhcnRJbmRleDogdWludDY0LCB0b3RhbFBpcmF0ZXM6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICBwcm90byAzIDEKICAgIHB1c2hieXRlcyAiIgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNjQKICAgIC8vIGNvbnN0IGxpc3RCeXRlcyA9IHRoaXMucGlyYXRlTGlzdChzZXNzaW9uSUQpLnZhbHVlCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1OAogICAgLy8gcGlyYXRlTGlzdCA9IEJveE1hcDx1aW50NjQsIGJ5dGVzPih7IGtleVByZWZpeDogJ3BscycgfSkKICAgIGJ5dGVjIDYgLy8gInBscyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNjQKICAgIC8vIGNvbnN0IGxpc3RCeXRlcyA9IHRoaXMucGlyYXRlTGlzdChzZXNzaW9uSUQpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIC0yCgpmaW5kTmV4dEFsaXZlUGlyYXRlX3doaWxlX3RvcEAxOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNjUKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IHN0YXJ0SW5kZXg7IGkgPCB0b3RhbFBpcmF0ZXM7IGkrKykgewogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2RpZyAtMQogICAgPAogICAgYnogZmluZE5leHRBbGl2ZVBpcmF0ZV9hZnRlcl93aGlsZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM2NgogICAgLy8gY29uc3Qgb2Zmc2V0IDogdWludDY0ID0gaSAqIDMyCiAgICBmcmFtZV9kaWcgMwogICAgaW50Y18zIC8vIDMyCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM2NwogICAgLy8gY29uc3QgYWRkckJ5dGVzID0gb3AuZXh0cmFjdChsaXN0Qnl0ZXMsIG9mZnNldCwgMzIpCiAgICBmcmFtZV9kaWcgMgogICAgc3dhcAogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGZyYW1lX2RpZyAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NwogICAgLy8gcGlyYXRlcyA9IEJveE1hcDxieXRlcywgUGlyYXRlPih7IGtleVByZWZpeDogJ3BpcicgfSkKICAgIGJ5dGVjXzAgLy8gInBpciIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNzAKICAgIC8vIGNvbnN0IHBpcmF0ZSA9IGNsb25lKHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlKQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzcxCiAgICAvLyBpZiAocGlyYXRlLmFsaXZlKSByZXR1cm4gaQogICAgaW50YyA0IC8vIDMyMAogICAgZ2V0Yml0CiAgICBieiBmaW5kTmV4dEFsaXZlUGlyYXRlX2FmdGVyX2lmX2Vsc2VANAogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpmaW5kTmV4dEFsaXZlUGlyYXRlX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzY1CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSBzdGFydEluZGV4OyBpIDwgdG90YWxQaXJhdGVzOyBpKyspIHsKICAgIGZyYW1lX2RpZyAzCiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAzCiAgICBiIGZpbmROZXh0QWxpdmVQaXJhdGVfd2hpbGVfdG9wQDEKCmZpbmROZXh0QWxpdmVQaXJhdGVfYWZ0ZXJfd2hpbGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzczCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgc3RhcnRJbmRleDsgaSsrKSB7CiAgICBpbnRjXzEgLy8gMAogICAgZnJhbWVfYnVyeSAwCgpmaW5kTmV4dEFsaXZlUGlyYXRlX3doaWxlX3RvcEA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNzMKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBzdGFydEluZGV4OyBpKyspIHsKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGZyYW1lX2RpZyAtMgogICAgPAogICAgYXNzZXJ0IC8vIE5vIGFsaXZlIHBpcmF0ZSBmb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNzQKICAgIC8vIGNvbnN0IG9mZnNldCA6IHVpbnQ2NCA9IGkgKiAzMgogICAgaW50Y18zIC8vIDMyCiAgICAqCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM3NQogICAgLy8gY29uc3QgYWRkckJ5dGVzID0gb3AuZXh0cmFjdChsaXN0Qnl0ZXMsIG9mZnNldCwgMzIpCiAgICBmcmFtZV9kaWcgMgogICAgc3dhcAogICAgaW50Y18zIC8vIDMyCiAgICBleHRyYWN0MwogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MjMwCiAgICAvLyByZXR1cm4gc2hhMjU2KGl0b2Ioc2Vzc2lvbklEKS5jb25jYXQocGxheWVyLmJ5dGVzKSkKICAgIGZyYW1lX2RpZyAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTI1NgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo1NwogICAgLy8gcGlyYXRlcyA9IEJveE1hcDxieXRlcywgUGlyYXRlPih7IGtleVByZWZpeDogJ3BpcicgfSkKICAgIGJ5dGVjXzAgLy8gInBpciIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozNzgKICAgIC8vIGNvbnN0IHBpcmF0ZSA9IGNsb25lKHRoaXMucGlyYXRlcyhwaXJhdGVLZXkpLnZhbHVlKQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6Mzc5CiAgICAvLyBpZiAocGlyYXRlLmFsaXZlKSByZXR1cm4gaQogICAgaW50YyA0IC8vIDMyMAogICAgZ2V0Yml0CiAgICBieiBmaW5kTmV4dEFsaXZlUGlyYXRlX2FmdGVyX2lmX2Vsc2VAOQogICAgcmV0c3ViCgpmaW5kTmV4dEFsaXZlUGlyYXRlX2FmdGVyX2lmX2Vsc2VAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzczCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgc3RhcnRJbmRleDsgaSsrKSB7CiAgICBmcmFtZV9kaWcgMAogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMAogICAgYiBmaW5kTmV4dEFsaXZlUGlyYXRlX3doaWxlX3RvcEA2CgoKLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo6UGlyYXRlR2FtZS5nZXRSZXF1aXJlZE1CUihjb21tYW5kOiBieXRlcykgLT4gdWludDY0OgpzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjpQaXJhdGVHYW1lLmdldFJlcXVpcmVkTUJSOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozODQKICAgIC8vIHB1YmxpYyBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicgfCAnY29tbWl0Vm90ZScpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM4NQogICAgLy8gaWYgKGNvbW1hbmQgPT09ICduZXdHYW1lJykgewogICAgZnJhbWVfZGlnIC0xCiAgICBieXRlYyA1IC8vICJuZXdHYW1lIgogICAgPT0KICAgIGJ6IHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuZ2V0UmVxdWlyZWRNQlJfZWxzZV9ib2R5QDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6MzkxCiAgICAvLyBjb25zdCBwYXJlbnRNQlIgPSBzdXBlci5nZXRSZXF1aXJlZE1CUignbmV3R2FtZScpCiAgICBieXRlYyA1IC8vICJuZXdHYW1lIgogICAgY2FsbHN1YiBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSCiAgICAvLyBzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjM5MgogICAgLy8gcmV0dXJuIGdhbWVTdGF0ZU1CUiArIHBpcmF0ZUxpc3RNQlIgKyBwcm9wb3NhbHNNQlIgKyBwYXJlbnRNQlIKICAgIHB1c2hpbnQgMzc5MTAwIC8vIDM3OTEwMAogICAgKwogICAgcmV0c3ViCgpzbWFydF9jb250cmFjdHMvcGlyYXRlR2FtZS9jb250cmFjdC5hbGdvLnRzOjpQaXJhdGVHYW1lLmdldFJlcXVpcmVkTUJSX2Vsc2VfYm9keUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czozOTQKICAgIC8vIGVsc2UgaWYgKGNvbW1hbmQgPT09ICdqb2luJykgewogICAgZnJhbWVfZGlnIC0xCiAgICBieXRlYyA4IC8vICJqb2luIgogICAgPT0KICAgIGJ6IHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6OlBpcmF0ZUdhbWUuZ2V0UmVxdWlyZWRNQlJfZWxzZV9ib2R5QDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjE4MQogICAgLy8gcmV0dXJuIDI1MDAgKyA0MDAgKiAoa2V5U2l6ZSArIHZhbHVlU2l6ZSkKICAgIHB1c2hpbnQgMzMzMDAgLy8gMzMzMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDAzCiAgICAvLyByZXR1cm4gc3VwZXIuZ2V0Qm94TUJSKDM1LCA0MikKICAgIHJldHN1YgoKc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo6UGlyYXRlR2FtZS5nZXRSZXF1aXJlZE1CUl9lbHNlX2JvZHlANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9waXJhdGVHYW1lL2NvbnRyYWN0LmFsZ28udHM6NDA1CiAgICAvLyBlbHNlIGlmIChjb21tYW5kID09PSAnY29tbWl0Vm90ZScpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgYnl0ZWMgMTMgLy8gImNvbW1pdFZvdGUiCiAgICA9PQogICAgYXNzZXJ0IC8vIEludmFsaWQgY29tbWFuZAogICAgLy8gc21hcnRfY29udHJhY3RzL3BpcmF0ZUdhbWUvY29udHJhY3QuYWxnby50czo0MDYKICAgIC8vIHJldHVybiBzdXBlci5nZXRSZXF1aXJlZE1CUignam9pbicpCiAgICBieXRlYyA4IC8vICJqb2luIgogICAgY2FsbHN1YiBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSKGNvbW1hbmQ6IGJ5dGVzKSAtPiB1aW50NjQ6CnNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODcKICAgIC8vIHByb3RlY3RlZCBnZXRSZXF1aXJlZE1CUihjb21tYW5kOiAnbmV3R2FtZScgfCAnam9pbicpOiB1aW50NjQgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxODgKICAgIC8vIGlmIChjb21tYW5kID09PSAnbmV3R2FtZScpIHsKICAgIGZyYW1lX2RpZyAtMQogICAgYnl0ZWMgNSAvLyAibmV3R2FtZSIKICAgID09CiAgICBieiBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czo6R2FtZUNvbnRyYWN0LmdldFJlcXVpcmVkTUJSX2Vsc2VfYm9keUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTMKICAgIC8vIHJldHVybiBjb25maWdNQlIgKyBiYWxhbmNlTUJSCiAgICBwdXNoaW50IDQyNjAwIC8vIDQyNjAwCiAgICByZXRzdWIKCnNtYXJ0X2NvbnRyYWN0cy9hYnN0cmFjdF9jb250cmFjdC9jb250cmFjdC5hbGdvLnRzOjpHYW1lQ29udHJhY3QuZ2V0UmVxdWlyZWRNQlJfZWxzZV9ib2R5QDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYWJzdHJhY3RfY29udHJhY3QvY29udHJhY3QuYWxnby50czoxOTQKICAgIC8vIH0gZWxzZSBpZiAoY29tbWFuZCA9PT0gJ2pvaW4nKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGJ5dGVjIDggLy8gImpvaW4iCiAgICA9PQogICAgYXNzZXJ0IC8vIENvbW1hbmQgbm90IHN1cHBvcnRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTgxCiAgICAvLyByZXR1cm4gMjUwMCArIDQwMCAqIChrZXlTaXplICsgdmFsdWVTaXplKQogICAgcHVzaGludCAyOTcwMCAvLyAyOTcwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2Fic3RyYWN0X2NvbnRyYWN0L2NvbnRyYWN0LmFsZ28udHM6MTk2CiAgICAvLyByZXR1cm4gdGhpcy5nZXRCb3hNQlIoMzYsIDMyKQogICAgcmV0c3ViCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyAFAQAIIMACJg8DcGlyAmdzA2dzdANwcnAIZ2FtZVR5cGUHbmV3R2FtZQNwbHMEFR98dQRqb2luEHNlc3Npb25JRENvdW50ZXICABoDBoEBBHNiYWwKY29tbWl0Vm90ZQRwY29tMRhAAAknBIAAZycJI2cxG0EAXDEZFEQxGESCCwR6psgiBPRxCk8EsbWkAwQnUjnWBBe7GhcEOniWvgR0vviHBJ5KOuUEv6CuCwRWg+4IBOzzOec2GgCOCwBGAScCCAL7A4cEoAXVBk4GagfSB+YAMRkUMRgUEEQiQ4oCAIv+gQoIiwAyDA1BACqxgQayEIEFshknC7IeJwuyH4v/jQIACwAEs0L/2zIAsgFC//UjsgFC/++JNhoBSRUlEkQxFiIJSTgQIhJENhoCSRUkEkQXSYEDD0EAu0mBFA5BALQiREsCSYEYW4HAhD0PRCcFiAgZSwNJOAcyChJEOAgOREkjW0sBJFtKDkRLAoEQW0oMREsCMgYPRCMnCWVESRYpSwFQTwa/JwxLAVAjFr9MIggnCUxnSwJPBAlPAk8DCUwWgDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMUEwWUCpLAlBMv0sBJQuvJwZLAlBJvEhMvycHTFCwIkMjQv9JNhoBSRUkEkQXMRaBAglJOBAiEkQxFiIJSTgQIhJETwIWKUsBUEm9RQFEKksCUEm+REsCvkgyBkwjWwxESSNbFERJgRBbSYEUDEQxAEsFSwFQAShMUEm9RQEURCcIiAcUSwg4BzIKEkRPCDgIDkQnBksHUEm+RBUlCksEDURLBr1FAURPBr5ISwg4BzIKEkRPCDgITIEYW0sBEkQnDE8IUEm+RBdLAggWv0sEFksETFCAAYBQTwNMv0sDJQtPAkxPA7tMIggWTwJMXBBJgRhbIggWXBhJgShbTwIIFlwovyJDgABHBDYaAUkVJBJEFzYaAkkjWYECCEsBFRJEVwIATIHoByOI/d0WSSlLAVBJvUUBRCpLAlBJTgO+TElOBE4ERL5IMgZMI1sPRDEAUAEoTFBJTgK9RQFEI1tAABBLAUmBEFuBAw9EIhZcAEUCSwFJI1siEkRLAb5ESSEEU0QlW0sBJVtJRQoSRIEQW0lFByQLSwUVSUULEkQjRQgjRQpLCUsGDEEAFUsJSSQLSwZMW0sJCEUJIghFCkL/40sBSYEoW0sJEkRLBxZLChZXBgJLB1BMJwpQIxZMSwFQTFBMUCtLBlBJvEhMv4ECFlwASwNMvyJDNhoBSRUkEkQXNhoCSSNZgQIISwEVEkRXAgAxFiIJSTgQIhJETwIWKUsBUEm9RQFEKksCUL5ETL5ITEkjW4ECEkQyBk8CJFsOREsBMQBQAShMUEm9RQFEvkghBFNEJw2IBT5LAzgHMgoSRE8DOAgORFcICDEATgJQTFABJw5MUEm9RQEUREm8SEy/IkMjRwKAAEk2GgFJFSQSRBc2GgJJFSQSRBdJTgI2GgNJI1mBAghLARUSRFcCAE4CTBZJTgIpTFBJTgK9RQFEQQAHSwMiEkEAziJEKksCUElFCr5MSU4CRQlESwG+RDIGSwEkWw1EMgZMgRBbDkQjW0lFBoECEklFB0AACEsEgQMSQQCPIkQxAEsCSU8CUAEoTFC+RCEEU0RLB1cICDEASwJPAlBMUAEnDksBUEm9RQFESb5ISwdJTgQWSUsJUAFPAhJEgARwY2hvTwNQTL+8SCtPAlBJRQq+TE4CRCISQQAjSwiBCiS6FyIIFlwKSwhJvEhMv0sFQQAJgQMWSwkjTwK7IkNLCIESJLoXIggWXBJC/9ojQv9uI0L/LzYaAUkVJBJEF0mB0A8jiPtaFilLAVBJTgJJvUUBRCpLAlBJTgO+TElOAk4EREy+SElOAk4DSSNbgQMSRDIGTwKBEFsNRCtPAlBJTwKBGFtJTwKBCiS6F0wiCIECCg9BAAuBBBZLBSNPArsiQ0sDSSVbSwhMiAL0SwEiCRZcGElFBYEYWyISQQBfSwNJgRBbSwgjSwKIAvlMJAtLASQLSwNXKAhLAa9PAiQITwNMCa9MTwJQTFBMFksBFRZXBgJPAlBMJwpQIhZQIxZQTFBLA0m8SEy/gQQWXABFBEsFSwO/SwRLBL9C/4JLA0klWyIISwGBEFtLCU4CiAKVFlwgSSRbIggWXAgiFlwASUUFMgZLAYEwW0sBCE8CgThbSwEITwIWSwVMXABPAhZcCEwWXBBFA0L/pjYaAUkVJBJEFxYpSwFQvUUBRCpLAVC+RCNbgQQSRDEASlABKExQSb1FAURJvkhJgcECUxREK08EUL5ETCVbJAtLASRZSwIVTwNOAlJXAgBMW0lESwGBKCK6IklUTwKBKE8Cu7FJsghMsgcishAjsgGzFicHTFCwIkM2GgFJI1mBAghLARUSRFcCAIgCORYnB0xQsCJDNhoBSRUkEkQXSYHQDyOI+ZAWSSlLAVBJTgJJvUUBRCpPAlBJTgK+TElOAk4DREy+SExJgRBbgQMPTCNbRwIUTEAAR0sCQABCMgZLBElOAiNbD0QxAEsJSwFQAShMUEm9RQFESb5IgcECUxRESYEoIroiSVSBKEy7sUyBGFuyCLIHIrIQI7IBsyJDSwEiEkAABUlESwJEMgZLBCRbDURLBEklW0sKTIgA+EmBGFsiCRZcGElFBoEYWyISQQBcSwRJgRBbSwojSwKIAPtMJAtLASQLSwNXKAhLAa9PAiQITwNMCa9MTwJQTFBMFksBFRZXBgJPAlBMJwpQIhZQIxZQTFArSwpQSbxITL+BBBZcAEUFSwVLBb9C/29LBEklWyIISwGBEFtLC04CiACaFlwgSSRbIggWXAgiFlwASUUGMgZLAYEwW0sBCE8CgThbSwEITwIWSwZMXABPAhZcCEwWXBBLB0y/Qv+pIycEZURJFRZXBgJMUCcHTFCwIkM2GgFJI1mBAghLARUSRFcCACMnBGVEFRREMQAyCRJEJwRMZyJDigIAi/4WJwZLAVC+RIv/JQslWFABKExQSYEoIrojSVSBKEy7iYoDAYAAi/0WSScGTFC+RIv+iwOL/wxBACeLAyULiwJMJViLAUxQAShMUL5EIQRTQQAFiwOMAImLAyIIjANC/9EjjACLAEmL/gxEJQuLAkwlWIsBTFABKExQvkQhBFNBAAGJiwAiCIwAQv/YigEBi/8nBRJBAAsnBYgAH4HckRcIiYv/JwgSQQAFgZSEAomL/ycNEkQnCIgAAYmKAQGL/ycFEkEABYHozAKJi/8nCBJEgYToAYk=",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 3,
            "patch": 2
        }
    },
    "events": [],
    "templateVariables": {}
}